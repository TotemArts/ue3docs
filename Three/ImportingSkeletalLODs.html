<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title> UDK | ImportingSkeletalLODs    </title>

<style type="text/css" media="all">@import "rsrc/twiki_webs.css";</style>
<style type="text/css" media="all">@import "rsrc/udn_new.css";</style>
<link rel="icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />


<!-- view.static_udn3.tmpl  -->
<script language="JavaScript" type="text/javascript" src="rsrc/udn.js"></script>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

</head>
<p />
<body id="webbgThree">
<p />

<p />
<div id="webThree"><div id="head">
<!--
<div class="header">
 -->
<div style="background: url(/pub/webbg_udn.jpg); background-repeat: no-repeat; height:140px; width: 100%;" >
<!--
<div style="background: transparent url(/pub/udn_header_bg.jpg); background-repeat: repeat-x; height:140px; width: 100%; margin-left: 991px;">
 -->
<p />
<div id="nav">
<ul class="nav">
<font color=black>|</font>&nbsp;&nbsp;<li class=nav_Three><a href="../Main/WebHome.html" class="twikiLink">Main</a></li><font color=black>|</font><li class=nav_Three><a href="../Two/WebHome.html" class="twikiLink">UnrealEngine2</a></li><font color=black>|</font><li class=nav_Three><a href="WebHome.html" class="twikiLink">UnrealEngine3</a></li><font color=black>|</font><li class=nav_Three><a href="https://docs.unrealengine.com" class="twikiLink">UnrealEngine4</a></li><font color=black>|</font><li class=nav_Three><a href="../Main/BusinessAndLegal.html" class="twikiLink">Business &amp; Legal</a></li><font color=black>|</font>
</ul><br><br><br>
</div>
</div>
</div> <!-- end head -->
<div id="pagedefault">
<div id="maincol">
<div id="tool">
<div id="tooltop">UDN</div>
<div id="tooltext" style="padding: 10px 10px 10px 10px;">
Search public documentation: <br>
<form ACTION="/search/index.php" METHOD="GET" NAME="main" ID="main">
<input TYPE="TEXT" NAME="q" SIZE="15" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;">
<input TYPE="SUBMIT" VALUE="Search" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;"><br>
</form>
</div>
<div id="toolband">ImportingSkeletalLODs  </b></div>
<div id="tooltext">
<a href="ImportingSkeletalLODsJP.html" class="twikiLink">日本語訳</a><br><a href="ImportingSkeletalLODsCH.html" class="twikiLink">中国翻译</a><br><a href="ImportingSkeletalLODsKR.html" class="twikiLink">한국어</a><br>

<!-- Three/ImportingSkeletalLODs -->
<hr size="1" noshade="noshade" />
Interested in the Unreal Engine? <br>
Visit the <a href="http://www.unrealtechnology.com" target="_top">Unreal Technology</a> site.<br>
<br>
Looking for jobs and company info? <br>
Check out the <a href="http://www.epicgames.com" target="_top">Epic games</a> site.<br>
<br>
Questions about support via UDN? <br>
Contact the <a href="../Main/ContactUDNStaff.html" class="twikiLink">UDN Staff</a> <br>
<br>
</div> <!-- end toolbox content -->
<div id="toolbottom"></div>
</div> <!-- end tool -->
<p />
<noautolink>
<div style="padding:0px 0px 0px 4px;font:10px Verdana;">
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="SkeletalMeshHome.html" class="twikiLink">Skeletal Meshes</a></b> &gt; Importing Skeletal LODs <br/>
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="CharacterArtistHome.html" class="twikiLink">Character Artist</a></b> &gt; Importing Skeletal LODs
</div>
<hr size="1" noshade="noshade">
<h1><a name="Importing Skeletal LODs"></a> Importing Skeletal LODs </h1>
<hr size="1" noshade="noshade">
<p />
<div class="twikiToc"> <ul>
<li> <a href="ImportingSkeletalLODs.html#Importing Skeletal LODs"> Importing Skeletal LODs</a> <ul>
<li> <a href="ImportingSkeletalLODs.html#Overview"> Overview</a>
</li> <li> <a href="ImportingSkeletalLODs.html#Lower LOD mesh requirements"> Lower LOD mesh requirements</a>
</li> <li> <a href="ImportingSkeletalLODs.html#Viewing LODs"> Viewing LODs</a>
</li> <li> <a href="ImportingSkeletalLODs.html#Importing a LOD"> Importing a LOD</a>
</li> <li> <a href="ImportingSkeletalLODs.html#Configuring An LOD"> Configuring An LOD</a>
</li> <li> <a href="ImportingSkeletalLODs.html#Materials and LODs"> Materials and LODs</a>
</li> <li> <a href="ImportingSkeletalLODs.html#LOD, Sockets and _PhysicsAssets"> LOD, Sockets and PhysicsAssets</a>
</li></ul>
</li></ul>
</div>
<p />
<h2><a name="Overview"></a> Overview </h2>
<hr size="1" noshade="noshade">
Because updating all the bones and vertices of a skeletal mesh can be quite expensive, Unreal Engine 3 can render different LOD (Level Of Detail) versions of the skeletal mesh relative to the distance that the skeletal mesh is seen from. This can be a significant optimization when rendering many skeletal meshes in a scene.
<p />
Unreal Engine 2 used to automatically generate lower polygom versions of a skeletal mesh, but this functionality was removed as the results were often far worse than artist created LODs.
<p />
Unreal Engine 3 supports both Mesh and Bone LOD for skeletal meshes. There is no tool that automatically generates lower LOD meshes; this must be done by an artist in the content creation package used in the work pipeline. The artist created meshes are then imported into an existing skeletal mesh using the <a href="AnimSetEditorUserGuide.html" class="twikiLink">AnimSet Editor</a>. From there, you control at what distance that LOD is used in the game. When rendering a lower LOD version of a mesh, the animation system will only animate and update the bones required.
<p />
<h2><a name="Lower LOD mesh requirements"></a> Lower LOD mesh requirements </h2>
<hr size="1" noshade="noshade">
When you import a lower LOD version of a mesh, there are some requirements you must meet to use a mesh as an LOD for another:
<p /> <ul>
<li> When removing bones, they can only be removed from the ends of the hierarchy. So removing fingers is a good idea for an LOD, but you cannot remove bones from the spine for example.
</li> <li> The root bone for the base mesh and the LOD should be the same.
</li> <li> The hierarchy of the base mesh and the LOD must be the same.
</li></ul>
<p />
It is often a good idea to only have one influence per vertex in lower LOD versions of a mesh, as this reduces the skinning cost. A warning will pop up if you import an LOD with 'soft' vertices in it, though this warning can be disabled in your games's Editor.ini file (the CheckSingleInfluenceLOD flag in the AnimSetViewer section).
<p />
<h2><a name="Viewing LODs"></a> Viewing LODs </h2>
<hr size="1" noshade="noshade">
<p />
There are some buttons on the toolbar of the AnimSetViewer that allow you to see how the different LOD levels for a mesh look:
<p />
<img alt="LODButtons.jpg" src="rsrc/Three/ImportingSkeletalLODs/LODButtons.jpg" />
<p /> <ul>
<li> <strong>Auto</strong> - Select the LOD level to use automatically, based on the size of the mesh on the screen. This allows you to preview how the mesh will look in-game.
</li> <li> <strong>B</strong> - Force the display to use the `Base' mesh (ie LOD 0).
</li> <li> <strong>1</strong> - Force the display to use LOD 1.
</li> <li> <strong>2</strong> - Force the display to use LOD 2.
</li> <li> <strong>3</strong> - Force the display to use LOD 3.
</li></ul>
<p />
Sometimes 1, 2 and 3 are grayed out because there is no LOD mesh imported for that level.
<p />
There is also some information at the top of the 3D viewport showing the currently used LOD, as well as its vertex and bone count. If you have Show Bones or Show Bone Name turned on in the AnimSet Editor, it will only display bones being updated for the currently displayed LOD.
<p />
<img src="rsrc/Three/ImportingSkeletalLODs/SkeletalLODCathode.jpg" alt="SkeletalLODCathode.jpg" width='800' height='369' />
<p />
<h2><a name="Importing a LOD"></a> Importing a LOD </h2>
<hr size="1" noshade="noshade">
First open the AnimSetViewer with the SkeletalMesh that you want to add an LOD to. Then under the `File' menu select `Import Mesh LOD'. You will be asked to specify the PSK file that contains the lower-detail version of that mesh. Once you have selected the .PSK to import, a combo box will pop up allowing you to choose which LOD level to import this mesh as. LOD 0 is the `base', or highest poly mesh. LOD 1 is the first step down and so on. Importing at an LOD that already exists will replace the existing LOD mesh.
<p />
If your import goes successfully and does not generate any errors, you can press the appropriate `Force LOD' button on the toolbar to see if your mesh came in correctly.
<p />
<h2><a name="Configuring An LOD"></a> Configuring An LOD </h2>
<hr size="1" noshade="noshade">
There are some settings you will need to adjust for your LOD to work properly. Each LOD level has an entry in the LODInfo array under the Mesh tab on the right.
<p />
<img alt="LODInfo.jpg" src="rsrc/Three/ImportingSkeletalLODs/LODInfo.jpg" />
<p />
You can ignore entry 0 in this array, as that is the Base mesh LOD entry.
<p /> <ul>
<li> <strong>DisplayFactor</strong> - This controls how big the mesh must be on screen before that LOD is used. A smaller number means the LOD will be used when the mesh is further away. You can see the current DisplayFactor for the preview of the mesh at the top of the 3D window. The DisplayFactor for each successive LOD level should be smaller than the last.
</li> <li> <strong>LODHysteresis</strong> - To avoid meshes flickering between two LOD levels when right on the boundary between them, this parameter allows you to introduce some `bias' when transitioning from simple to complex versions.
</li> <li> <strong>LODMaterialMap</strong> - LOD versions of a mesh must use the same materials as the base mesh. However, when you import a mesh the materials may be imported in a different order. This array allows you to choose which element of the SkeletalMesh's Materials array maps to each section of the LOD.
</li></ul>
<p />
<h2><a name="Materials and LODs"></a> Materials and LODs </h2>
<hr size="1" noshade="noshade">
The easiest way to set up an LOD is to have it use the same materials as the Base mesh. Because each SkeletalMeshComponent (instance of a skeletal mesh) has its own Materials array which allows you to override materials in the SkeletalMesh Materials array, you want to keep all the materials you use at any LOD in that array. An example of per instance override would be applying different team skins or faces. However, if you do want to create an LOD which uses a material not used by the base mesh, this is still possible. Add a new element to the Materials array in the SkeletalMesh, which will be unsused by the base mesh, and put the new material there. Then use the LODMaterialMap for that LOD to point to that new slot.
<p />
<h2><a name="LOD, Sockets and _PhysicsAssets"></a> LOD, Sockets and PhysicsAssets </h2>
<hr size="1" noshade="noshade">
You can only create sockets to bones that appear in all LODs. When you create a new socket, only bones in all LODs will be offered in the bone selection combo. If you try and import a new LOD which is missing a bone required for a socket, you will get an error.
<p />
Bones required by the PhysicsAsset are always updated, even if not required by that LOD's mesh. This is because they are used for per-bone collision detection, which should not change when someone is further away from you.
<p />
</noautolink>
<p />
<p />
<p />
<p />
<p />
<p />


<!-- BEGIN UE4 NOTICE -->



<div id="version_message" style="display:none;">

    <div style="position:fixed;top:0px;left:0px;width:100%;height:100%;background:#000;opacity:0.5;">

    </div>

    <div style="position:fixed;top:50%;left:50%;margin:-70px 0px 0px -240px;background:#FFF;border-radius:6px;width:480px;box-shadow:0px 5px 30px -5px rgba(0,0,0,0.9);">

        <div style="font-size:16px;font-weight:bold;background: url(rsrc/Three/warning.png) no-repeat scroll 5px 5px;padding:4px 10px 5px 25px;height:21px;width:440px;">

            Important!

        </div>

        <div style="font-size:11px;padding:5px 10px 10px;width:460px;">

            <p>You are viewing documentation for the <strong>Unreal Development Kit (UDK)</strong>.</p>



            <p>If you are looking for the Unreal Engine 4 documentation, please visit the <a style="color:#000;" href="https://docs.unrealengine.com">Unreal Engine 4 Documentation</a> site.</p>

        </div>

        <div style="height:20px;padding:4px;margin:6px;border-top:1px solid #a0a0a0;">

            <form onsubmit="return closeVersionMessage();">

                <input type="checkbox" id="dismiss" value="dismiss" />

                <label for="dsimiss">Don't show me this again</label>

                <input type="submit" value="Close" style="cursor:pointer;float:right;width:60px;color:#f0f0f0;font-weight:bold;background:#882222;height:24px;padding:2px 3px 3px;text-align:center;border:1px outset #000;" />

            </form>

        </div>

    </div>

</div>



<script type="text/javascript">

    window.onload = function () {

        LoadVersionMessage();

    }



    function LoadVersionMessage()

    {

        var showMessage = "false";
        if(showMessage != "false")

        {

            showVersionMessage();

        }

    }



    function showVersionMessage()

    {

        var message = document.getElementById("version_message");

        if(message)

        {

            message.style.display = "block";

        }

    }



    function closeVersionMessage() {

        var dismiss = document.getElementById("dismiss");

        var message = document.getElementById("version_message");

        if (message) {

            message.style.display = "none";

        }

        if (dismiss.checked) {

            eraseCookie("doc_version_message");

            createCookie("doc_version_message", "false", 365);

            dismiss.checked = false;

        }

        return false;

    }



    function createCookie(name, value, days) {

        if (days) {

            var date = new Date();

            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));

            var expires = "; expires=" + date.toGMTString();

        }

        else var expires = "";

        document.cookie = name + "=" + value + expires + "; path=/";

    }



    function readCookie(name) {

        var nameEQ = name + "=";

        var ca = document.cookie.split(';');

        for (var i = 0; i < ca.length; i++) {

            var c = ca[i];

            while (c.charAt(0) == ' ') c = c.substring(1, c.length);

            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);

        }

        return null;

    }



    function eraseCookie(name) {

        createCookie(name, "", -1);

    }

</script>



<!-- END UE4 NOTICE -->



</div></div><div id="footer"><div style="BACKGROUND-COLOR: transparent; margin: 0; padding: 0; width: 100%;"><div>&nbsp;</div><div style="float: left; text-align: left; vertical-align: bottom; width: 50%;"><a href="http://www.videogamevoters.org"><img src="rsrc/vgvn.jpg" border="0" width="234" height="60" alt="Video Game Voters Network" /></a></div><div style="float: right; text-align: right; vertical-align: bottom; width: 50%;">Copyright &copy; 2001-2012 <a href="http://www.epicgames.com" target="_top">Epic Games, Inc.</a><br /><a href="../Main/TermsAndConditions.html" class="twikiLink">Terms and Conditions</a><br /><a href="http://epicgames.com/privacynotice" target="_top">Privacy Notice</a></div></div></div></div>
<p />
</html></body>
