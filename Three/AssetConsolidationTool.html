<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title> UDK | AssetConsolidationTool    </title>

<style type="text/css" media="all">@import "rsrc/twiki_webs.css";</style>
<style type="text/css" media="all">@import "rsrc/udn_new.css";</style>
<link rel="icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />


<!-- view.static_udn3.tmpl  -->
<script language="JavaScript" type="text/javascript" src="rsrc/udn.js"></script>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

</head>
<p />
<body id="webbgThree">
<p />

<p />
<div id="webThree"><div id="head">
<!--
<div class="header">
 -->
<div style="background: url(/pub/webbg_udn.jpg); background-repeat: no-repeat; height:140px; width: 100%;" >
<!--
<div style="background: transparent url(/pub/udn_header_bg.jpg); background-repeat: repeat-x; height:140px; width: 100%; margin-left: 991px;">
 -->
<p />
<div id="nav">
<ul class="nav">
<font color=black>|</font>&nbsp;&nbsp;<li class=nav_Three><a href="../Main/WebHome.html" class="twikiLink">Main</a></li><font color=black>|</font><li class=nav_Three><a href="../Two/WebHome.html" class="twikiLink">UnrealEngine2</a></li><font color=black>|</font><li class=nav_Three><a href="WebHome.html" class="twikiLink">UnrealEngine3</a></li><font color=black>|</font><li class=nav_Three><a href="https://docs.unrealengine.com" class="twikiLink">UnrealEngine4</a></li><font color=black>|</font><li class=nav_Three><a href="../Main/BusinessAndLegal.html" class="twikiLink">Business &amp; Legal</a></li><font color=black>|</font>
</ul><br><br><br>
</div>
</div>
</div> <!-- end head -->
<div id="pagedefault">
<div id="maincol">
<div id="tool">
<div id="tooltop">UDN</div>
<div id="tooltext" style="padding: 10px 10px 10px 10px;">
Search public documentation: <br>
<form ACTION="/search/index.php" METHOD="GET" NAME="main" ID="main">
<input TYPE="TEXT" NAME="q" SIZE="15" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;">
<input TYPE="SUBMIT" VALUE="Search" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;"><br>
</form>
</div>
<div id="toolband">AssetConsolidationTool  </b></div>
<div id="tooltext">
<a href="AssetConsolidationToolJP.html" class="twikiLink">日本語訳</a><br><a href="https://udn.epicgames.com/Three/AssetConsolidationToolCH" class="restricted" class="restricted" class="twikiLink">中国翻译</a><br><a href="AssetConsolidationToolKR.html" class="twikiLink">한국어</a><br>

<!-- Three/AssetConsolidationTool -->
<hr size="1" noshade="noshade" />
Interested in the Unreal Engine? <br>
Visit the <a href="http://www.unrealtechnology.com" target="_top">Unreal Technology</a> site.<br>
<br>
Looking for jobs and company info? <br>
Check out the <a href="http://www.epicgames.com" target="_top">Epic games</a> site.<br>
<br>
Questions about support via UDN? <br>
Contact the <a href="../Main/ContactUDNStaff.html" class="twikiLink">UDN Staff</a> <br>
<br>
</div> <!-- end toolbox content -->
<div id="toolbottom"></div>
</div> <!-- end tool -->
<p />
<noautolink>
<p />
<div style="padding:0px 0px 0px 4px;font:10px Verdana;">
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="EditorAndToolsHome.html" class="twikiLink">Unreal Editor and Tools</a></b> &gt; Asset Consolidation Tool
</div>
<hr size="1" noshade="noshade">
<h1><a name="Asset Consolidation Tool"></a> Asset Consolidation Tool </h1>
<hr size="1" noshade="noshade">
<p />
<div class="twikiToc"> <ul>
<li> <a href="AssetConsolidationTool.html#Asset Consolidation Tool"> Asset Consolidation Tool</a> <ul>
<li> <a href="AssetConsolidationTool.html#Overview"> Overview</a>
</li> <li> <a href="AssetConsolidationTool.html#Using the Asset Consolidation Tool"> Using the Asset Consolidation Tool</a> <ul>
<li> <a href="AssetConsolidationTool.html#Invoking the Asset Consolidation Tool"> Invoking the Asset Consolidation Tool</a>
</li> <li> <a href="AssetConsolidationTool.html#Consolidating Assets"> Consolidating Assets</a>
</li></ul>
</li> <li> <a href="AssetConsolidationTool.html#How the Asset Consolidation Tool Works"> How the Asset Consolidation Tool Works</a>
</li> <li> <a href="AssetConsolidationTool.html#Best Practices"> Best Practices</a>
</li> <li> <a href="AssetConsolidationTool.html#Limitations and Caveats"> Limitations and Caveats</a>
</li></ul>
</li></ul>
</div>
<p />
<h2><a name="Overview"></a> Overview </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
The asset consolidation tool provides a simple way within the editor to consolidate multiple assets to one asset. As an example, consider a texture that has become duplicated numerous times over the course of development, resulting in a waste of resources by storing multiple copies of what amounts to the exact same texture. The asset consolidation tool allows the user to select all such uses as desired and have them all point to one particular instance of the texture instead.
<p />
<p />
<h2><a name="Using the Asset Consolidation Tool"></a> Using the Asset Consolidation Tool </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
The asset consolidation is fairly simple to use, but caution must be exercised to utilize it properly.
<p />
<h3><a name="Invoking the Asset Consolidation Tool"></a> Invoking the Asset Consolidation Tool </h3>
<p />
To gain access to the tool, you simply select at least one asset you wish to use in the consolidation process within the context browser. Afterwards, right-click and within the presented context menu, select "Consolidate..." The consolidation dialog will appear, populated with all of the assets that were selected while summoning the tool. Additionally, further assets can be added as desired by dragging them from the content browser into the main part of the dialog. Note that consolidation is generally restricted to selected objects of the same type, with some exceptions allowed for textures and materials. If you do not see the "Consolidate..." option or a drag-drop operation was not allowed, you should make sure you've only selected assets of the same type! If you've accidentally added an asset that you did not intend, you can remove it from the dialog by selecting it and pressing the delete key.
<p />
<table cellspacing="1" cellpadding="1" class="twikiTable" border="0"><tr><td bgcolor="#eaeaea" align="center" class="twikiFirstCol"> <img alt="Consolidate1.png" src="rsrc/Three/AssetConsolidationTool/Consolidate1.png" /> </td></tr>
<tr><td bgcolor="#ffffff" align="center" class="twikiFirstCol"> <em>Here a texture has been duplicated many times! Selecting them<br />all and right-clicking grants the option to 'Consolidate...'</em> </td></tr>
</table>
<p />
<h3><a name="Consolidating Assets"></a> Consolidating Assets </h3>
<p />
Once you have populated the dialog with all of the assets you would like to use in the consolidation process, select one of the assets to serve as the "asset to consolidate to" and then press "Consolidate Assets." All references to the assets you did not choose from the list will be replaced with references to the asset you did, deleting the non-chosen assets in the process. Note that "Consolidate Assets" will not be a valid option until at least two assets are in the dialog and at least one is selected.
<table cellspacing="1" cellpadding="1" class="twikiTable" border="0"><tr><td bgcolor="#eaeaea" align="center" class="twikiFirstCol"> <img alt="Consolidate2.PNG" src="rsrc/Three/AssetConsolidationTool/Consolidate2.PNG" /> </td></tr>
<tr><td bgcolor="#ffffff" align="center" class="twikiFirstCol"> <em>Inside the consolidate dialog, selecting an asset marks it as the<br />'object to consolidate to'</em> </td></tr>
</table>
<p />
<table cellspacing="1" cellpadding="1" class="twikiTable" border="0"><tr><td bgcolor="#eaeaea" align="center" class="twikiFirstCol"> <img alt="Consolidate3.png" src="rsrc/Three/AssetConsolidationTool/Consolidate3.png" /> </td></tr>
<tr><td bgcolor="#ffffff" align="center" class="twikiFirstCol"> <em>All of the duplicates have been consolidated to the chosen asset!</em> </td></tr>
</table>
<p />
Also note that the consolidation dialog provides the option to "Save dirtied packages?" If checked, you will be prompted upon the completion of a consolidation operation to save any of the packages dirtied by the process. This is a handy way to ensure that all of the packages affected by consolidation are properly saved without having to find them all in the content browser yourself. If, for whatever reason, a consolidation is unsuccessful or an error occurs, the packages will not be saved and you will be warned appropriately.
<p />
<h2><a name="How the Asset Consolidation Tool Works"></a> How the Asset Consolidation Tool Works </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
The actual consolidation process occurs in multiple steps. First, for any valid objects that are to be consolidated, the tool attempts to replace all references of those objects with references to the "object to be consolidated to" within objects/packages that are already loaded and in memory. What this means is if you have a map or package already open that is referring to one of the objects to be consolidated, the tool will attempt to update it immediately. Next, the tool attempts to delete the objects to be consolidated directly (there is a potential for this to fail, see <a href="AssetConsolidationTool.html#LimitationsandCaveats" class="twikiAnchorLink">Limitations and Caveats</a>). Finally, if the deletion was successful, the tool leaves behind <a href="https://udn.epicgames.com/Three/Redirector" class="restricted" class="restricted" class="twikiLink">object redirectors</a> in the place of the deleted objects. These will redirect unloaded packages with references to the deleted objects to the object you consolidated them to.
<p />
<p />
<a name="BestPractices"></a>
<h2><a name="Best Practices"></a> Best Practices </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p /> <ul>
<li> Improper use of the Asset Consolidation Tool can be extremely dangerous given the nature of what it does. Users of the tool should always think carefully about what they are about to do and decide if the resulting operation would make sense in the context of their assets. The tool attempts to guard against some obviously incorrect consolidations, but users should still always exercise caution in order to avoid ruining packages. Keep in mind that the tool will delete consolidated assets and route previous uses of them to the selected object; it is not an alternative method of doing a "replace actor"-type operation.
</li></ul>
<p /> <ul>
<li> The Asset Consolidation Tool makes heavy use of <a href="https://udn.epicgames.com/Three/Redirector" class="restricted" class="restricted" class="twikiLink">object redirectors</a>, meaning it is a good idea to occasionally make use of the <a href="CommandletList.html#fixupredirects" class="twikiAnchorLink">Fixup Redirects Commandlet</a> some time after the use of the Asset Consolidation Tool.
</li></ul>
<p /> <ul>
<li> While the Asset Consolidation Tool will attempt to forcibly replace references to objects to consolidate in packages/maps that are currently loaded and in memory, it is best to maximize the chance of a successful consolidation by having as few things referencing the objects to consolidate as possible while using the tool. In particular, it is extremely ill-advised to have sub-editors (such as the AnimSet editor) open and utilizing assets that are about to be consolidated.
</li></ul>
<p />
<p />
<a name="LimitationsandCaveats"></a>
<h2><a name="Limitations and Caveats"></a> Limitations and Caveats </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
While useful, the Asset Consolidation Tool does have some limitations and caveats, outlined below: <ul>
<li> To prevent the user from accidentally destroying their packages, the Asset Consolidation Tool can only be invoked on assets that share the same class/type, with an exception made if all objects are a type of material or a type of texture(meaning that a material could be consolidated to a decal material, even though they are not strictly the same type). This restriction is in place to prevent consolidations that would certainly cause crashes and/or package destruction, such as consolidating a material into a static mesh. Even where cross-type consolidation is allowed, the tool presents a clearly visible warning that multiple types have been chosen for consolidation.
</li></ul>
<p /> <ul>
<li> The Asset Consolidation Tool can not always consolidate the assets the user has selected. If a user selects an "asset to consolidate to" that contains references to one of the assets to consolidate, that particular asset to consolidate will not be consolidated. Allowing such an operation would make the "asset to consolidate to" refer to itself, which would certainly lead to trouble. Additionally, root packages cannot be consolidated, though they should never show up as a valid option in the first place. At the end of a consolidation operation, the user is warned which, if any, of their assets were skipped for consolidation.
</li></ul>
<p /> <ul>
<li> The Asset Consolidation Tool can sometimes fail to consolidate an otherwise valid asset if not all of its references could be cleared, or it could not be deleted for some reason. This type of failure is critical, resulting in "partial consolidation," in which some uses of an asset have been consolidated and some have not. This type of failure should be quite rare, but should the situation arise, the user is warned with a dialog showing the affected assets and potentially affected packages. The user should <strong>NOT</strong> save any of the affected assets/packages or they will be accepting a potentially disastrous partial consolidation.
</li></ul>
<p /> <ul>
<li> As mentioned in <a href="AssetConsolidationTool.html#BestPractices" class="twikiAnchorLink">Best Practices</a>, it is extremely ill-advised to utilize the Asset Consolidation Tool while potentially affected assets are being used in various sub-editors, such as the AnimSet editor. Ultimately most sub-editors as of yet do not respond well to having references swapped from under them, so using the sub-editors while consolidating can lead to the sub-editors being put into invalid states and/or potentially crashing.
</li></ul>
<p /> <ul>
<li> For now, once a consolidation operation has been successfully performed, it is advised to save the relevant packages before attempting to load into memory any unloaded packages that also reference one of the consolidated objects. A currently outstanding Content Browser/Object Redirector bug can cause consolidated assets to reappear in the browser if a referencing package is loaded before saving.
</li></ul>
<p /> <ul>
<li> The Asset Consolidation Tool only replaces references to the consolidated objects in packages that were already loaded at the time of the operation. It relies on <a href="https://udn.epicgames.com/Three/Redirector" class="restricted" class="restricted" class="twikiLink">object redirectors</a> to fix up the remaining references in unloaded packages. This means care should be taken to not perform an action that will trample on, overwrite, delete, etc. the redirectors, unless specifically desired. Otherwise, some packages will correctly be fixed up and some won't. As outlined earlier, making use of the <a href="CommandletList.html#fixupredirects" class="twikiAnchorLink">Fixup Redirects Commandlet</a> can alleviate this issue.
</li></ul>
<p />
</noautolink>
<p />
<p />
<p />
<p />
<p />
<p />


<!-- BEGIN UE4 NOTICE -->



<div id="version_message" style="display:none;">

    <div style="position:fixed;top:0px;left:0px;width:100%;height:100%;background:#000;opacity:0.5;">

    </div>

    <div style="position:fixed;top:50%;left:50%;margin:-70px 0px 0px -240px;background:#FFF;border-radius:6px;width:480px;box-shadow:0px 5px 30px -5px rgba(0,0,0,0.9);">

        <div style="font-size:16px;font-weight:bold;background: url(rsrc/Three/warning.png) no-repeat scroll 5px 5px;padding:4px 10px 5px 25px;height:21px;width:440px;">

            Important!

        </div>

        <div style="font-size:11px;padding:5px 10px 10px;width:460px;">

            <p>You are viewing documentation for the <strong>Unreal Development Kit (UDK)</strong>.</p>



            <p>If you are looking for the Unreal Engine 4 documentation, please visit the <a style="color:#000;" href="https://docs.unrealengine.com">Unreal Engine 4 Documentation</a> site.</p>

        </div>

        <div style="height:20px;padding:4px;margin:6px;border-top:1px solid #a0a0a0;">

            <form onsubmit="return closeVersionMessage();">

                <input type="checkbox" id="dismiss" value="dismiss" />

                <label for="dsimiss">Don't show me this again</label>

                <input type="submit" value="Close" style="cursor:pointer;float:right;width:60px;color:#f0f0f0;font-weight:bold;background:#882222;height:24px;padding:2px 3px 3px;text-align:center;border:1px outset #000;" />

            </form>

        </div>

    </div>

</div>



<script type="text/javascript">

    window.onload = function () {

        LoadVersionMessage();

    }



    function LoadVersionMessage()

    {

        var showMessage = "false";
        if(showMessage != "false")

        {

            showVersionMessage();

        }

    }



    function showVersionMessage()

    {

        var message = document.getElementById("version_message");

        if(message)

        {

            message.style.display = "block";

        }

    }



    function closeVersionMessage() {

        var dismiss = document.getElementById("dismiss");

        var message = document.getElementById("version_message");

        if (message) {

            message.style.display = "none";

        }

        if (dismiss.checked) {

            eraseCookie("doc_version_message");

            createCookie("doc_version_message", "false", 365);

            dismiss.checked = false;

        }

        return false;

    }



    function createCookie(name, value, days) {

        if (days) {

            var date = new Date();

            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));

            var expires = "; expires=" + date.toGMTString();

        }

        else var expires = "";

        document.cookie = name + "=" + value + expires + "; path=/";

    }



    function readCookie(name) {

        var nameEQ = name + "=";

        var ca = document.cookie.split(';');

        for (var i = 0; i < ca.length; i++) {

            var c = ca[i];

            while (c.charAt(0) == ' ') c = c.substring(1, c.length);

            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);

        }

        return null;

    }



    function eraseCookie(name) {

        createCookie(name, "", -1);

    }

</script>



<!-- END UE4 NOTICE -->



</div></div><div id="footer"><div style="BACKGROUND-COLOR: transparent; margin: 0; padding: 0; width: 100%;"><div>&nbsp;</div><div style="float: left; text-align: left; vertical-align: bottom; width: 50%;"><a href="http://www.videogamevoters.org"><img src="rsrc/vgvn.jpg" border="0" width="234" height="60" alt="Video Game Voters Network" /></a></div><div style="float: right; text-align: right; vertical-align: bottom; width: 50%;">Copyright &copy; 2001-2012 <a href="http://www.epicgames.com" target="_top">Epic Games, Inc.</a><br /><a href="../Main/TermsAndConditions.html" class="twikiLink">Terms and Conditions</a><br /><a href="http://epicgames.com/privacynotice" target="_top">Privacy Notice</a></div></div></div></div>
<p />
</html></body>
