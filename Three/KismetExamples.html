<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title> UDK | KismetExamples    </title>

<style type="text/css" media="all">@import "rsrc/twiki_webs.css";</style>
<style type="text/css" media="all">@import "rsrc/udn_new.css";</style>
<link rel="icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />


<!-- view.static_udn3.tmpl  -->
<script language="JavaScript" type="text/javascript" src="rsrc/udn.js"></script>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

</head>
<p />
<body id="webbgThree">
<p />

<p />
<div id="webThree"><div id="head">
<!--
<div class="header">
 -->
<div style="background: url(/pub/webbg_udn.jpg); background-repeat: no-repeat; height:140px; width: 100%;" >
<!--
<div style="background: transparent url(/pub/udn_header_bg.jpg); background-repeat: repeat-x; height:140px; width: 100%; margin-left: 991px;">
 -->
<p />
<div id="nav">
<ul class="nav">
<font color=black>|</font>&nbsp;&nbsp;<li class=nav_Three><a href="../Main/WebHome.html" class="twikiLink">Main</a></li><font color=black>|</font><li class=nav_Three><a href="../Two/WebHome.html" class="twikiLink">UnrealEngine2</a></li><font color=black>|</font><li class=nav_Three><a href="WebHome.html" class="twikiLink">UnrealEngine3</a></li><font color=black>|</font><li class=nav_Three><a href="https://docs.unrealengine.com" class="twikiLink">UnrealEngine4</a></li><font color=black>|</font><li class=nav_Three><a href="../Main/BusinessAndLegal.html" class="twikiLink">Business &amp; Legal</a></li><font color=black>|</font>
</ul><br><br><br>
</div>
</div>
</div> <!-- end head -->
<div id="pagedefault">
<div id="maincol">
<div id="tool">
<div id="tooltop">UDN</div>
<div id="tooltext" style="padding: 10px 10px 10px 10px;">
Search public documentation: <br>
<form ACTION="/search/index.php" METHOD="GET" NAME="main" ID="main">
<input TYPE="TEXT" NAME="q" SIZE="15" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;">
<input TYPE="SUBMIT" VALUE="Search" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;"><br>
</form>
</div>
<div id="toolband">KismetExamples  </b></div>
<div id="tooltext">
<a href="KismetExamplesJP.html" class="twikiLink">日本語訳</a><br><a href="KismetExamplesCH.html" class="twikiLink">中国翻译</a><br><a href="KismetExamplesKR.html" class="twikiLink">한국어</a><br>

<!-- Three/KismetExamples -->
<hr size="1" noshade="noshade" />
Interested in the Unreal Engine? <br>
Visit the <a href="http://www.unrealtechnology.com" target="_top">Unreal Technology</a> site.<br>
<br>
Looking for jobs and company info? <br>
Check out the <a href="http://www.epicgames.com" target="_top">Epic games</a> site.<br>
<br>
Questions about support via UDN? <br>
Contact the <a href="../Main/ContactUDNStaff.html" class="twikiLink">UDN Staff</a> <br>
<br>
</div> <!-- end toolbox content -->
<div id="toolbottom"></div>
</div> <!-- end tool -->
<p />
<noautolink>
<p />
<div style="padding:0px 0px 0px 4px;font:10px Verdana;">
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="KismetHome.html" class="twikiLink">Kismet Visual Scripting</a></b> &gt; Kismet Examples <br/>
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="CinematicArtistHome.html" class="twikiLink">Cinematic Artist</a></b> &gt; Kismet Examples
</div>
<hr size="1" noshade="noshade">
<h1><a name="Kismet Examples"></a> Kismet Examples </h1>
<hr size="1" noshade="noshade">
<p />
<div class="twikiToc"> <ul>
<li> <a href="KismetExamples.html#Kismet Examples"> Kismet Examples</a> <ul>
<li> <a href="KismetExamples.html#Overview"> Overview</a>
</li> <li> <a href="KismetExamples.html#Concepts"> Concepts</a> <ul>
<li> <a href="KismetExamples.html#Sequences"> Sequences</a>
</li> <li> <a href="KismetExamples.html#Proceduralism"> Proceduralism</a>
</li> <li> <a href="KismetExamples.html#Events"> Events</a> <ul>
<li> <a href="KismetExamples.html#Level Events"> Level Events</a>
</li> <li> <a href="KismetExamples.html#Player Interaction Events"> Player Interaction Events</a>
</li> <li> <a href="KismetExamples.html#Touch Events"> Touch Events</a>
</li> <li> <a href="KismetExamples.html#Used Events"> Used Events</a>
</li> <li> <a href="KismetExamples.html#Mover Events"> Mover Events</a>
</li></ul>
</li> <li> <a href="KismetExamples.html#Conditions"> Conditions</a>
</li> <li> <a href="KismetExamples.html#Loops"> Loops</a>
</li> <li> <a href="KismetExamples.html#Delays"> Delays</a>
</li> <li> <a href="KismetExamples.html#Global Variables"> Global Variables</a>
</li> <li> <a href="KismetExamples.html#Switches"> Switches</a>
</li> <li> <a href="KismetExamples.html#Gates"> Gates</a>
</li> <li> <a href="KismetExamples.html#Object Lists"> Object Lists</a>
</li> <li> <a href="KismetExamples.html#Timers"> Timers</a>
</li></ul>
</li> <li> <a href="KismetExamples.html#Examples"> Examples</a> <ul>
<li> <a href="KismetExamples.html#Proximity Door"> Proximity Door</a>
</li> <li> <a href="KismetExamples.html#Manual Door"> Manual Door</a>
</li> <li> <a href="KismetExamples.html#Damage Camera Shake"> Damage Camera Shake</a>
</li> <li> <a href="KismetExamples.html#Homing Beacon"> Homing Beacon</a>
</li> <li> <a href="KismetExamples.html#Respawning Sentry AI"> Respawning Sentry AI</a>
</li> <li> <a href="KismetExamples.html#Kismet Weapon"> Kismet Weapon</a>
</li> <li> <a href="KismetExamples.html#Enemy Waves"> Enemy Waves</a>
</li></ul>
</li></ul>
</li></ul>
</div>
<p />
<h2><a name="Overview"></a> Overview </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
Kismet is a powerful visual scripting system that enables level designers to add dynamic and interesting gameplay into levels with relative ease. This document covers concepts and techniques that, when combined with knowing all the available <a href="KismetReference.html#Actions" class="twikiAnchorLink">Actions</a>, <a href="KismetReference.html#Conditions" class="twikiAnchorLink">Conditions</a>, <a href="KismetReference.html#Variables" class="twikiAnchorLink">Variables</a>, and <a href="KismetReference.html#Events" class="twikiAnchorLink">Events</a>, will help you in the creation of new and innovative gameplay events.
<p />
For more information on using Kismet, look at the <a href="KismetUserGuide.html" class="twikiLink">KismetUserGuide</a> and <a href="KismetReference.html" class="twikiLink">KismetReference</a>.
<p />
<h2><a name="Concepts"></a> Concepts </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
In this section, you will find explanations of various concepts and techniques that are important to know and can be used to perform certain common functions or improve the efficiency of your Kismet sequences.
<p />
<h3><a name="Sequences"></a> Sequences </h3>
<p />
Kismet works by executing a series of actions in response to certain events and conditions within the level. Each series or collection of related series can be thought of as a <em>sequence</em>. Each level, persistent or streaming, by default has a base sequence. These form a hierarchy and are, for the most part, self contained with the exception that the sequences of streaming levels can access elements in the parent persistent level's sequence.
<p />
<img alt="ex_sequence_hier.jpg" src="rsrc/Three/KismetExamples/ex_sequence_hier.jpg" />
<p />
In addition to the base sequences of any level, any collection of actions, events, conditions, and variables can be placed into a new sequence or <em>subsequence</em> if you prefer.
<p />
<img alt="ex_subsequence.jpg" src="rsrc/Three/KismetExamples/ex_subsequence.jpg" />
<p />
Again, these form a hierarchy with access being allowed up the hierarchy but never laterally. What this means is that to access a variable or something similar in another sequence, it must be located directly up the hierarchy. If two sequences both have the same parent sequence, they can only access name variables contained in the parent sequence (or its parent, etc.) and not in the other subsequence.
<p />
Sequences are a great way of organizing your Kismet. New sequences you create can have any number of inputs or outputs and variable links (through the use of <a href="KismetReference#Sequence Activated">Sequence Activated</a> events, <a href="KismetReference#Finish Sequence">Finish Sequence</a> actions, and <a href="KismetReference#External Variable>External Variable</a> variables) making them essentially like custom sequence objects, or little black boxes.
<p />
<h3><a name="Proceduralism"></a> Proceduralism </h3>
<p />
Proceduralism in the context of Kismet refers to the use of generically built sequences (in this case, this can mean either a series of actions or a complete subsequence) which use <a href="KismetReference#Remote Event">Remote Events</a> connected to inputs and <a href="#Global variables">Global Variables</a> connected to variable links and then perform some sort of action(s) on those variables or using those variables. Essentially, it is using the idea of a sequence to recreate similar functionality to a function or procedure in standard programming. In order to execute the procedural sequence, you would simply set the value(s) of the <a href="#Global Variables">Global Variables</a> and then use an <a href="KismetReference#Activate Remote Event">Activate Remote Event</a> action  to trigger the associated <a href="KismetReference#Remote Event">Remote Event</a> to activate the sequence.
<p />
To illustrate the idea, imagine you want to quickly be able to set one Actor to the location and rotation of another Actor and then attach it. The normal sequence to do this might look something like this:
<p />
<img alt="ex_proc_normal.jpg" src="rsrc/Three/KismetExamples/ex_proc_normal.jpg" />
<p />
Now, imagine you needed to do this same series of actions over and over with different Actors. Obviously, duplicating this sequence for every time it is needed could potentially get out of hand and would clutter your Kismet workspace.
<p />
<img alt="ex_proc_clutter.jpg" src="rsrc/Three/KismetExamples/ex_proc_clutter.jpg" />
<p />
In comparison, the procedural version of this sequence would look similar to this:
<p />
<img alt="ex_proc_procedural.jpg" src="rsrc/Three/KismetExamples/ex_proc_procedural.jpg" />
<p />
By making it procedural, the single procedural sequence can be reused each time it is needed while only needing to set the variables and activate the event.
<p />
The real advantage of using this technique comes when you want to make a change to the sequence. Instead of having multiple copies of it that need to be modified that you must hunt around for, there is only one single sequence in one location to alter.
<p />
<h3><a name="Events"></a> Events </h3>
<p />
Events are the basis for Kismet. They are triggered in response to certain predetermined or dynamic situations and are responsible for starting the execution of sequences. The basic idea is that something happens in the game and a corresponding event is triggered in Kismet to cause a sequence of actions to be carried out in response to that event.
<p />
There are several types of events that can be used to trigger sequences in Kismet. A few of the most common of these are described below.
<p />
<h4><a name="Level Events"></a> Level Events </h4>
<p />
The Level Loaded event is a very useful event for triggering sequences based on that status of the level containing the sequence. These statuses are:
<p /> <ul>
<li> <strong>Loaded and Visible</strong> - Triggered when the level has been loaded into memory and made visible. This is useful for streaming levels that have sequences that should be activated when the level becomes visible.
</li> <li> <strong>Beginning of Level</strong> - Triggered when the level is first loaded. This is useful for level events that should only happen a single time when the level first begins.
</li> <li> <strong>Level Reset</strong> - Triggered any time the level is reset. This is useful for events that should happen each time the level is started or restarted.
</li></ul>
<p />
<h4><a name="Player Interaction Events"></a> Player Interaction Events </h4>
<p />
Certain events occur based on the player interacting with Triggers or TriggerVolumes within the level.
<p />
<h4><a name="Touch Events"></a> Touch Events </h4>
<p />
A Touch event is an event that is triggered by one Actor encroaching on (or "touching") another Actor. While not technically limited to a Trigger or TriggerVolume being triggered by a player, this is by far the most common use of this type of event. This type of event is used for creating sequences that are activated by player proximity.
<p />
<h4><a name="Used Events"></a> Used Events </h4>
<p />
A Used event is an event that is triggered by the player pressing the "Use" key ('E' by default) within a certain range of a specific Actor, usually a Trigger. This type of event allows for creating sequences that must be initiated by the player with intention, such as pressing buttons, flipping switches, etc.
<p />
<h4><a name="Mover Events"></a> Mover Events </h4>
<p />
A Mover event is used to create lifts or moving platforms within the level that are activated by the player standing on the lift. These come with the ability to "open", "close", and stay "open" for a set amount of time before "closing".
<p />
Start by selecting a StaticMesh you want to use as your platform in the <a href="ContentBrowserReference.html" class="twikiLink">Content Browser</a>. Then, right-click in the viewport and choose <em>Add Actor &gt; Add InterpActor...</em> from the content menu.
<p />
<img alt="ex_mover_1.jpg" src="rsrc/Three/KismetExamples/ex_mover_1.jpg" />
<p />
Now bring up the properties of the InterpActor, expand the <em>Collision</em> section, and make sure that the <em>Collision Type</em> is set to <em>COLLIDE_BlockAll</em>.
<p />
<img alt="ex_mover_2.jpg" src="rsrc/Three/KismetExamples/ex_mover_2.jpg" />
<p />
With the InterpActor selected, open Kismet, right-click in the Kismet workspace, and select <em>New Event Using InterpActor... &gt; Mover</em> from the context menu.
<p />
<img alt="ex_mover_3.jpg" src="rsrc/Three/KismetExamples/ex_mover_3.jpg" />
<p />
This will place a special Mover event that has a pre-connected Matinee that you can use to do the movement of your platform.
<p />
<img alt="ex_mover_4.jpg" src="rsrc/Three/KismetExamples/ex_mover_4.jpg" />
<p />
From there, you just keyframe your movement in <a href="MatineeUserGuide.html" class="twikiLink">Matinee</a> and the InterpActor should move and support the player. When the player touches the InterpActor, the platform should begin to move.
<p />
There are many ways of doing a similar setup. You don't need to right-click in Kismet and add the InterpActor as a Mover. You could place a Matinee on your own and have it triggered by any other Kismet action you want.
<p />
<h3><a name="Conditions"></a> Conditions </h3>
<p />
Conditions are special sequence objects that allow a sequence to diverge in two or more directions based on some criteria. These conditions are similar to conditional statements in standard programming, such as If/Else statements or switch statements. This allows Kismet sequences the ability to do rudimentary decision-making and makes it much more dynamic and engaging.
<p />
Simple uses of conditions include only executing a sequence if a variable has a specific value or if the player has a specific weapon.
<p />
<img alt="ex_condition_weapon.jpg" src="rsrc/Three/KismetExamples/ex_condition_weapon.jpg" />
<p />
A more advanced use of a condition might include having multiple sequences each of which can only be executed if the Actor that triggers an event is of a specific type.
<p />
<img alt="ex_condition_switch.jpg" src="rsrc/Three/KismetExamples/ex_condition_switch.jpg" />
<p />
<h3><a name="Loops"></a> Loops </h3>
<p />
Another concept borrowed from standard programming is the use of loops to repeat an action a specific number of times, until a certain condition is met, or even just indefinitely. Depending on the type of loop, this can be accomplished in one of several ways.
<p />
A simple indefinite loop can be accomplished by connecting the output of an action at the end of a sequence to the input of an action at the beginning of the sequence. This will cause the sequence to continually repeat, over and over.
<p />
<img alt="ex_loop_continuous.jpg" src="rsrc/Three/KismetExamples/ex_loop_continuous.jpg" />
<p />
<img src="rsrc/TWiki/TWikiDocGraphics/warning.gif" alt="ALERT!" title="ALERT!" width="16" height="16" border="0" /> <strong>Warning:</strong> Never create a continuous loop without some sort of <a href="KismetExamples.html#Delays" class="twikiAnchorLink">delay</a> between iterations of the loop. This can be done by using a <a href="KismetReference.html#Delay" class="twikiAnchorLink">Delay</a> action, the activate delay of an input or output link. Some actions execute latently, meaning they have outputs that will not execute until the action finishes. Using these types of outputs implies a built-in delay and thus can be used in lieu or additional delays.
<p />
A loop that executes a set number of times (i.e. a For loop) can be created by using a <a href="KismetReference.html#Counter" class="twikiAnchorLink">Counter</a> condition, either <a href="KismetReference#Int Counter">Int</a> or <a href="KismetReference#Float Counter">Float</a>. This condition will increment, or decrement, the value of one variable and compare it to another, activating the appropriate output based on the result of the comparison. By connecting the output of one or more of the sequences connected to the counter to the input of the counter, a loop can be created. Just make sure that the output representing the condition that should end the loop is not connected back to the input.
<p />
<img alt="ex_loop_for.jpg" src="rsrc/Three/KismetExamples/ex_loop_for.jpg" />
<p />
A loop that repeats until a specific condition is met (i.e. a While loop) can be created by placing a condition at the beginning or ending of the sequence that should be repeated where only one of the outputs allows the sequence to continue repeating. Placing the condition at the beginning creates a While loop. Placing it at the end creates a Do-While loop.
<p />
<span style="font:italic 10px arial;">(Click for full size)</span>
<p />
<a href="rsrc/Three/KismetExamples/ex_loop_while_full.jpg" Target="NEW"><img src="rsrc/Three/KismetExamples/ex_loop_while.jpg" /></a>
<p />
<h3><a name="Delays"></a> Delays </h3>
<p />
Delaying the execution of a sequence or portion of a sequence is quite common in Kismet sequences as it is often required to have certain events occur at specific times in relation to other events, whether it is the beginning of the level, the spawning of a player, or simply the execution of a specific action.
<p />
Delays can be performed in one of two ways. The first method is to use the <a href="KismetReference.html#Delay" class="twikiAnchorLink">Delay</a> action. This action allows an amount of time to be specified in a property or by connecting a variable and, when its input link is activated, waits this amount of time before activating the output link. This obviously provides the ability to have the outcome of other actions determine the length of the delay, by way of setting the value of a variable connected to the <a href="KismetReference.html#Delay" class="twikiAnchorLink">Delay</a> action. It also makes it very clear that there is a delay occurring in the sequence since there is a dedicated action for it.
<p />
<img alt="ex_delay.jpg" src="rsrc/Three/KismetExamples/ex_delay.jpg" />
<p />
The other method of delaying execution is through the use of the <em>Activate Delay</em> functionality of all input and output links. By right-clicking on a link and choosing <em>Set Activate Delay</em>, you can specify an amount of time in seconds that the link should delay before proceeding to activate. The length of the delay will then be displayed above the link in the Kismet workspace. Essentially, this is the same as adding a <a href="KismetReference.html#Delay" class="twikiAnchorLink">Delay</a> action into the sequence, but without the need for the action to be added. The links themselves handle the delay. Of course, this also means the ability to have a variable delay is lost as it is a constant hard-coded value. This can be a space-saver and keep sequences more compact, though it does make it somewhat less obvious where delays will occur.
<p />
<img alt="ex_activate_delay.jpg" src="rsrc/Three/KismetExamples/ex_activate_delay.jpg" />
<p />
<h3><a name="Global Variables"></a> Global Variables </h3>
<p />
It is possible to implement something similar to global variables in Kismet, though the term "global" is limited to the scope of the current persistent and streaming levels. By creating the variables you need in the persistent level and giving them unique names using the <em>Var Name</em> property of all variables, those variables and their values can then be accessed by using <a href="KismetReference#Named Variable">Named Variables</a>. The concept of global variables can be very useful not only in having a single variable located in one sequence being able to be accessed in (certain) other sequences, but also in keeping your Kismet organized by having all your variables in one centralized location and using multiple <a href="KismetReference#Named Variable">Named Variables</a> instead of needing to have a single variable with multitudes of connections to various actions.
<p />
It is important that the variables are located in the top-most sequence (i.e., the persistent level's base Kismet sequence), or at least in a sequence which is a parent to all other sequences within which the variables should be able to be accessed. Also, the variables shouldn't be located in a streaming level that could possibly not be loaded when another sequence is trying to access them.
<p />
<h3><a name="Switches"></a> Switches </h3>
<p />
<a href="KismetReference.html#Switch" class="twikiAnchorLink">Switches</a> make it possible to execute a different sequence each time the switch is activated, either consecutively or randomly depending on the type of <a href="KismetReference.html#Switch" class="twikiAnchorLink">Switch</a> being used.
<p />
An example of using a <a href="KismetReference.html#Switch" class="twikiAnchorLink">Switch</a> might be to create a minigame or quest within a level that requires the player to gather a certain number of items. Each time an item is picked up, the same <a href="KismetReference.html#Switch" class="twikiAnchorLink">Switch</a> could be activated. The outputs of the <a href="KismetReference.html#Switch" class="twikiAnchorLink">Switch</a> would be executed in order with each activation. These could each do connect to a sequence to perform some specific action, such as updating a variable, displaying a message, etc., or they could do nothing until the last output. The last output would perform whatever action(s) should occur when the items have all been collected.
<p />
<h3><a name="Gates"></a> Gates </h3>
<p />
Sometimes you want a branch of a sequence to only be executed when some other series of events has already occurred. You may have an event that can be triggered at any point any amount of times, but you don't want it to propagate unless some other event has already been triggered, e.g. a locked door cannot be opened until it has first been unlocked.
<p />
One way of setting up this sort of relationship is by using a <a href="KismetReference.html#Gate" class="twikiAnchorLink">Gate</a>. This action can be opened or closed and will only activate its output when the input is activated while it is open.
<p />
<img alt="ex_gate_switch.jpg" src="rsrc/Three/KismetExamples/ex_gate_switch.jpg" />
<p />
The alternative is to have a global <a href="KismetReference.html#Bool" class="twikiAnchorLink">Bool</a> variable which holds the status of the condition, have the "unlock" event set the value of the variable, and then check the value of that variable each time before activating the sequence.
<p />
<img alt="ex_gate_bool.jpg" src="rsrc/Three/KismetExamples/ex_gate_bool.jpg" />
<p />
This is far less desirable and was the impetus for the creation of the [KismetReference#Gate][Gate]] action in the first place. [KismetReference#Gate][Gates]] provide a much cleaner way of performing this same functionality.
<p />
<h3><a name="Object Lists"></a> Object Lists </h3>
<p />
Object lists are pretty much exactly what they sound like: lists of objects. They are handy when you need to connect a bunch of Object variables to an action, but don't want the clutter of having tons of individual variable nodes. However, Object Lists are much more powerful and have many more uses than just organization and cleanup. Object Lists can be used in a similar manner to arrays or other list types in standard programming. For instance, you can add a reference to each player spawned into the world to an Object List and then iterate over that list and perform some action on each player. You can also keep a list of all objects which enter into a volume and then cause damage to all of them in response to another event.
<p />
There are three main actions used when working with Object Lists: Access ObjectList, IsIn ObjectList, and Modify ObjectList.
<p />
IsIn ObjectList and Modify ObjectList would normally be used when adding objects to or removing objects from an Object List.
<p />
<img alt="ex_objlist_setup.jpg" src="rsrc/Three/KismetExamples/ex_objlist_setup.jpg" />
<p />
The Access ObjectList is the action you would use when iterating over a list to get a reference to the current item.
<p />
<img alt="ex_objlist_access.jpg" src="rsrc/Three/KismetExamples/ex_objlist_access.jpg" />
<p />
<h3><a name="Timers"></a> Timers </h3>
<p />
The Timer action is mostly used for test maps and debugging purposes. It is used in Gears of War for single player scenarios where you have groups of enemies and you want to know how long each battle takes. When you know the general amount of time it takes for the battle, it becomes easier to know when to set off other events in relation to the battle. If a battle usually takes 30 seconds, at 15 seconds you may want to start to close the walls in on the player to increase the pressure. The Timer doesn't really have a specific use, it's just a good tool for gauging cinematic timing.
<p />
<h2><a name="Examples"></a> Examples </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
In this section, you will find specific example sequences that demonstrate many of the concepts detailed above as well as other common Kismet uses.
<p />

<p />
<h3><a name="Proximity Door"></a> Proximity Door </h3>
<p />
This sequence demonstrates creating a door which automatically opens when a player is within a certain range of it.
<p />
<img alt="ex_door_proximity.jpg" src="rsrc/Three/KismetExamples/ex_door_proximity.jpg" />
<p />
The sequence is triggered by a Touch event associated with a Trigger placed at the door's location. The radius of the Trigger determines how close the player must be to trigger the door. The <em>Max Trigger Count</em> of the Touch event is set to 0 to allow the event to be triggered an unlimited number of times.
<p />
The <em>Touched</em> output of the Touch event activates the <em>Play</em> input of a Matinee which animates the opening of the door(s). The <em>UnTouched</em> output activates the <em>Reverse</em> input of the Matinee to close the door(s).
<p />
<h3><a name="Manual Door"></a> Manual Door </h3>
<p />
This sequence demonstrates creating a door which requires the player to manually open it by pressing the 'Use' key.
<p />
<img alt="ex_door_manual.jpg" src="rsrc/Three/KismetExamples/ex_door_manual.jpg" />
<p />
The sequence is triggered by a Used event associated with a Trigger placed at the door's location. The <em>Max Trigger Count</em> of the Touch event is set to 0 to allow the event to be triggered an unlimited number of times. The <em>Interact Distance</em> can be adjusted depending on how far away from the Trigger you want the player to be able to open the door.
<p />
The <em>Used</em> output of the Touch event activates the <em>Play</em> input of a Matinee which animates the opening of the door(s). The <em>Completed</em> output of the Matinee connects back to the <em>Reverse</em> input with an activate delay of 3.0 seconds to close the door(s) after 3.0 seconds. This value should be adjusted depending on how long you want the door to stay open.
<p />
An alternative way of setting this up would be to use a Switch action with 2 output links between the <em>Used</em> output of the Used event and the Matinee. The first output would connect to the <em>Play</em> input to open the door and the second output would connect to the <em>Reverse</em> input to close the door. This would allow the player to both open and close the door eliminating the need to use a loop or activate delay.
<p />
<img alt="ex_door_manual_alt.jpg" src="rsrc/Three/KismetExamples/ex_door_manual_alt.jpg" />
<p />
<h3><a name="Damage Camera Shake"></a> Damage Camera Shake </h3>
<p />
This sequence demonstrates how to cause the player's camera to play a predetermined camera animation, e.g. a damage camera shake.
<p />
<span style="font:italic 10px arial;">(Click for full size)</span>
<p />
<a href="rsrc/Three/KismetExamples/ex_damage_shake_full.jpg" Target="NEW"><img src="rsrc/Three/KismetExamples/ex_damage_shake.jpg" /></a>
<p />
When a player spawns it is attached to a Take Damage event by way of the Attach To Event action. The Take Damage event is set to trigger any time the player is damaged (<em>Damage Threshold</em> = 1.0). It is also set to trigger an unlimited amount of times (<em>Max Trigger Amount</em> = 0) and to reset its damage counter when toggled (<em>Reset Damage On Toggle</em> = True). The reason the <em>Reset Damage On Toggle</em> is important is that we need to <em>Damage Taken</em> variable output to always output the damage taken this time, but it will output the accumulated amount in the event's damage counter unless we toggle the event each time it is triggered to reset the damage counter.
<p />
A Float variable is connected to the <em>Damage Taken</em> variable output to hold the amount of damage taken.
<p />
When triggered the Take Damage event activates two Toggle actions both set to toggle the Take Damage event, resetting its damage counter.
<p />
Also, activated by the Take Damage event is a series of calculations used to obtain a playback rate and an intensity value to use when playing the CameraAnim. The damage amount is divided by 10.0. This result will be the <em>intensity Scale</em> for the CameraAnim. This value is then inverted and the result is used as the playback <em>Rate</em> for the CameraAnim.
<p />
A Play Camera Animation action is used to play the damage shake CameraAnim. To control the <em>Intensity Scale</em> and <em>Rate</em> of the CameraAnim, the associated variables are exposed by right-clicking the Play Camera Animation action and choosing <em>Expose Variable &gt; Intensity Scale</em> and <em>Expose Variable &gt; Rate</em>. The two Float variables are then connected to these newly exposed variable inputs and the <em>Instigator</em> Object variable of the Player Spawned event is connected to the <em>Target</em> variable input.
<p />
<strong>Note:</strong> Be aware that this will only work if the player is using a custom Camera class and not relying on the CalcCamera() method of calculating the camera viewpoint.
<p />
<h3><a name="Homing Beacon"></a> Homing Beacon </h3>
<p />
This sequence demonstrates a method of creating a homing beacon sound that adjusts its pitch and volume based on the distance the player is from the target.
<p />
<span style="font:italic 10px arial;">(Click for full size)</span>
<p />
<a href="rsrc/Three/KismetExamples/ex_homing_beacon_full.jpg" Target="NEW"><img src="rsrc/Three/KismetExamples/ex_homing_beacon.jpg" /></a>
<p />
The sequence is started when the level begins via a Level Loaded event. This activates a Get Distance action that obtains the distance between the player and the homing target and stores it in a Float variable. This value is then divided by the <em>HomingRadius</em>. This normalizes the distance value which is then biased and inverted to get the final value used as the volume and pitch, <em>ModMultiplier</em>.
<p />
A Play Sound action is used to play the sound. The Play input is activated by the last Divide action in the modulation calculation. The <em>Volume Multiplier</em> and <em>Pitch Multiplier</em> variable inputs are exposed and the <em>ModMultiplier</em> is connected to both of them. The Finished output is connected back to the input of the Get Distance starting the process over again.
<p />
<h3><a name="Respawning Sentry AI"></a> Respawning Sentry AI </h3>
<p />
This sequence demonstrates spawning and controlling AI entities.
<p />
<span style="font:italic 10px arial;">(Click for full size)</span>
<p />
<a href="rsrc/Three/KismetExamples/ex_sentry_ai_full.jpg" Target="NEW"><img src="rsrc/Three/KismetExamples/ex_sentry_ai.jpg" /></a>
<p />
The sequence is triggered by the <em>Beginning of Level</em> output of the Level Loaded event. This activates an Actor Factory with a UTActorFactoryAI <em>Factory</em> that spawns a single AI entity at a specified PathNode. A reference to the <em>Spawned</em> AI is saved to an empty Object variable, named <em>SpawnedBot</em> in the example.
<p />
Two separate loops are activated by the <em>Finished</em> output of the Actor Factory. The first loop controls the firing state of the AI entity. The <em>SpawnedBot</em> variable is first compared to an empty Object variable using a Compare Object condition with an activate delay on the A = B output of 0.25. If the comparison fails, a Trace is performed from the <em>SpawnedBot</em> to the player. If no obstruction was found, the <em>SpawnedBot</em> begins firing at the player via a Start Firing At action. The output of the Start Firing At is connected back around to the Compare Object condition to start the loop again. If an obstruction is found from the Trace, the <em>Spawned Bot</em> stops firing and the output of the Stop Firing action is connected back to the input of the Compare Object condition to start the loop again.
<p />
The second loop controls the AI entities movement. Again, the <em>SpawnedBot</em> variable is compared to the empty Object variable using a Compare Object condition. If the comparison fails, the <em>SpawnedBot</em> is directed to move to a different Pathnode using a Move To Actor action. The <em>Finished</em> output activates another Move To Actor action directing the <em>SpawnedBot</em> to move back to the original Pathnode. The finished output of the second Move To Actor is connected back to the input of the Compare Object condition restarting the loop. No delay is necessary in this continuous loop as the use of the <em>Finished</em> outputs builds in a natural delay while the AI entity is moving from one location to another.
<p />
The <em>Finished</em> output of the Actor Factory action also activates an Attach To Event action which associates the <em>SpawnedBot</em> with a Death event. The Death event activates a Set Object action clearing the reference of the <em>SpawnedBot</em>, causing the two loops to no longer loop. The output of the Set Object connects back to the <em>Spawn Actor</em> input of the Actor Factory with an activate delay of 3.0 seconds to cause a bit of delay before respawning a new AI entity.
<p />
<h3><a name="Kismet Weapon"></a> Kismet Weapon </h3>
<p />
This pair of sequences demonstrates the creation of an instant-hit weapon purely through Kismet. It shows how to use Traces, Actor Attachment, Console Commands, Console Events, Particle Events as well as how to cause damage to an Actor.
<p />
<img alt="ex_weapon.jpg" src="rsrc/Three/KismetExamples/ex_weapon.jpg" />
<p />
The first sequence sets up the player by attaching an Emitter (This could be any movable Actor. The Emitter was used because it was already in the level and its position when used in the firing sequence is irrelevant.) to the <em>WeaponPoint</em> socket with a <em>Relative Offset</em> of 3000.0 along the Y-axis. This value represents the effective range of the weapon. Then the <em>BEHINDVIEW</em> console command is executed to put the game into third-person perspective. This is necessary in order for the attachment to rotate with the aim of the camera properly.
<p />
A Console Event associated with the <em>MainFire</em> event name is used to handle the firing. The UDKInput.ini was modified adding <em>CauseEvent MainFire</em> to the current binding for firing weapons.
<p />
<pre>
Bindings&#61;(Name&#61;&#34;GBA&#95;Fire&#34;,Command&#61;&#34;CauseEvent MainFire &#124; StartFire &#124; OnRelease StopFire&#34;)
</pre>
<p />
This activates a Trace action that performs a trace from the player to the attached Emitter. If something obstructed the trace, meaning something was hit along the way, then the <em>HitObject</em> is damaged with a Modify Health action using the player as the <em>Instigator</em>. At the same time, a Particle Event Generator is used to cause the Emitter to spawn a burst of particles at the location of the obstruction simulating a hit effect such as blood splatter. The ParticleSystem used has a spawn event receiver module looking for the <em>HitEffect</em> event, the same name passed to the the <em>Event Names</em> variable input, which spawns 10 particles.
<p />
To extend the effect, you could also use the <em>Distance</em> variable output on the Trace action to calculate a dynamic damage amount based on how far away the Actor that was hit is from the player. Another possibility is to attach a weapon mesh to the player's mesh, or you could create a pickup system that detaches any current weapon mesh, attaches a new weapon mesh to the player, and changing the Emitter actor used to create a complete weapon inventory system. This may be the type of thing that is normally done through script as it is usually global functionality, but consider if your game has one level that has a shooting minigame or something similar. This type of thing is completely feasible with some creative Kismet scripting.
<p />
<h3><a name="Enemy Waves"></a> Enemy Waves </h3>
<p />
This sequence is an example of a way to set up a system that spawns a new wave of enemies each time all enemies in the previous waves have been destroyed. This example makes use of Loops, Object lists, and Conditions.
<p />
<span style="font:italic 10px arial;">(Click for full size)</span>
<p />
<a href="rsrc/Three/KismetExamples/ex_enemy_wave_full.jpg" Target="NEW"><img src="rsrc/Three/KismetExamples/ex_enemy_wave.jpg" /></a>
<p />
The sequence is initially activated by the <em>Beginning of Level</em> output of a Level Loaded event, though it could be triggered by any event. This plays a Matinee that opens a set of doors behind which the enemies will spawn.
<p />
Once the doors open and the Matinee completes, an Actor Factor with a UTActorFactoryAI <em>Factory</em> spawns an AI entity. The <em>Spawned</em> AI is attached to a Death event using an Attach To Event action. The <em>Spawned</em> AI is also added to an Object List and the number of items in the list is checked. If the number of enemies is less than the maximum, the sequence loops back to the Actor factor. Otherwise, it plays the Matinee in <em>Reverse</em> to close the doors and ends the spawning loop.
<p />
The Death event output removes the Pawn that died from the Object List holding all the enemies. Then the number of enemies in the list is checked again. If there are no more enemies (e.g., the list count is 0), the Matinee is played again starting the next wave.
<p />
This is just a basic framework, of course. You could easily extend this to keep track of the number of waves, displaying a message at the beginning or ending of each wave. You could also increment the number of enemies (via the <em>MaxEnemies</em> variable) spawned each wave to make it progressively more difficult.
<p />
</noautolink>
<p />
<p />
<p />
<p />
<p />
<p />


<!-- BEGIN UE4 NOTICE -->



<div id="version_message" style="display:none;">

    <div style="position:fixed;top:0px;left:0px;width:100%;height:100%;background:#000;opacity:0.5;">

    </div>

    <div style="position:fixed;top:50%;left:50%;margin:-70px 0px 0px -240px;background:#FFF;border-radius:6px;width:480px;box-shadow:0px 5px 30px -5px rgba(0,0,0,0.9);">

        <div style="font-size:16px;font-weight:bold;background: url(rsrc/Three/warning.png) no-repeat scroll 5px 5px;padding:4px 10px 5px 25px;height:21px;width:440px;">

            Important!

        </div>

        <div style="font-size:11px;padding:5px 10px 10px;width:460px;">

            <p>You are viewing documentation for the <strong>Unreal Development Kit (UDK)</strong>.</p>



            <p>If you are looking for the Unreal Engine 4 documentation, please visit the <a style="color:#000;" href="https://docs.unrealengine.com">Unreal Engine 4 Documentation</a> site.</p>

        </div>

        <div style="height:20px;padding:4px;margin:6px;border-top:1px solid #a0a0a0;">

            <form onsubmit="return closeVersionMessage();">

                <input type="checkbox" id="dismiss" value="dismiss" />

                <label for="dsimiss">Don't show me this again</label>

                <input type="submit" value="Close" style="cursor:pointer;float:right;width:60px;color:#f0f0f0;font-weight:bold;background:#882222;height:24px;padding:2px 3px 3px;text-align:center;border:1px outset #000;" />

            </form>

        </div>

    </div>

</div>



<script type="text/javascript">

    window.onload = function () {

        LoadVersionMessage();

    }



    function LoadVersionMessage()

    {

        var showMessage = "false";
        if(showMessage != "false")

        {

            showVersionMessage();

        }

    }



    function showVersionMessage()

    {

        var message = document.getElementById("version_message");

        if(message)

        {

            message.style.display = "block";

        }

    }



    function closeVersionMessage() {

        var dismiss = document.getElementById("dismiss");

        var message = document.getElementById("version_message");

        if (message) {

            message.style.display = "none";

        }

        if (dismiss.checked) {

            eraseCookie("doc_version_message");

            createCookie("doc_version_message", "false", 365);

            dismiss.checked = false;

        }

        return false;

    }



    function createCookie(name, value, days) {

        if (days) {

            var date = new Date();

            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));

            var expires = "; expires=" + date.toGMTString();

        }

        else var expires = "";

        document.cookie = name + "=" + value + expires + "; path=/";

    }



    function readCookie(name) {

        var nameEQ = name + "=";

        var ca = document.cookie.split(';');

        for (var i = 0; i < ca.length; i++) {

            var c = ca[i];

            while (c.charAt(0) == ' ') c = c.substring(1, c.length);

            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);

        }

        return null;

    }



    function eraseCookie(name) {

        createCookie(name, "", -1);

    }

</script>



<!-- END UE4 NOTICE -->



</div></div><div id="footer"><div style="BACKGROUND-COLOR: transparent; margin: 0; padding: 0; width: 100%;"><div>&nbsp;</div><div style="float: left; text-align: left; vertical-align: bottom; width: 50%;"><a href="http://www.videogamevoters.org"><img src="rsrc/vgvn.jpg" border="0" width="234" height="60" alt="Video Game Voters Network" /></a></div><div style="float: right; text-align: right; vertical-align: bottom; width: 50%;">Copyright &copy; 2001-2012 <a href="http://www.epicgames.com" target="_top">Epic Games, Inc.</a><br /><a href="../Main/TermsAndConditions.html" class="twikiLink">Terms and Conditions</a><br /><a href="http://epicgames.com/privacynotice" target="_top">Privacy Notice</a></div></div></div></div>
<p />
</html></body>
