<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title> UDK | AdditiveAnimations    </title>

<style type="text/css" media="all">@import "rsrc/twiki_webs.css";</style>
<style type="text/css" media="all">@import "rsrc/udn_new.css";</style>
<link rel="icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />


<!-- view.static_udn3.tmpl  -->
<script language="JavaScript" type="text/javascript" src="rsrc/udn.js"></script>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

</head>
<p />
<body id="webbgThree">
<p />

<p />
<div id="webThree"><div id="head">
<!--
<div class="header">
 -->
<div style="background: url(/pub/webbg_udn.jpg); background-repeat: no-repeat; height:140px; width: 100%;" >
<!--
<div style="background: transparent url(/pub/udn_header_bg.jpg); background-repeat: repeat-x; height:140px; width: 100%; margin-left: 991px;">
 -->
<p />
<div id="nav">
<ul class="nav">
<font color=black>|</font>&nbsp;&nbsp;<li class=nav_Three><a href="../Main/WebHome.html" class="twikiLink">Main</a></li><font color=black>|</font><li class=nav_Three><a href="../Two/WebHome.html" class="twikiLink">UnrealEngine2</a></li><font color=black>|</font><li class=nav_Three><a href="WebHome.html" class="twikiLink">UnrealEngine3</a></li><font color=black>|</font><li class=nav_Three><a href="https://docs.unrealengine.com" class="twikiLink">UnrealEngine4</a></li><font color=black>|</font><li class=nav_Three><a href="../Main/BusinessAndLegal.html" class="twikiLink">Business &amp; Legal</a></li><font color=black>|</font>
</ul><br><br><br>
</div>
</div>
</div> <!-- end head -->
<div id="pagedefault">
<div id="maincol">
<div id="tool">
<div id="tooltop">UDN</div>
<div id="tooltext" style="padding: 10px 10px 10px 10px;">
Search public documentation: <br>
<form ACTION="/search/index.php" METHOD="GET" NAME="main" ID="main">
<input TYPE="TEXT" NAME="q" SIZE="15" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;">
<input TYPE="SUBMIT" VALUE="Search" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;"><br>
</form>
</div>
<div id="toolband">AdditiveAnimations  </b></div>
<div id="tooltext">
<a href="AdditiveAnimationsJP.html" class="twikiLink">日本語訳</a><br><a href="AdditiveAnimationsCH.html" class="twikiLink">中国翻译</a><br><a href="AdditiveAnimationsKR.html" class="twikiLink">한국어</a><br>

<!-- Three/AdditiveAnimations -->
<hr size="1" noshade="noshade" />
Interested in the Unreal Engine? <br>
Visit the <a href="http://www.unrealtechnology.com" target="_top">Unreal Technology</a> site.<br>
<br>
Looking for jobs and company info? <br>
Check out the <a href="http://www.epicgames.com" target="_top">Epic games</a> site.<br>
<br>
Questions about support via UDN? <br>
Contact the <a href="../Main/ContactUDNStaff.html" class="twikiLink">UDN Staff</a> <br>
<br>
</div> <!-- end toolbox content -->
<div id="toolbottom"></div>
</div> <!-- end tool -->
<p />
<noautolink>
<div style="padding:0px 0px 0px 4px;font:10px Verdana;">
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="AnimationHome.html" class="twikiLink">Animation</a></b> &gt; Additive Animation <br/>
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="AnimatorHome.html" class="twikiLink">Animators</a></b> &gt; Additive Animation
</div>
<hr size="1" noshade="noshade">
<h1><a name="Additive Animation"></a> Additive Animation </h1>
<hr size="1" noshade="noshade">
<p />
<div class="twikiToc"> <ul>
<li> <a href="AdditiveAnimations.html#Additive Animation"> Additive Animation</a> <ul>
<li> <a href="AdditiveAnimations.html#Overview"> Overview</a> <ul>
<li> <a href="AdditiveAnimations.html#Additive animation verses filters"> Additive animation verses filters</a>
</li> <li> <a href="AdditiveAnimations.html#Problems with additive animations"> Problems with additive animations</a>
</li></ul>
</li> <li> <a href="AdditiveAnimations.html#Creating an Additive Animation"> Creating an Additive Animation</a>
</li> <li> <a href="AdditiveAnimations.html#Viewing An Additive Animation"> Viewing An Additive Animation</a>
</li> <li> <a href="AdditiveAnimations.html#Playing an Additive Animation"> Playing an Additive Animation</a> <ul>
<li> <a href="AdditiveAnimations.html#AnimNodeAdditiveBlending"> AnimNodeAdditiveBlending</a>
</li> <li> <a href="AdditiveAnimations.html#AnimNodeSlot"> AnimNodeSlot</a>
</li></ul>
</li> <li> <a href="AdditiveAnimations.html#Additive Animation Manipulation"> Additive Animation Manipulation</a> <ul>
<li> <a href="AdditiveAnimations.html#Addition/Subtraction"> Addition/Subtraction</a>
</li></ul>
</li></ul>
</li></ul>
</div>
<p />
<h2><a name="Overview"></a> Overview </h2>
<hr size="1" noshade="noshade">
Additive animations are calculated by subtracting two animations with each other, and is stored as the difference between the two. Additive animations are not really usable by themselves, as it needs to be added to another animation in order for it to work. The idea behind using additive animation, is to find additive poses that can be applied to multiple animations. This reduces the overall number of animations needed for each state. For example a weapon reload animation could be made additive. Now it could be added on top of an idle animation, a walk animation set (forward, back, left and right), and running. So instead of doing a reload while walking forward animation, and all the other combinations, a reload additive is made instead, and added on top of walk forward, run backwards, and so on.
<p />
<h3><a name="Additive animation verses filters"></a> Additive animation verses filters </h3>
The weapon reload example above could have also been done using a filter. The reload animation could be played on the upper body of the character, while leaving the lower body to play the idle, walk or run animations. The problem with using a filter is that it completely overrides the upper body. So it would look just as stiff when standing idle, than running resulting in an unnatural animation blend. Even if interpolating the filter weights down the spine and the shoulders, the resulting blend still doesn't look very good. By using an additive animation, both motions (the full body movement and the reload) are preserved, and provide much better looking results.
<p />
<h3><a name="Problems with additive animations"></a> Problems with additive animations </h3>
The problem with additive animation, is that adding two animations together doesn't always give you what you want. When built, an additive animation is the difference between two animations. What you get is an additive animation, that works very well on top of that particular animation. But if you use the additive animation with another animation, the result may not be what you're after.
<p />
You may have guns clipping into faces, character animating unnaturally, etc. So creating and using additive animations is not always an easy process. Generally you'll want to use additive animations on top of animations that are very close to the base pose, and you'll want to use IK Bones to fix errors in limbs. A common problem is using an additive animation that affects the hips and legs of a character, but the result doesn't put the feet on the ground where you'd expect them to be. Using foot placement would solve this problem for example.
<p />
<h2><a name="Creating an Additive Animation"></a> Creating an Additive Animation </h2>
<hr size="1" noshade="noshade">
Both animations you want to subtract with each other have to reside in the same AnimSet. Open it up in the <a href="AnimSetEditorUserGuide.html" class="twikiLink">AnimSet Editor</a>. Select an animation in the browser. If you want to do Additive = A - B, you will select A first, and then select in the AnimSequence menu in the tool bar Convert Sequence(s) to Additive Animation(s).
<p />
<img src="rsrc/Three/AdditiveAnimations/AdditiveMenu.jpg" width='350' height='310' />
<p />
Once you have selected that, a dialog will appear:
<p />
<img src="rsrc/Three/AdditiveAnimations/AdditiveCreation.jpg" width='346' height='427' />
<p />
The first box asks you which method you want to pick to build the additive animation. The operation will be, Destination (Additive) = Source (selected animation) - Base Pose.
<p /> <ol>
<li> <strong>Reference Pose</strong> - Use the Skeletal Mesh Bind Pose as the Base Pose.
</li> <li> <strong>Animation First Frame</strong> - Use the first frame of the base pose animation.
</li> <li> <strong>Animation Scaled</strong> - The base pose animation will be scaled to match the length of the source, and then the subtraction will be performed.
</li></ol>
<p />
When the operation is complete, an additive animation with the name ADD_(Name_Of_Source_Animation) will be created.
<p />
<h2><a name="Viewing An Additive Animation"></a> Viewing An Additive Animation </h2>
<hr size="1" noshade="noshade">
Since an additive animation only represents the different between two animations, it's not something you can view by itself. To help visualize additive animations the base pose is stored along with the additive animation. Thus what you will see playing in the AnimSet Editor is the base pose + additive animation. The skeleton display will also show that. Next to that icon on the tool bar, there is also an icon to view the Base Pose animation. Clicking this will display the Base Pose skeleton in purple. In the screen shot below you can see the two skeletons, and how the additive animation transforms the base pose (purple) into what we see (white).
<p />
<img src="rsrc/Three/AdditiveAnimations/AnimSetViewerAdditive.jpg" width='782' height='600' />
<p />
<h2><a name="Playing an Additive Animation"></a> Playing an Additive Animation </h2>
<hr size="1" noshade="noshade">
Additive Animations can be played using two methods in the AnimTree Editor. Either by using an AnimNodeAdditiveBlending node, or by using an AnimNodeSlot.
<p />
<h3><a name="AnimNodeAdditiveBlending"></a> AnimNodeAdditiveBlending </h3>
This node has two inputs. The one is the base pose, and takes a normal animation. The second input takes an additive animation. The slider allows to control the amount of additive animation applied on top of the base pose (0 - 100%).
<p />
<img src="rsrc/Three/AdditiveAnimations/AdditiveBlendingNode.jpg" alt="AdditiveBlendingNode.jpg" width='800' height='295' />
<p />
<h3><a name="AnimNodeSlot"></a> AnimNodeSlot </h3>
AnimNodeSlots understand how to handle additive animations. So you don't need to use these in a particular way. Just play an additive animation on it, and instead of overriding the Source input, it will just add the additive animation to it.
<p />
<h2><a name="Additive Animation Manipulation"></a> Additive Animation Manipulation </h2>
<hr size="1" noshade="noshade">
In the AnimSequence Menu from the AnimSet Viewer tool bar, it is possible to manipulate additive animations.
<p />
<img src="rsrc/Three/AdditiveAnimations/AdditiveMenu.jpg" width='350' height='310' />
<p />
<h3><a name="Addition/Subtraction"></a> Addition/Subtraction </h3>
By selecting "Add Additive Animation to selected sequence(s)" or "Subtract Additive Animation to selected sequence(s)", you can add or subtract an additive animation to your current selection.
<p />
<img src="rsrc/Three/AdditiveAnimations/AddSubtractAdditive.jpg" width='346' height='491' />
<p />
The first box lets you enter the name of the new animation to create.
<p />
The Second box lets you choose how to combine the two animations together.
<p /> <ul>
<li> <strong>Scale Additive To Source</strong> - Scales the additive animation to match length of source.
</li> <li> <strong>Scale Source To Additive</strong> - Scales the source animation to match length of additive.
</li></ul>
<p />
The third box lets you choose which additive animation to use. Note that you can add or subtract an additive to a normal animation or to another additive.
<p />
</noautolink>
<p />
<p />
<p />
<p />
<p />
<p />


<!-- BEGIN UE4 NOTICE -->



<div id="version_message" style="display:none;">

    <div style="position:fixed;top:0px;left:0px;width:100%;height:100%;background:#000;opacity:0.5;">

    </div>

    <div style="position:fixed;top:50%;left:50%;margin:-70px 0px 0px -240px;background:#FFF;border-radius:6px;width:480px;box-shadow:0px 5px 30px -5px rgba(0,0,0,0.9);">

        <div style="font-size:16px;font-weight:bold;background: url(rsrc/Three/warning.png) no-repeat scroll 5px 5px;padding:4px 10px 5px 25px;height:21px;width:440px;">

            Important!

        </div>

        <div style="font-size:11px;padding:5px 10px 10px;width:460px;">

            <p>You are viewing documentation for the <strong>Unreal Development Kit (UDK)</strong>.</p>



            <p>If you are looking for the Unreal Engine 4 documentation, please visit the <a style="color:#000;" href="https://docs.unrealengine.com">Unreal Engine 4 Documentation</a> site.</p>

        </div>

        <div style="height:20px;padding:4px;margin:6px;border-top:1px solid #a0a0a0;">

            <form onsubmit="return closeVersionMessage();">

                <input type="checkbox" id="dismiss" value="dismiss" />

                <label for="dsimiss">Don't show me this again</label>

                <input type="submit" value="Close" style="cursor:pointer;float:right;width:60px;color:#f0f0f0;font-weight:bold;background:#882222;height:24px;padding:2px 3px 3px;text-align:center;border:1px outset #000;" />

            </form>

        </div>

    </div>

</div>



<script type="text/javascript">

    window.onload = function () {

        LoadVersionMessage();

    }



    function LoadVersionMessage()

    {

        var showMessage = "false";
        if(showMessage != "false")

        {

            showVersionMessage();

        }

    }



    function showVersionMessage()

    {

        var message = document.getElementById("version_message");

        if(message)

        {

            message.style.display = "block";

        }

    }



    function closeVersionMessage() {

        var dismiss = document.getElementById("dismiss");

        var message = document.getElementById("version_message");

        if (message) {

            message.style.display = "none";

        }

        if (dismiss.checked) {

            eraseCookie("doc_version_message");

            createCookie("doc_version_message", "false", 365);

            dismiss.checked = false;

        }

        return false;

    }



    function createCookie(name, value, days) {

        if (days) {

            var date = new Date();

            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));

            var expires = "; expires=" + date.toGMTString();

        }

        else var expires = "";

        document.cookie = name + "=" + value + expires + "; path=/";

    }



    function readCookie(name) {

        var nameEQ = name + "=";

        var ca = document.cookie.split(';');

        for (var i = 0; i < ca.length; i++) {

            var c = ca[i];

            while (c.charAt(0) == ' ') c = c.substring(1, c.length);

            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);

        }

        return null;

    }



    function eraseCookie(name) {

        createCookie(name, "", -1);

    }

</script>



<!-- END UE4 NOTICE -->



</div></div><div id="footer"><div style="BACKGROUND-COLOR: transparent; margin: 0; padding: 0; width: 100%;"><div>&nbsp;</div><div style="float: left; text-align: left; vertical-align: bottom; width: 50%;"><a href="http://www.videogamevoters.org"><img src="rsrc/vgvn.jpg" border="0" width="234" height="60" alt="Video Game Voters Network" /></a></div><div style="float: right; text-align: right; vertical-align: bottom; width: 50%;">Copyright &copy; 2001-2012 <a href="http://www.epicgames.com" target="_top">Epic Games, Inc.</a><br /><a href="../Main/TermsAndConditions.html" class="twikiLink">Terms and Conditions</a><br /><a href="http://epicgames.com/privacynotice" target="_top">Privacy Notice</a></div></div></div></div>
<p />
</html></body>
