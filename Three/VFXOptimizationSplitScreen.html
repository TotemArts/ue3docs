<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title> UDK | VFXOptimizationSplitScreen    </title>

<style type="text/css" media="all">@import "rsrc/twiki_webs.css";</style>
<style type="text/css" media="all">@import "rsrc/udn_new.css";</style>
<link rel="icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />


<!-- view.static_udn3.tmpl  -->
<script language="JavaScript" type="text/javascript" src="rsrc/udn.js"></script>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

</head>
<p />
<body id="webbgThree">
<p />

<p />
<div id="webThree"><div id="head">
<!--
<div class="header">
 -->
<div style="background: url(/pub/webbg_udn.jpg); background-repeat: no-repeat; height:140px; width: 100%;" >
<!--
<div style="background: transparent url(/pub/udn_header_bg.jpg); background-repeat: repeat-x; height:140px; width: 100%; margin-left: 991px;">
 -->
<p />
<div id="nav">
<ul class="nav">
<font color=black>|</font>&nbsp;&nbsp;<li class=nav_Three><a href="../Main/WebHome.html" class="twikiLink">Main</a></li><font color=black>|</font><li class=nav_Three><a href="../Two/WebHome.html" class="twikiLink">UnrealEngine2</a></li><font color=black>|</font><li class=nav_Three><a href="WebHome.html" class="twikiLink">UnrealEngine3</a></li><font color=black>|</font><li class=nav_Three><a href="https://docs.unrealengine.com" class="twikiLink">UnrealEngine4</a></li><font color=black>|</font><li class=nav_Three><a href="../Main/BusinessAndLegal.html" class="twikiLink">Business &amp; Legal</a></li><font color=black>|</font>
</ul><br><br><br>
</div>
</div>
</div> <!-- end head -->
<div id="pagedefault">
<div id="maincol">
<div id="tool">
<div id="tooltop">UDN</div>
<div id="tooltext" style="padding: 10px 10px 10px 10px;">
Search public documentation: <br>
<form ACTION="/search/index.php" METHOD="GET" NAME="main" ID="main">
<input TYPE="TEXT" NAME="q" SIZE="15" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;">
<input TYPE="SUBMIT" VALUE="Search" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;"><br>
</form>
</div>
<div id="toolband">VFXOptimizationSplitScreen  </b></div>
<div id="tooltext">
<a href="VFXOptimizationSplitScreenJP.html" class="twikiLink">日本語訳</a><br><a href="VFXOptimizationSplitScreenCH.html" class="twikiLink">中国翻译</a><br><a href="VFXOptimizationSplitScreenKR.html" class="twikiLink">한국어</a><br>

<!-- Three/VFXOptimizationSplitScreen -->
<hr size="1" noshade="noshade" />
Interested in the Unreal Engine? <br>
Visit the <a href="http://www.unrealtechnology.com" target="_top">Unreal Technology</a> site.<br>
<br>
Looking for jobs and company info? <br>
Check out the <a href="http://www.epicgames.com" target="_top">Epic games</a> site.<br>
<br>
Questions about support via UDN? <br>
Contact the <a href="../Main/ContactUDNStaff.html" class="twikiLink">UDN Staff</a> <br>
<br>
</div> <!-- end toolbox content -->
<div id="toolbottom"></div>
</div> <!-- end tool -->
<p />
<noautolink>
<p />
<div style="padding:0px 0px 0px 4px;font:10px Verdana;">
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="ParticlesAndEffectsHome.html" class="twikiLink">Particles &amp; Effects</a></b> &gt; <b><a href="ParticleSystemsHome.html" class="twikiLink">Particles Systems</a></b> &gt; <b><a href="VFXOptimization.html" class="twikiLink">VFX Optimization in UE3</a></b> &gt; VFX Optimization: Split Screen <br/>
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="FXArtistHome.html" class="twikiLink">FX Artists</a></b> &gt; <b><a href="VFXOptimization.html" class="twikiLink">VFX Optimization in UE3</a></b> &gt; VFX Optimization: Split Screen
</div>
<hr size="1" noshade="noshade">
<h1><a name="VFX Optimization: Split Screen"></a> VFX Optimization: Split Screen </h1>
<hr size="1" noshade="noshade">
<p />
<div class="twikiToc"> <ul>
<li> <a href="VFXOptimizationSplitScreen.html#VFX Optimization: Split Screen"> VFX Optimization: Split Screen</a> <ul>
<li> <a href="VFXOptimizationSplitScreen.html#Detail Mode Overview"> Detail Mode Overview</a>
</li> <li> <a href="VFXOptimizationSplitScreen.html#Commands"> Commands</a>
</li></ul>
</li></ul>
</div>
<p />
<h2><a name="Detail Mode Overview"></a> Detail Mode Overview </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
UE3 currently allows for the switching between 3 detail modes.  Low, Medium, and High.  In cases involving effects detail modes are set for Medium, and High detail.  This is used primarily for the case of split screen where draw calls can reach performance lowering levels.  The primary objective being to reduce draw calls in medium detail mode by culling or reducing emission rates.
<p />
Changing the setting in the Medium Detail Spawn Rate Scale field on the emitter in cascade will reduce your emission rate, when the game is running in Medium Detail Mode.  These settings can be used to reduce overdraw and draw calls depending upon requirements.  In the case of split screen draw call reduction is key.
<p />
<a href="VFXOptimizationResults.html#RenderThread" class="twikiAnchorLink">How do I determine Draw Calls?</a>
<p />
It is possible to view Medium Detail Mode in Cascade using the view menu drop downs, or the <img alt="cascadedetail.jpg" src="rsrc/Three/VFXOptimizationSplitScreen/cascadedetail.jpg" /> icon. View mode can be set in the editor using the View menu/Detail mode settings.  Change to Medium to see Medium Detail Spawn Rate Scale and you should see red text displaying the detail mode currently active.  It is critical to work in Medium Detail Mode only when adjusting effects for this mode.  Changes will not be visible in game by default, unless your project defaults to Medium Detail Mode.
<p />
Medium Detail Spawn Rate Scale is a multiplier, sticking to a 0-1 range will set the appropriate value.  Essentially setting to .5 will halve particle emission counts, a value of 1 will use the current emission rate.  The values are clamped and will not go above 1.
<p />
It is good practice to consider split screen when in the process of placing Ambient effects.  If the effect is non-essential to split screen and has a high number of draw calls, it might be a good place to start reducing emission counts especially if the effect consists only of mesh emitters.
<p />
It is important to remember Draw Calls for particles are determined by material, and are a fixed cost regardless of emission count.  For example, a 1 pass material on an emitter with an emission rate of 30 is only 1 draw call.
<p />
<h2><a name="Commands"></a> Commands </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
There are several commands which are useful in determining Draw Call costs.
<p />
To switch to SplitScreen Mode in PIE or the game use the command <code><b>debugCreatePlayer1</b></code>
<p />
If you only have 1 controller use the command <code><b>ssswapControllers</b></code> to jump between Players.
<p />
Enable the splitscreen overlay using the command <code><b>STAT SPLITSCREEN</b></code>
<p />
For particle effects, reference the Particle Draw Calls section, keeping an eye on the MeshParticles section which is where greatest gains can be made quickly by setting the MediumDetailSpawnRateScale.
<p />
View drawCalls for a given area using the command <code><b>DumpParticleFrameRenderingStats</b></code>
<p />
This command dumps a spreadsheet and a screenshot of where the action took place.  If the <code><b>STAT SPLITSCREEN</b></code> command is enabled a readout of Draw Calls when the shot was taken will be visible.  This screenshot is an estimation since it is taken after the data is dumped and is more of a visual reference.
<p />
Viewing the stats in the spreadsheet is straight forward, the spreadsheet should look something like this.
<p />
<img src="rsrc/Three/VFXOptimizationSplitScreen/particlestats.jpg" alt="particlestats.jpg" width="624" height="176" />
<p />
In this case the fix is pretty straight fwd, we have one effect that must call a bunch of meshes and they loop spawn most likely.  This can be tricky however, because if 1 effect is the primary culprit, and you wish to keep the effects current visuals there is only one option, convert the meshes to sprites.
<p />
If however the emitter is not necessary for splitscreen, set the <code><b>mediumDetailSpawn</b></code> rate to 0.00.
<p />
Spread Sheet stat columns are named with appropriate descriptions:
<p /> <dl>
<dt> <strong>RenderTime ms</strong>  </dt><dd> how many ms it takes to render the effect
</dd> <dt> <strong>NumComponents</strong>  </dt><dd> how many instances of the particle system are in view and active
</dd> <dt> <strong>NumPasses</strong>  </dt><dd> how many passes are in the material being called by the emitter
</dd> <dt> <strong>NumEmitters</strong>  </dt><dd> how many emitters are in the particle system
</dd> <dt> <strong>NumDraws</strong>  </dt><dd> the accumulated number of draw calls for all instances of the particle system
</dd></dl>
<p />
Back to <a href="VFXOptimization.html" class="twikiLink">VFX Optimization</a>
<p />
</noautolink>
<p />
<p />
<p />
<p />
<p />
<p />


<!-- BEGIN UE4 NOTICE -->



<div id="version_message" style="display:none;">

    <div style="position:fixed;top:0px;left:0px;width:100%;height:100%;background:#000;opacity:0.5;">

    </div>

    <div style="position:fixed;top:50%;left:50%;margin:-70px 0px 0px -240px;background:#FFF;border-radius:6px;width:480px;box-shadow:0px 5px 30px -5px rgba(0,0,0,0.9);">

        <div style="font-size:16px;font-weight:bold;background: url(rsrc/Three/warning.png) no-repeat scroll 5px 5px;padding:4px 10px 5px 25px;height:21px;width:440px;">

            Important!

        </div>

        <div style="font-size:11px;padding:5px 10px 10px;width:460px;">

            <p>You are viewing documentation for the <strong>Unreal Development Kit (UDK)</strong>.</p>



            <p>If you are looking for the Unreal Engine 4 documentation, please visit the <a style="color:#000;" href="https://docs.unrealengine.com">Unreal Engine 4 Documentation</a> site.</p>

        </div>

        <div style="height:20px;padding:4px;margin:6px;border-top:1px solid #a0a0a0;">

            <form onsubmit="return closeVersionMessage();">

                <input type="checkbox" id="dismiss" value="dismiss" />

                <label for="dsimiss">Don't show me this again</label>

                <input type="submit" value="Close" style="cursor:pointer;float:right;width:60px;color:#f0f0f0;font-weight:bold;background:#882222;height:24px;padding:2px 3px 3px;text-align:center;border:1px outset #000;" />

            </form>

        </div>

    </div>

</div>



<script type="text/javascript">

    window.onload = function () {

        LoadVersionMessage();

    }



    function LoadVersionMessage()

    {

        var showMessage = "false";
        if(showMessage != "false")

        {

            showVersionMessage();

        }

    }



    function showVersionMessage()

    {

        var message = document.getElementById("version_message");

        if(message)

        {

            message.style.display = "block";

        }

    }



    function closeVersionMessage() {

        var dismiss = document.getElementById("dismiss");

        var message = document.getElementById("version_message");

        if (message) {

            message.style.display = "none";

        }

        if (dismiss.checked) {

            eraseCookie("doc_version_message");

            createCookie("doc_version_message", "false", 365);

            dismiss.checked = false;

        }

        return false;

    }



    function createCookie(name, value, days) {

        if (days) {

            var date = new Date();

            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));

            var expires = "; expires=" + date.toGMTString();

        }

        else var expires = "";

        document.cookie = name + "=" + value + expires + "; path=/";

    }



    function readCookie(name) {

        var nameEQ = name + "=";

        var ca = document.cookie.split(';');

        for (var i = 0; i < ca.length; i++) {

            var c = ca[i];

            while (c.charAt(0) == ' ') c = c.substring(1, c.length);

            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);

        }

        return null;

    }



    function eraseCookie(name) {

        createCookie(name, "", -1);

    }

</script>



<!-- END UE4 NOTICE -->



</div></div><div id="footer"><div style="BACKGROUND-COLOR: transparent; margin: 0; padding: 0; width: 100%;"><div>&nbsp;</div><div style="float: left; text-align: left; vertical-align: bottom; width: 50%;"><a href="http://www.videogamevoters.org"><img src="rsrc/vgvn.jpg" border="0" width="234" height="60" alt="Video Game Voters Network" /></a></div><div style="float: right; text-align: right; vertical-align: bottom; width: 50%;">Copyright &copy; 2001-2012 <a href="http://www.epicgames.com" target="_top">Epic Games, Inc.</a><br /><a href="../Main/TermsAndConditions.html" class="twikiLink">Terms and Conditions</a><br /><a href="http://epicgames.com/privacynotice" target="_top">Privacy Notice</a></div></div></div></div>
<p />
</html></body>
