<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title> UDK | APEXClothing    </title>

<style type="text/css" media="all">@import "rsrc/twiki_webs.css";</style>
<style type="text/css" media="all">@import "rsrc/udn_new.css";</style>
<link rel="icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />


<!-- view.static_udn3.tmpl  -->
<script language="JavaScript" type="text/javascript" src="rsrc/udn.js"></script>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

</head>
<p />
<body id="webbgThree">
<p />

<p />
<div id="webThree"><div id="head">
<!--
<div class="header">
 -->
<div style="background: url(/pub/webbg_udn.jpg); background-repeat: no-repeat; height:140px; width: 100%;" >
<!--
<div style="background: transparent url(/pub/udn_header_bg.jpg); background-repeat: repeat-x; height:140px; width: 100%; margin-left: 991px;">
 -->
<p />
<div id="nav">
<ul class="nav">
<font color=black>|</font>&nbsp;&nbsp;<li class=nav_Three><a href="../Main/WebHome.html" class="twikiLink">Main</a></li><font color=black>|</font><li class=nav_Three><a href="../Two/WebHome.html" class="twikiLink">UnrealEngine2</a></li><font color=black>|</font><li class=nav_Three><a href="WebHome.html" class="twikiLink">UnrealEngine3</a></li><font color=black>|</font><li class=nav_Three><a href="https://docs.unrealengine.com" class="twikiLink">UnrealEngine4</a></li><font color=black>|</font><li class=nav_Three><a href="../Main/BusinessAndLegal.html" class="twikiLink">Business &amp; Legal</a></li><font color=black>|</font>
</ul><br><br><br>
</div>
</div>
</div> <!-- end head -->
<div id="pagedefault">
<div id="maincol">
<div id="tool">
<div id="tooltop">UDN</div>
<div id="tooltext" style="padding: 10px 10px 10px 10px;">
Search public documentation: <br>
<form ACTION="/search/index.php" METHOD="GET" NAME="main" ID="main">
<input TYPE="TEXT" NAME="q" SIZE="15" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;">
<input TYPE="SUBMIT" VALUE="Search" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;"><br>
</form>
</div>
<div id="toolband">APEXClothing  </b></div>
<div id="tooltext">
<a href="https://udn.epicgames.com/Three/APEXClothingJP" class="restricted" class="restricted" class="twikiLink">日本語訳</a><br><a href="APEXClothingCH.html" class="twikiLink">中国翻译</a><br><a href="APEXClothingKR.html" class="twikiLink">한국어</a><br>

<!-- Three/APEXClothing -->
<hr size="1" noshade="noshade" />
Interested in the Unreal Engine? <br>
Visit the <a href="http://www.unrealtechnology.com" target="_top">Unreal Technology</a> site.<br>
<br>
Looking for jobs and company info? <br>
Check out the <a href="http://www.epicgames.com" target="_top">Epic games</a> site.<br>
<br>
Questions about support via UDN? <br>
Contact the <a href="../Main/ContactUDNStaff.html" class="twikiLink">UDN Staff</a> <br>
<br>
</div> <!-- end toolbox content -->
<div id="toolbottom"></div>
</div> <!-- end tool -->
<p />
<noautolink>
<p />
<div style="padding:0px 0px 0px 4px;font:10px Verdana;">
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="APEXOverview.html" class="twikiLink">APEX Framework</a></b> &gt; APEX Clothing in UE3 <br/>
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="CharacterArtistHome.html" class="twikiLink">Character Artist</a></b> &gt; APEX Clothing in UE3
</div>
<hr size="1" noshade="noshade">
<h1><a name="APEX Clothing in UE3"></a> APEX Clothing in UE3 </h1>
<hr size="1" noshade="noshade">
<p />
<div class="twikiToc"> <ul>
<li> <a href="APEXClothing.html#APEX Clothing in UE3"> APEX Clothing in UE3</a> <ul>
<li> <a href="APEXClothing.html#Overview"> Overview</a>
</li> <li> <a href="APEXClothing.html#Getting the Tools"> Getting the Tools</a>
</li> <li> <a href="APEXClothing.html#Tutorials"> Tutorials</a>
</li> <li> <a href="APEXClothing.html#Importing"> Importing</a>
</li> <li> <a href="APEXClothing.html#Asset Settings"> Asset Settings</a>
</li> <li> <a href="APEXClothing.html#Controlling Behavior During Animation (Choreographing Clothing)"> Controlling Behavior During Animation (Choreographing Clothing)</a>
</li> <li> <a href="APEXClothing.html#Graphical LOD"> Graphical LOD</a>
</li> <li> <a href="APEXClothing.html#Wind"> Wind</a>
</li> <li> <a href="APEXClothing.html#Clothing Lag Hints"> Clothing Lag Hints</a>
</li> <li> <a href="APEXClothing.html#Samples"> Samples</a>
</li></ul>
</li></ul>
</div>
<p />
<h2><a name="Overview"></a> Overview </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
APEX Clothing is a module of the APEX Framework developed by NVIDIA. With APEX Clothing users can create realistic clothing on their charcters within games.  APEX Clothing has been integrated into UE3 and is available to licensees and UDK users.  This page provides instructions on how to import and use APEX clothing within UE3.
<p />
More information on the APEX Clothing module can be found on the <a href="http://developer.nvidia.com/object/apex_clothing.html" target="_top">NVIDIA Clothing</a> page.
<p />
<h2><a name="Getting the Tools"></a> Getting the Tools </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
The tools can be found on this page <a href="APEXOverview.html" class="twikiLink">APEX Overview</a> in the "Getting the Tools" section.
<p />
<h2><a name="Tutorials"></a> Tutorials </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
The latest clothing tutorials will be available with the tools but can also be viewed here: <a href="http://www.youtube.com/user/NvidiaApexDeveloper#p/a" target="_top">APEX Tutorials</a>
<p />
<h2><a name="Importing"></a> Importing </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p /> <ol>
<li> Import the <a href="ImportingSkeletalMeshTutorial.html" class="twikiLink">Skeletal Mesh</a> and <a href="ImportingAnimationsTutorial.html" class="twikiLink">animation</a> files (.psk and .psa) for the asset which will have clothing.
</li> <li> In the <a href="MaterialEditorUserGuide.html" class="twikiLink">Material Editor</a> create a material with the <strong>Two Sided?</strong> and <strong>Used With APEXMeshes?</strong> flags set.   <br /> <img alt="UDN_APEX_Clothing_Material_500.jpg" src="rsrc/Three/APEXClothing/UDN_APEX_Clothing_Material_500.jpg" /> <br /> <br />
</li> <li> Import the .apx file that you have created with the Max/Maya clothing plugin.   <dl>
<dt> <strong>Note</dt><dd> Ensure that you export using the "APEX Clothing" export option and NOT "APEX ARM"</strong>
</dd></dl>
</li> <li> Open the AnimSet Viewer and connect the <strong>Apex Clothing Asset</strong> to the mesh.
</li> <li> By default, only 1 clothing slot is available. Adding a APEX Clothing node here, will create a new empty slot.  1 slot will always be empty to allow for multiple clothing assets to be added.
</li> <li> There is a new Clothing LOD Map section under Skeletal Mesh.  This section is used to associate a Clothing Asset with graphical materials and to manage LOD's.
</li> <li> To associate a APEX Clothing Asset with a graphical material, set the Clothing Section Info of the corresponding Clothing Asset to the Material ID desired. This will replace the graphical version of the mesh section with the APEX Clothing Asset. <br /> <img alt="Clothing_LOD_map1.png" src="rsrc/Three/APEXClothing/Clothing_LOD_map1.png" /> <br /> <br />
</li> <li> Use Clothing Asset Material - On the Skeletal Mesh in Anim Set Viewer, there is now an Apex Clothing section at the bottom.  This control allows you to override the graphics material with a substitute graphics material that is defined in the        APEX Clothing Asset.  This supports multiple materials per clothing asset. The default is unchecked.  This means that the APEX Clothing Asset will inherit the material from the skeletal mesh by default. Checking this control on causes all Clothing materials on the given skeletal Mesh to be overridden by their respective Clothing Assets.   <br /> <img alt="Apex_Clothing_Material_Override.png" src="rsrc/Three/APEXClothing/Apex_Clothing_Material_Override.png" />.<br /> <br />
</li> <li> If the override is enabled, Set the materials in the APEX Clothing Node. ( See image in Asset Settings below)
</li> <li> You can use the <strong>PhysX Debug</strong> menu in order to view various aspects of the APEX Clothing.   <br /> <img alt="UDN_APEX_Clothing_Debug_Visualization_500.jpg" src="rsrc/Three/APEXClothing/UDN_APEX_Clothing_Debug_Visualization_500.jpg" /> <br /> <br />
</li></ol>
<p />
<h2><a name="Asset Settings"></a> Asset Settings </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
You can see the Clothing Asset settings below.  The defaults for many of these settings are fine but a few are worth mentioning here.
<p /> <ul>
<li> <strong>Continuous Rotation Threshold</strong> – If your character rotates two quickly in some situations it can cause collision problems with clothing.  (i.e.)Character does a complete 180 in one frame.  By setting this threshold you can force the clothing to snap to the new position so that it doesn’t have to go through a violent rotation simulation
</li> <li> <strong>Continuous Distance Threshold</strong> - In the case where you character moves an abnormally far distance in one frame you may have an unrealistic physical simulation, which would cause clothing to stretch abnormally.  Setting this threshold will teleport the clothing to the new position to avoid adding energy into the cloth.
</li> <li> <strong>Reset After Teleport</strong> - This flag tells the cloth to reset itself after the teleport occurs.  This puts the cloth back to the skinned pose and then start the simulation.  This can avoid situations where the cloth may have been in an extreme pose and you teleport the player next to an object that the cloth might penetrate otherwise.
</li></ul>
<p />
<img src="rsrc/Three/APEXClothing/UDN_APEX_Clothing_Asset.png" alt="UDN_APEX_Clothing_Asset.png" width='533' height='673' />
<p />
<h2><a name="Controlling Behavior During Animation (Choreographing Clothing)"></a> Controlling Behavior During Animation (Choreographing Clothing) </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
You may have situations where your animations could cause extreme clothing behavior.  Such as a jump that may cause a charcter’s cape to fly over their head.  Or perhaps you have done some custom animation on your clothing because you want it to flail a certain way in some situations.  You can use ClothingMaxDistanceScale Anim Notifies to control the max distance during animations.  Using the MSDM_MULTIPLY Scale mode you can scale the existing MaxDistance on the clothing from 1.0 (full MaxDistance set on clothing) to 0.0 (Clothing totally skinned to animation).
<p />
<img src="rsrc/Three/APEXClothing/UDN_APEX_Clothing_AnimNotifies_01.png" alt="UDN_APEX_Clothing_AnimNotifies_01.png" width='525' height='171' />
<p />
ClothingMaxDistanceScale Anim Notifies should always be used in pairs so that you can smoothly blend into your desired value, and then blend back out to the previous value when leaving an animation.
<p />
<img src="rsrc/Three/APEXClothing/UDN_APEX_Clothing_AnimNotifies_02.png" alt="UDN_APEX_Clothing_AnimNotifies_02.png" width='744' height='210' />
<p />
<h2><a name="Graphical LOD"></a> Graphical LOD </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
APEX Clothing can have Graphical LOD's the simulate at their own unique resolutions.
<p /> <ol>
<li> If you have authored your Clothing with LOD's in DCC tools, then when you connect the APEX Clothing Asset to the Skeletal Mesh(the same way as mentioned above), then the Clothing LOD Map for the corresponding Clothing Asset slot will be populated by however many LODs are in the APEX Clothing Asset. In the following example, there is 3 LODs.
</li> <li> Set the clothing Section Info (mentioned above) for each level.
</li> <li> If the desire is to override a graphical material for any clothing LOD, use the material override in the LOD info section of the Skeletal Mesh.
</li></ol>
<p />
<img src="rsrc/Three/APEXClothing/Clothing_LOD_map2.png"/>
<p />
<h2><a name="Wind"></a> Wind </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
Wind can be set on the clothing Actors by setting the following
<p /> <ul>
<li> <strong>Wind Velocity Blend Time</strong> - You are setting the target velocity of the clothing verts with these settings.  The Wind Velocity Blend Time is the amount of time it takes for the clothing to reach the velocity.  A value of .01 should get you a quick response.  Setting this value to 0.0 turns the wind off.
</li> <li> <strong>Wind Velocity Vector</strong> - A direction and force for the wind.
</li></ul>
<p />
In order to get the most interesting behavior (flapping, rolls) when applying wind to APEX Clothing, it is recommended that you set the damping very low, preferably 0.  If the damping on the clothing is high you will not see much movement within the clothing.
<p />
<img src="rsrc/Three/APEXClothing/UDN_APEX_Clothing_Actor.png" alt="UDN_APEX_Clothing_Actor.png" width='548' height='260' />
<p />
<h2><a name="Clothing Lag Hints"></a> Clothing Lag Hints </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div> <ul>
<li> <strong>Preventing Lag with Attachments</strong> - If you are seeing clothing lag when attaching it via attachments in script try setting the bForceUpdateAttachmentsInTick to true for that SkeletalMeshComponent.  Will ensure that the clothing component is updated twice a frame - once in Tick and again when UpdateTransform is called.  This comes at a penalty cost but clothing must be updated after the actor has been moved in order to avoid the lag.
</li> <li> <strong>Lag on Characters</strong> - Ensure that actors with clothing have their <strong>TickGroup</strong> set to <strong>TG_PreAsyncWork</strong>
</li> <li> <strong>Tick Order</strong> - When debugging in general you can put logging in to ensure that the following are happening in the correct order.  (Print out the names with GetPathName to ensure you are seeing the correct actor.) <ul>
<li> Begin Frame
</li> <li> Tick
</li> <li> Update Transform (bFinalUpdate is set)
</li> <li> Sync Transform
</li></ul>
</li></ul>
<p />
<h2><a name="Samples"></a> Samples </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div> <ul>
<li> <a href="rsrc/Three/APEXClothing/Waving_Flag_Kinematic.max" target="_top">Waving_Flag_Kinematic.max</a>: Sample Flag Max file for APEX Clothing
</li></ul>
</noautolink>
<p />
<p />
<p />
<p />
<p />
<p />


<!-- BEGIN UE4 NOTICE -->



<div id="version_message" style="display:none;">

    <div style="position:fixed;top:0px;left:0px;width:100%;height:100%;background:#000;opacity:0.5;">

    </div>

    <div style="position:fixed;top:50%;left:50%;margin:-70px 0px 0px -240px;background:#FFF;border-radius:6px;width:480px;box-shadow:0px 5px 30px -5px rgba(0,0,0,0.9);">

        <div style="font-size:16px;font-weight:bold;background: url(rsrc/Three/warning.png) no-repeat scroll 5px 5px;padding:4px 10px 5px 25px;height:21px;width:440px;">

            Important!

        </div>

        <div style="font-size:11px;padding:5px 10px 10px;width:460px;">

            <p>You are viewing documentation for the <strong>Unreal Development Kit (UDK)</strong>.</p>



            <p>If you are looking for the Unreal Engine 4 documentation, please visit the <a style="color:#000;" href="https://docs.unrealengine.com">Unreal Engine 4 Documentation</a> site.</p>

        </div>

        <div style="height:20px;padding:4px;margin:6px;border-top:1px solid #a0a0a0;">

            <form onsubmit="return closeVersionMessage();">

                <input type="checkbox" id="dismiss" value="dismiss" />

                <label for="dsimiss">Don't show me this again</label>

                <input type="submit" value="Close" style="cursor:pointer;float:right;width:60px;color:#f0f0f0;font-weight:bold;background:#882222;height:24px;padding:2px 3px 3px;text-align:center;border:1px outset #000;" />

            </form>

        </div>

    </div>

</div>



<script type="text/javascript">

    window.onload = function () {

        LoadVersionMessage();

    }



    function LoadVersionMessage()

    {

        var showMessage = "false";
        if(showMessage != "false")

        {

            showVersionMessage();

        }

    }



    function showVersionMessage()

    {

        var message = document.getElementById("version_message");

        if(message)

        {

            message.style.display = "block";

        }

    }



    function closeVersionMessage() {

        var dismiss = document.getElementById("dismiss");

        var message = document.getElementById("version_message");

        if (message) {

            message.style.display = "none";

        }

        if (dismiss.checked) {

            eraseCookie("doc_version_message");

            createCookie("doc_version_message", "false", 365);

            dismiss.checked = false;

        }

        return false;

    }



    function createCookie(name, value, days) {

        if (days) {

            var date = new Date();

            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));

            var expires = "; expires=" + date.toGMTString();

        }

        else var expires = "";

        document.cookie = name + "=" + value + expires + "; path=/";

    }



    function readCookie(name) {

        var nameEQ = name + "=";

        var ca = document.cookie.split(';');

        for (var i = 0; i < ca.length; i++) {

            var c = ca[i];

            while (c.charAt(0) == ' ') c = c.substring(1, c.length);

            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);

        }

        return null;

    }



    function eraseCookie(name) {

        createCookie(name, "", -1);

    }

</script>



<!-- END UE4 NOTICE -->



</div></div><div id="footer"><div style="BACKGROUND-COLOR: transparent; margin: 0; padding: 0; width: 100%;"><div>&nbsp;</div><div style="float: left; text-align: left; vertical-align: bottom; width: 50%;"><a href="http://www.videogamevoters.org"><img src="rsrc/vgvn.jpg" border="0" width="234" height="60" alt="Video Game Voters Network" /></a></div><div style="float: right; text-align: right; vertical-align: bottom; width: 50%;">Copyright &copy; 2001-2012 <a href="http://www.epicgames.com" target="_top">Epic Games, Inc.</a><br /><a href="../Main/TermsAndConditions.html" class="twikiLink">Terms and Conditions</a><br /><a href="http://epicgames.com/privacynotice" target="_top">Privacy Notice</a></div></div></div></div>
<p />
</html></body>
