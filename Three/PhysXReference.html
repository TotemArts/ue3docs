<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title> UDK | PhysXReference    </title>

<style type="text/css" media="all">@import "rsrc/twiki_webs.css";</style>
<style type="text/css" media="all">@import "rsrc/udn_new.css";</style>
<link rel="icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />


<!-- view.static_udn3.tmpl  -->
<script language="JavaScript" type="text/javascript" src="rsrc/udn.js"></script>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

</head>
<p />
<body id="webbgThree">
<p />

<p />
<div id="webThree"><div id="head">
<!--
<div class="header">
 -->
<div style="background: url(/pub/webbg_udn.jpg); background-repeat: no-repeat; height:140px; width: 100%;" >
<!--
<div style="background: transparent url(/pub/udn_header_bg.jpg); background-repeat: repeat-x; height:140px; width: 100%; margin-left: 991px;">
 -->
<p />
<div id="nav">
<ul class="nav">
<font color=black>|</font>&nbsp;&nbsp;<li class=nav_Three><a href="../Main/WebHome.html" class="twikiLink">Main</a></li><font color=black>|</font><li class=nav_Three><a href="../Two/WebHome.html" class="twikiLink">UnrealEngine2</a></li><font color=black>|</font><li class=nav_Three><a href="WebHome.html" class="twikiLink">UnrealEngine3</a></li><font color=black>|</font><li class=nav_Three><a href="https://docs.unrealengine.com" class="twikiLink">UnrealEngine4</a></li><font color=black>|</font><li class=nav_Three><a href="../Main/BusinessAndLegal.html" class="twikiLink">Business &amp; Legal</a></li><font color=black>|</font>
</ul><br><br><br>
</div>
</div>
</div> <!-- end head -->
<div id="pagedefault">
<div id="maincol">
<div id="tool">
<div id="tooltop">UDN</div>
<div id="tooltext" style="padding: 10px 10px 10px 10px;">
Search public documentation: <br>
<form ACTION="/search/index.php" METHOD="GET" NAME="main" ID="main">
<input TYPE="TEXT" NAME="q" SIZE="15" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;">
<input TYPE="SUBMIT" VALUE="Search" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;"><br>
</form>
</div>
<div id="toolband">PhysXReference  </b></div>
<div id="tooltext">
<a href="PhysXReferenceJP.html" class="twikiLink">日本語訳</a><br><a href="PhysXReferenceCH.html" class="twikiLink">中国翻译</a><br><a href="PhysXReferenceKR.html" class="twikiLink">한국어</a><br>

<!-- Three/PhysXReference -->
<hr size="1" noshade="noshade" />
Interested in the Unreal Engine? <br>
Visit the <a href="http://www.unrealtechnology.com" target="_top">Unreal Technology</a> site.<br>
<br>
Looking for jobs and company info? <br>
Check out the <a href="http://www.epicgames.com" target="_top">Epic games</a> site.<br>
<br>
Questions about support via UDN? <br>
Contact the <a href="../Main/ContactUDNStaff.html" class="twikiLink">UDN Staff</a> <br>
<br>
</div> <!-- end toolbox content -->
<div id="toolbottom"></div>
</div> <!-- end tool -->
<p />
<noautolink>
<div style="padding:0px 0px 0px 4px;font:10px Verdana;">
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="PhysicsHome.html" class="twikiLink">Physics</a></b> &gt; PhysX Reference
</div>
<hr size="1" noshade="noshade">
<p />
<h1><a name="PhysX Reference"></a> PhysX Reference </h1>
<hr size="1" noshade="noshade">
<p />
<div class="twikiToc"> <ul>
<li> <a href="PhysXReference.html#PhysX Reference"> PhysX Reference</a> <ul>
<li> <a href="PhysXReference.html#Force fields"> Force fields</a> <ul>
<li> <a href="PhysXReference.html#Common parameters to all force fields"> Common parameters to all force fields</a>
</li> <li> <a href="PhysXReference.html#RB_RadialForceActor"> RB_RadialForceActor</a>
</li> <li> <a href="PhysXReference.html#RB_CylindricalForceActor"> RB_CylindricalForceActor</a>
</li></ul>
</li> <li> <a href="PhysXReference.html#Scene compartments"> Scene compartments</a> <ul>
<li> <a href="PhysXReference.html#No _PhysX hardware"> No PhysX hardware</a>
</li> <li> <a href="PhysXReference.html#With _PhysX hardware"> With PhysX hardware</a>
</li> <li> <a href="PhysXReference.html#Default implementation"> Default implementation</a>
</li></ul>
</li> <li> <a href="PhysXReference.html#Double buffering and parallelization of _PhysX"> Double buffering and parallelization of PhysX</a>
</li> <li> <a href="PhysXReference.html#One way interaction (&quot;Dominance Groups&quot;)"> One way interaction ("Dominance Groups")</a>
</li> <li> <a href="PhysXReference.html#PhysX visualization flags"> PhysX visualization flags</a>
</li> <li> <a href="PhysXReference.html#Platform analyzer"> Platform analyzer</a>
</li> <li> <a href="PhysXReference.html#Physics collision for rigid bodies"> Physics collision for rigid bodies</a> <ul>
<li> <a href="PhysXReference.html#Filtering rigid body collision"> Filtering rigid body collision</a>
</li></ul>
</li></ul>
</li></ul>
</div>
<p />
<h2><a name="Force fields"></a> Force fields </h2>
<hr size="1" noshade="noshade">
<p />
<h3><a name="Common parameters to all force fields"></a> Common parameters to all force fields </h3> <ul>
<li> <strong>bForceActive</strong> - Indicates whether the force is active at the moment.
</li> <li> <strong>ForceFieldChannel</strong> - Identifies which force field exclude volumes (<strong>RB_ForceFieldExcludeVolumes</strong>) apply to this force field.
</li> <li> <strong>bForceApplyToCloth</strong> - Enable/Disable influence on cloth.
</li> <li> <strong>bForceApplyToFluid</strong> - Enable/Disable influence on fluid particles.
</li> <li> <strong>bForceApplyToRigidBodies</strong> - Enable/Disable influence on rigid bodies.
</li> <li> <strong>bForceApplyToProjectiles</strong> - Enable/Disable influence on projectiles like rockets.
</li> <li> <strong>CollideWithChannelsIdentifies</strong> - Which types of objects are influence by this force field.
</li></ul>
<p />
<h3><a name="RB_RadialForceActor"></a> RB_RadialForceActor </h3>
The force field is represented as a sphere. Objects inside the sphere will be applied a radial force.
<p /> <ul>
<li> <strong>ForceStrength</strong> - Strength of the force applied by this actor. Positive forces are applied outwards.
</li> <li> <strong>ForceRadius</strong> - Radius of influence of the force.
</li> <li> <strike><b>SwirlStrength</b></strike> - This field is not used. (How strongly objects orbit around Z axis of actor.)
</li> <li> <strike><b>SpinTorque</b></strike> - This field is not used. (How strongly to spin objects around their local Z.)
</li> <li> <strong>ForceFalloff</strong> - The way in which the force falls off as objects are further away from the location. Either the applied force is constant independent of the position, or the force gets linearly interpolated from <strong>ForceStrength</strong> at the center to zero at a radius of <strong>ForceRadius</strong>.
</li> <li> <strong>RadialForceMode</strong> - Indicates which type of force mode is used.
</li></ul>
<p />
<h3><a name="RB_CylindricalForceActor"></a> RB_CylindricalForceActor </h3>
The force field is represented as a Cylinder. Objects inside the cylinder will be applied a radial, lift and rotational force depending on the defined parameters. The radial force is only applied if the Velocity of the object is smaller that the escape velocity and when the object is moving away from the center. This has been done to prevent objects from quickly leaving the force field.
<p /> <ul>
<li> <strong>RadialStrength</strong> - Strength of the force applied outwards from the cylinder axis.
</li> <li> <strong>RotationalStrength</strong> - Rotational strength of the force applied around the cylinder axis.
</li> <li> <strong>LiftStrength</strong> - Strength of the force applied along the cylinder axis
</li> <li> <strong>LiftFalloffHeight</strong> - Lift falloff height, 0-1, lift starts to fall off in a linear way above this height.
</li> <li> <strong>EscapeVelocity</strong> - Velocity above which the radial force is ignored.
</li> <li> <strong>ForceRadius</strong> - Radius of influence of the force at the bottom of the cylinder.
</li> <li> <strong>ForceTopRadius</strong> - Radius of the force field at the top.
</li> <li> <strong>ForceHeight</strong> - Height of force cylinder.
</li> <li> <strong>HeightOffset</strong> - Offset from the actor base to the center of the force field.
</li></ul>
<p />
Further information can be found in these documents:
<p /> <ul>
<li> <a href="rsrc/Three/PhysXReference/CYLINDRICAL_FORCE_FIELD_TUTORIAL.doc" target="_top">Download</a> the cylindrical force field tutorial.
</li> <li> <a href="rsrc/Three/PhysXReference/FORCE_FIELD_EXCLUDER_TUTORIAL.doc" target="_top">Download</a> the force field excluder tutorial.
</li></ul>
<p />
<p />
<h2><a name="Scene compartments"></a> Scene compartments </h2>
<hr size="1" noshade="noshade">
Allows user to separate objects into compartments which may or may not interact with one another. Compartments allow the parallelization of scenes which can simulate while the game engine is performing other tasks. In addition compartments can be individually configured to run at different sub steps or possibly interleaved simulations in order to improve performance on effects based scenes.
<p />
A compartment represents a sub-instance of one type of physics simulation, for example hardware fluid, hardware rigid body, or software rigid body. Several compartments may exist inside one scene, (including several of the same type) and interaction between them and the scene proper is taken care of automatically. This allows for transparent manipulation, simulation and interaction, without having to worry about the low-level nuts and bolts.
<p />
The SDK manages all links between the compartments. For example, when a material is created, it will be created for all rigid body compartments, or if a ray cast is performed, the query will return all intersected hardware and software objects in all compartments.
<p />
A newly created scene, hardware or software, contains no compartments. Any object that is added to the scene will be inserted into the scene proper, unless either a compartment is specified in its descriptor, or that type of object cannot exist directly in the scene.
<p />
The latter applies to the example fluid in a software scene. In such a case, an appropriate default compartment will be created for the new object if none exists already.
<p />
Here follows a comprehensive list of the different possibilities for creating objects with compartments, and what interactions they support. Interactions include both collisions between physical entities, and trigger testing.
<p />
<h3><a name="No _PhysX hardware"></a> No PhysX hardware </h3>
<h4><a name="No compartment specified:"></a><a name=" No compartment specified:"></a>  No compartment specified: </h4>
<table cellspacing="1" cellpadding="1" class="twikiTable" border="0"><tr><th bgcolor="#dadada" class="twikiFirstCol"> <a rel="nofollow" href="https://udn.epicgames.com/bin/publish/WebHome?webs=Main%2CTwo%2CThree%2CPowered&amp;amp;inclusions=%2A&amp;amp;exclusions=&amp;amp;filter=&amp;amp;inclfilter=%5C%25META%5C%3AFIELD%5C%7Bname%5C%3D%5C%22Documentavailability%5C%22.%2Avalue%5C%3D%5C%22General%20public%5C%22&amp;amp;filterbymeta=yes&amp;amp;skin=static_udn3&amp;amp;restrictedclass=restricted&amp;amp;format=&amp;amp;sortcol=0;table=1;up=0#sorted_table" class="restricted" title="Sort by this column"><font color="#000000">Item</font></a> </th><th bgcolor="#dadada"> <a rel="nofollow" href="https://udn.epicgames.com/bin/publish/WebHome?webs=Main%2CTwo%2CThree%2CPowered&amp;amp;inclusions=%2A&amp;amp;exclusions=&amp;amp;filter=&amp;amp;inclfilter=%5C%25META%5C%3AFIELD%5C%7Bname%5C%3D%5C%22Documentavailability%5C%22.%2Avalue%5C%3D%5C%22General%20public%5C%22&amp;amp;filterbymeta=yes&amp;amp;skin=static_udn3&amp;amp;restrictedclass=restricted&amp;amp;format=&amp;amp;sortcol=1;table=1;up=0#sorted_table" class="restricted" title="Sort by this column"><font color="#000000">Resides in</font></a> </th><th bgcolor="#dadada"> <a rel="nofollow" href="https://udn.epicgames.com/bin/publish/WebHome?webs=Main%2CTwo%2CThree%2CPowered&amp;amp;inclusions=%2A&amp;amp;exclusions=&amp;amp;filter=&amp;amp;inclfilter=%5C%25META%5C%3AFIELD%5C%7Bname%5C%3D%5C%22Documentavailability%5C%22.%2Avalue%5C%3D%5C%22General%20public%5C%22&amp;amp;filterbymeta=yes&amp;amp;skin=static_udn3&amp;amp;restrictedclass=restricted&amp;amp;format=&amp;amp;sortcol=2;table=1;up=0#sorted_table" class="restricted" title="Sort by this column"><font color="#000000">Affects</font></a> </th><th bgcolor="#dadada"> <a rel="nofollow" href="https://udn.epicgames.com/bin/publish/WebHome?webs=Main%2CTwo%2CThree%2CPowered&amp;amp;inclusions=%2A&amp;amp;exclusions=&amp;amp;filter=&amp;amp;inclfilter=%5C%25META%5C%3AFIELD%5C%7Bname%5C%3D%5C%22Documentavailability%5C%22.%2Avalue%5C%3D%5C%22General%20public%5C%22&amp;amp;filterbymeta=yes&amp;amp;skin=static_udn3&amp;amp;restrictedclass=restricted&amp;amp;format=&amp;amp;sortcol=3;table=1;up=0#sorted_table" class="restricted" title="Sort by this column"><font color="#000000">Affected by</font></a> </th></tr>
<tr><td bgcolor="#ffffff" class="twikiFirstCol"> Rigid bodies </td><td bgcolor="#ffffff"> Scene proper </td><td bgcolor="#ffffff"> Everything </td><td bgcolor="#ffffff"> Each other, cloth with two-way interaction set (even in compartments), fluid with two-way interaction set (only in compartments) </td></tr>
<tr><td bgcolor="#eaeaea" class="twikiFirstCol"> Fluids </td><td bgcolor="#eaeaea"> Not available in software </td><td bgcolor="#eaeaea"> &nbsp; </td><td bgcolor="#eaeaea"> &nbsp; </td></tr>
<tr><td bgcolor="#ffffff" class="twikiFirstCol"> Cloth </td><td bgcolor="#ffffff"> Master scene </td><td bgcolor="#ffffff"> Rigid bodies only in master scene, if two-way interaction is set </td><td bgcolor="#ffffff"> Rigid bodies only in master scene. </td></tr>
</table>
<p />
<h4><a name="Compartment specified:"></a><a name=" Compartment specified:"></a>  Compartment specified: </h4>
<table cellspacing="1" cellpadding="1" class="twikiTable" border="0"><tr><th bgcolor="#dadada" class="twikiFirstCol"> <a rel="nofollow" href="https://udn.epicgames.com/bin/publish/WebHome?webs=Main%2CTwo%2CThree%2CPowered&amp;amp;inclusions=%2A&amp;amp;exclusions=&amp;amp;filter=&amp;amp;inclfilter=%5C%25META%5C%3AFIELD%5C%7Bname%5C%3D%5C%22Documentavailability%5C%22.%2Avalue%5C%3D%5C%22General%20public%5C%22&amp;amp;filterbymeta=yes&amp;amp;skin=static_udn3&amp;amp;restrictedclass=restricted&amp;amp;format=&amp;amp;sortcol=0;table=2;up=0#sorted_table" class="restricted" title="Sort by this column"><font color="#000000">Item</font></a> </th><th bgcolor="#dadada"> <a rel="nofollow" href="https://udn.epicgames.com/bin/publish/WebHome?webs=Main%2CTwo%2CThree%2CPowered&amp;amp;inclusions=%2A&amp;amp;exclusions=&amp;amp;filter=&amp;amp;inclfilter=%5C%25META%5C%3AFIELD%5C%7Bname%5C%3D%5C%22Documentavailability%5C%22.%2Avalue%5C%3D%5C%22General%20public%5C%22&amp;amp;filterbymeta=yes&amp;amp;skin=static_udn3&amp;amp;restrictedclass=restricted&amp;amp;format=&amp;amp;sortcol=1;table=2;up=0#sorted_table" class="restricted" title="Sort by this column"><font color="#000000">Resides in</font></a> </th><th bgcolor="#dadada"> <a rel="nofollow" href="https://udn.epicgames.com/bin/publish/WebHome?webs=Main%2CTwo%2CThree%2CPowered&amp;amp;inclusions=%2A&amp;amp;exclusions=&amp;amp;filter=&amp;amp;inclfilter=%5C%25META%5C%3AFIELD%5C%7Bname%5C%3D%5C%22Documentavailability%5C%22.%2Avalue%5C%3D%5C%22General%20public%5C%22&amp;amp;filterbymeta=yes&amp;amp;skin=static_udn3&amp;amp;restrictedclass=restricted&amp;amp;format=&amp;amp;sortcol=2;table=2;up=0#sorted_table" class="restricted" title="Sort by this column"><font color="#000000">Affects</font></a> </th><th bgcolor="#dadada"> <a rel="nofollow" href="https://udn.epicgames.com/bin/publish/WebHome?webs=Main%2CTwo%2CThree%2CPowered&amp;amp;inclusions=%2A&amp;amp;exclusions=&amp;amp;filter=&amp;amp;inclfilter=%5C%25META%5C%3AFIELD%5C%7Bname%5C%3D%5C%22Documentavailability%5C%22.%2Avalue%5C%3D%5C%22General%20public%5C%22&amp;amp;filterbymeta=yes&amp;amp;skin=static_udn3&amp;amp;restrictedclass=restricted&amp;amp;format=&amp;amp;sortcol=3;table=2;up=0#sorted_table" class="restricted" title="Sort by this column"><font color="#000000">Affected by</font></a> </th></tr>
<tr><td bgcolor="#ffffff" class="twikiFirstCol"> Rigid bodies </td><td bgcolor="#ffffff"> Specified compartment </td><td bgcolor="#ffffff"> Each other only </td><td bgcolor="#ffffff"> Each other, rigid bodies in master scene </td></tr>
<tr><td bgcolor="#eaeaea" class="twikiFirstCol"> Fluids </td><td bgcolor="#eaeaea"> Not available in software </td><td bgcolor="#eaeaea"> &nbsp; </td><td bgcolor="#eaeaea"> &nbsp; </td></tr>
<tr><td bgcolor="#ffffff" class="twikiFirstCol"> Cloth </td><td bgcolor="#ffffff"> Specified compartment </td><td bgcolor="#ffffff"> Rigid bodies only in master scene, if two-way interaction is set </td><td bgcolor="#ffffff"> Rigid bodies only in master scene. </td></tr>
</table>
<p />
<h3><a name="With _PhysX hardware"></a> With PhysX hardware </h3>
<h4><a name="No compartment specified:"></a><a name=" No compartment specified:"></a>  No compartment specified: </h4>
<table cellspacing="1" cellpadding="1" class="twikiTable" border="0"><tr><th bgcolor="#dadada" class="twikiFirstCol"> <a rel="nofollow" href="https://udn.epicgames.com/bin/publish/WebHome?webs=Main%2CTwo%2CThree%2CPowered&amp;amp;inclusions=%2A&amp;amp;exclusions=&amp;amp;filter=&amp;amp;inclfilter=%5C%25META%5C%3AFIELD%5C%7Bname%5C%3D%5C%22Documentavailability%5C%22.%2Avalue%5C%3D%5C%22General%20public%5C%22&amp;amp;filterbymeta=yes&amp;amp;skin=static_udn3&amp;amp;restrictedclass=restricted&amp;amp;format=&amp;amp;sortcol=0;table=3;up=0#sorted_table" class="restricted" title="Sort by this column"><font color="#000000">Item</font></a> </th><th bgcolor="#dadada"> <a rel="nofollow" href="https://udn.epicgames.com/bin/publish/WebHome?webs=Main%2CTwo%2CThree%2CPowered&amp;amp;inclusions=%2A&amp;amp;exclusions=&amp;amp;filter=&amp;amp;inclfilter=%5C%25META%5C%3AFIELD%5C%7Bname%5C%3D%5C%22Documentavailability%5C%22.%2Avalue%5C%3D%5C%22General%20public%5C%22&amp;amp;filterbymeta=yes&amp;amp;skin=static_udn3&amp;amp;restrictedclass=restricted&amp;amp;format=&amp;amp;sortcol=1;table=3;up=0#sorted_table" class="restricted" title="Sort by this column"><font color="#000000">Resides in</font></a> </th><th bgcolor="#dadada"> <a rel="nofollow" href="https://udn.epicgames.com/bin/publish/WebHome?webs=Main%2CTwo%2CThree%2CPowered&amp;amp;inclusions=%2A&amp;amp;exclusions=&amp;amp;filter=&amp;amp;inclfilter=%5C%25META%5C%3AFIELD%5C%7Bname%5C%3D%5C%22Documentavailability%5C%22.%2Avalue%5C%3D%5C%22General%20public%5C%22&amp;amp;filterbymeta=yes&amp;amp;skin=static_udn3&amp;amp;restrictedclass=restricted&amp;amp;format=&amp;amp;sortcol=2;table=3;up=0#sorted_table" class="restricted" title="Sort by this column"><font color="#000000">Runs on</font></a> </th><th bgcolor="#dadada"> <a rel="nofollow" href="https://udn.epicgames.com/bin/publish/WebHome?webs=Main%2CTwo%2CThree%2CPowered&amp;amp;inclusions=%2A&amp;amp;exclusions=&amp;amp;filter=&amp;amp;inclfilter=%5C%25META%5C%3AFIELD%5C%7Bname%5C%3D%5C%22Documentavailability%5C%22.%2Avalue%5C%3D%5C%22General%20public%5C%22&amp;amp;filterbymeta=yes&amp;amp;skin=static_udn3&amp;amp;restrictedclass=restricted&amp;amp;format=&amp;amp;sortcol=3;table=3;up=0#sorted_table" class="restricted" title="Sort by this column"><font color="#000000">Affects</font></a> </th><th bgcolor="#dadada"> <a rel="nofollow" href="https://udn.epicgames.com/bin/publish/WebHome?webs=Main%2CTwo%2CThree%2CPowered&amp;amp;inclusions=%2A&amp;amp;exclusions=&amp;amp;filter=&amp;amp;inclfilter=%5C%25META%5C%3AFIELD%5C%7Bname%5C%3D%5C%22Documentavailability%5C%22.%2Avalue%5C%3D%5C%22General%20public%5C%22&amp;amp;filterbymeta=yes&amp;amp;skin=static_udn3&amp;amp;restrictedclass=restricted&amp;amp;format=&amp;amp;sortcol=4;table=3;up=0#sorted_table" class="restricted" title="Sort by this column"><font color="#000000">Affected by</font></a> </th></tr>
<tr><td bgcolor="#ffffff" class="twikiFirstCol"> Rigid bodies </td><td bgcolor="#ffffff"> Scene proper </td><td bgcolor="#ffffff"> By scene type </td><td bgcolor="#ffffff"> Everything </td><td bgcolor="#ffffff"> Each other, cloth with two-way interaction set (even in compartments), fluid with two-way interaction set (only in compartments) </td></tr>
<tr><td bgcolor="#eaeaea" class="twikiFirstCol"> Fluids </td><td bgcolor="#eaeaea"> Default fluid compartment (will create if nonexistent) </td><td bgcolor="#eaeaea"> Hardware </td><td bgcolor="#eaeaea"> Rigid bodies only in master scene, if two-way interaction is set </td><td bgcolor="#eaeaea"> Rigid bodies only in master scene. </td></tr>
<tr><td bgcolor="#ffffff" class="twikiFirstCol"> HW Cloth<sup>1</sup> </td><td bgcolor="#ffffff"> Default cloth compartment (will create if nonexistent) </td><td bgcolor="#ffffff"> Hardware </td><td bgcolor="#ffffff"> Rigid bodies only in master scene, if two-way interaction is set </td><td bgcolor="#ffffff"> Rigid bodies only in master scene. </td></tr>
<tr><td bgcolor="#eaeaea" class="twikiFirstCol"> SW Cloth<sup>1</sup> </td><td bgcolor="#eaeaea"> Scene proper </td><td bgcolor="#eaeaea"> Software </td><td bgcolor="#eaeaea"> Rigid bodies only in master scene, if two-way interaction is set </td><td bgcolor="#eaeaea"> Rigid bodies only in master scene. </td></tr>
</table>
<!--  -->
<p />
<h4><a name="Compartment specified:"></a><a name=" Compartment specified:"></a>  Compartment specified: </h4>
<table cellspacing="1" cellpadding="1" class="twikiTable" border="0"><tr><th bgcolor="#dadada" class="twikiFirstCol"> <a rel="nofollow" href="https://udn.epicgames.com/bin/publish/WebHome?webs=Main%2CTwo%2CThree%2CPowered&amp;amp;inclusions=%2A&amp;amp;exclusions=&amp;amp;filter=&amp;amp;inclfilter=%5C%25META%5C%3AFIELD%5C%7Bname%5C%3D%5C%22Documentavailability%5C%22.%2Avalue%5C%3D%5C%22General%20public%5C%22&amp;amp;filterbymeta=yes&amp;amp;skin=static_udn3&amp;amp;restrictedclass=restricted&amp;amp;format=&amp;amp;sortcol=0;table=4;up=0#sorted_table" class="restricted" title="Sort by this column"><font color="#000000">Item</font></a> </th><th bgcolor="#dadada"> <a rel="nofollow" href="https://udn.epicgames.com/bin/publish/WebHome?webs=Main%2CTwo%2CThree%2CPowered&amp;amp;inclusions=%2A&amp;amp;exclusions=&amp;amp;filter=&amp;amp;inclfilter=%5C%25META%5C%3AFIELD%5C%7Bname%5C%3D%5C%22Documentavailability%5C%22.%2Avalue%5C%3D%5C%22General%20public%5C%22&amp;amp;filterbymeta=yes&amp;amp;skin=static_udn3&amp;amp;restrictedclass=restricted&amp;amp;format=&amp;amp;sortcol=1;table=4;up=0#sorted_table" class="restricted" title="Sort by this column"><font color="#000000">Resides in:</font></a> </th><th bgcolor="#dadada"> <a rel="nofollow" href="https://udn.epicgames.com/bin/publish/WebHome?webs=Main%2CTwo%2CThree%2CPowered&amp;amp;inclusions=%2A&amp;amp;exclusions=&amp;amp;filter=&amp;amp;inclfilter=%5C%25META%5C%3AFIELD%5C%7Bname%5C%3D%5C%22Documentavailability%5C%22.%2Avalue%5C%3D%5C%22General%20public%5C%22&amp;amp;filterbymeta=yes&amp;amp;skin=static_udn3&amp;amp;restrictedclass=restricted&amp;amp;format=&amp;amp;sortcol=2;table=4;up=0#sorted_table" class="restricted" title="Sort by this column"><font color="#000000">Runs on:</font></a> </th><th bgcolor="#dadada"> <a rel="nofollow" href="https://udn.epicgames.com/bin/publish/WebHome?webs=Main%2CTwo%2CThree%2CPowered&amp;amp;inclusions=%2A&amp;amp;exclusions=&amp;amp;filter=&amp;amp;inclfilter=%5C%25META%5C%3AFIELD%5C%7Bname%5C%3D%5C%22Documentavailability%5C%22.%2Avalue%5C%3D%5C%22General%20public%5C%22&amp;amp;filterbymeta=yes&amp;amp;skin=static_udn3&amp;amp;restrictedclass=restricted&amp;amp;format=&amp;amp;sortcol=3;table=4;up=0#sorted_table" class="restricted" title="Sort by this column"><font color="#000000">Affects:</font></a> </th><th bgcolor="#dadada"> <a rel="nofollow" href="https://udn.epicgames.com/bin/publish/WebHome?webs=Main%2CTwo%2CThree%2CPowered&amp;amp;inclusions=%2A&amp;amp;exclusions=&amp;amp;filter=&amp;amp;inclfilter=%5C%25META%5C%3AFIELD%5C%7Bname%5C%3D%5C%22Documentavailability%5C%22.%2Avalue%5C%3D%5C%22General%20public%5C%22&amp;amp;filterbymeta=yes&amp;amp;skin=static_udn3&amp;amp;restrictedclass=restricted&amp;amp;format=&amp;amp;sortcol=4;table=4;up=0#sorted_table" class="restricted" title="Sort by this column"><font color="#000000">Affected by:</font></a> </th></tr>
<tr><td bgcolor="#ffffff" class="twikiFirstCol"> Rigid bodies </td><td bgcolor="#ffffff"> Specified compartment </td><td bgcolor="#ffffff"> As the compartment </td><td bgcolor="#ffffff"> Each other only </td><td bgcolor="#ffffff"> Each other, rigid bodies in master scene<sup>2</sup> </td></tr>
<tr><td bgcolor="#eaeaea" class="twikiFirstCol"> Fluids </td><td bgcolor="#eaeaea"> Specified compartment </td><td bgcolor="#eaeaea"> Hardware </td><td bgcolor="#eaeaea"> Rigid bodies only in master scene, if two-way interaction is set </td><td bgcolor="#eaeaea"> Rigid bodies only in master scene. </td></tr>
<tr><td bgcolor="#ffffff" class="twikiFirstCol"> Cloth </td><td bgcolor="#ffffff"> Specified compartment </td><td bgcolor="#ffffff"> As the compartment </td><td bgcolor="#ffffff"> Rigid bodies only in master scene, if two-way interaction is set </td><td bgcolor="#ffffff"> Rigid bodies only in master scene. </td></tr>
</table>
<sup>2</sup> Triggers in compartments do not react to bodies in the master scene)
<p />
<h3><a name="Default implementation"></a> Default implementation </h3>
Currently UE3 creates four compartments in the NxScene. Pointers to these compartments, along with the NxScene, are stored in the level's FRBPhysScene. The compartment types created are:  <ul>
<li> Rigid body
</li> <li> Fluid
</li> <li> Cloth
</li> <li> Soft body<br/><img src="rsrc/TWiki/TWikiDocGraphics/warning.gif" alt="ALERT!" title="ALERT!" width="16" height="16" border="0" /> <strong>Note:</strong> This is not used at the moment, but it is here for future functionality.
</li></ul>
<p />
To create a PhysX object within a compartment, you only need to pass in a pointer to the appropriate compartment in the objects' descriptor. For example, NxActorDesc contains a 'compartment' field. If this field is left NULL, then the object will be placed into the primary (normal) PhysX scene.
<p />
The UE3 class UPrimitiveComponent now has a bUseCompartment bool.  This is interpreted appropriately for the different kinds of objects derived from this class. If the UPrimitiveComponent has a BodyInstance, then the NxActors created for that BodyInstance will be put into the rigid body compartment, if bUseCompartment is set.
<p />
For USkeletalMeshComponents, if a cloth simulation is specified, then the bUseCompartment flag will determine if the cloth is to be put into the cloth compartment.
<p />
Fluids are treated differently; in UE3 we always place the NxFluid into the fluid compartment.
<p />
<!--  -->
<p />
<h2><a name="One way interaction (&quot;Dominance Groups&quot;)"></a> One way interaction ("Dominance Groups") </h2>
<hr size="1" noshade="noshade">
With dominance groups one can have all constraints (contacts and joints) created between actors act in one direction only. This is useful if you want to make sure that the movement of the rider of a vehicle or the pony tail of a character doesn't influence the object it is attached to, while keeping the motion of both inherently physical.
<p />
The dominance group is a property of the NxActor. It is simply a 5-bit (0-31 range) identifier.  When a constraint (either joint or contact) acts between two actors, their dominance groups are used to determine which are influenced. The influence is determined by a user-defined matrix of pairs of reals.  When two NxActors interact, their dominance group numbers are used to look up the correct real pair in the matrix. Each real may be in the range [0.0,1.0], and the value determines how much influence each NxActor receives from the interaction.  Currently, only the values 0.0 and 1.0 are supported.  The intermediate values may be used for "partial" interactions in the future.
<p />
By default, the interaction matrix is set up so that if the actors' dominance groups are equal, (1.0,1.0) is returned.  This is the "normal" interaction behavior - both actors are influenced by the constraint. If the actors' dominance groups are <em>not</em> equal, then the default matrix will return (0.0,1.0) or (1.0,0.0) depending on which group ID is greater. It is set up so that the lower dominance group ID gets the 1.0 weight, while the higher group ID gets the 0.0 weight. That is, lower group IDs win. PhysX sets the default dominance group ID to 0, which will always win (or tie) with the default interaction matrix.
<p />
UE3 resets the NxActors' dominance group to 15 (by default), but does not modify the interaction matrix.  This makes it easier to specify more- and less-dominant IDs. In UE3 the dominance group is specified by the RBDominanceGroup field in UPrimitiveComponent.
<p />
<h2><a name="PhysX visualization flags"></a> PhysX visualization flags </h2>
<hr size="1" noshade="noshade">
There are several PhysX visualization flags which can be set on the command line by typing <strong>NXVIS</strong> followed by one of the following flags:
<p /> <ul>
<li> <strong>Axes</strong> <ul>
<li> <strong>WORLDAXES</strong> - Visualize the world axes.
</li> <li> <strong>BODYAXES</strong> - Visualize a body's axes.
</li> <li> <strong>MASSAXES</strong> - Visualize a body's mass axes.
</li></ul>
</li> <li> <strong>Contacts</strong> <ul>
<li> <strong>CONTACTPOINT</strong> - Visualize contact points.
</li> <li> <strong>CONTACTS</strong> - Visualize contact normals.
</li> <li> <strong>CONTACTERROR</strong> - Visualize contact errors.
</li> <li> <strong>CONTACTFORCE</strong> - Visualize contact forces.
</li></ul>
</li> <li> <strong>Joints</strong> <ul>
<li> <strong>JOINTLIMITS</strong> - Visualize joint limits.
</li> <li> <strong>JOINTLOCALAXES</strong> - Visualize local joint axes.
</li> <li> <strong>JOINTWORLDAXES</strong> - Visualize joint world axes.
</li></ul>
</li> <li> <strong>Collision</strong> <ul>
<li> <strong>CCD</strong> - Visualize CCD skeletons.
</li> <li> <strong>CCDTESTS</strong> - Visualize CCD tests.
</li> <li> <strong>COLLISIONAABBS</strong> - Visualize bounds (AABBs in world space).
</li> <li> <strong>COLLISION</strong> - Visualize shape. <ul>
<li> <font color="#ff0000">Red - BSP/Trimesh/Heightfield</font>
</li> <li> <font color="#ff6600">Orange - Convex</font>
</li> <li> White - Sphere/Box Primitives
</li></ul>
</li> <li> <strong>COLLISIONAXES</strong> - Visualize shape axes.
</li></ul>
</li> <li> <strong>Cloth</strong> <ul>
<li> <strong>CLOTH_MESH</strong> - Visualize cloth meshes.
</li> <li> <strong>CLOTH_COLLISIONS</strong> - Visualize cloth rigid body collision.
</li> <li> <strong>CLOTH_ATTACHMENT</strong> - Visualize cloth attachments.
</li> <li> <strong>CLOTH_SLEEP_VERTEX</strong> - Visualize cloth sleeping with full per-vertex information.
</li> <li> <strong>CLOTH_SLEEP</strong> - Visualize cloth sleeping.  <ul>
<li> <font color="#ff0000">Red - Sleeping</font>
</li> <li> White - Awake
</li> <li> <font color="#0000ff">Blue - Static</font>
</li></ul>
</li> <li> <strong>CLOTH_VALIDBOUNDS</strong> - Visualize cloth valid bounds.
</li> <li> <strong>CLOTH_TEARABLE_VERTICES</strong> - Visualize tearable cloth vertices.
</li></ul>
</li> <li> <strong>Fluid</strong> <ul>
<li> <strong>FLUID_PACKETS</strong> - Visualize fluid packets.
</li> <li> <strong>FLUID_POSITION</strong> - Visualize particle position.
</li> <li> <strong>FLUID_MESH_PACKETS</strong> - Visualize available fluid mesh packets.
</li> <li> <strong>FLUID_PACKET_DATA</strong> - Visualize fluid data packets.
</li> <li> <strong>FLUID_BOUNDS</strong> - Visualize fluid AABB.
</li> <li> <strong>FLUID_VELOCITY</strong> - Visualize particle velocity.
</li> <li> <strong>FLUID_KERNEL_RADIUS</strong> - Visualize particle kernel radius.
</li> <li> <strong>FLUID_DRAINS</strong> - Visualize fluid drain shapes.
</li> <li> <strong>FLUID_EMITTERS</strong> - Visualize emitter.
</li></ul>
</li> <li> <strong>Force Fields</strong> <ul>
<li> <strong>FORCEFIELDS</strong> - Visualize forcefield shapes.
</li></ul>
</li> <li> <strong>Softbody</strong> <ul>
<li> <strong>SOFTBODY_MESH</strong> - Visualize soft body meshes.
</li> <li> <strong>SOFTBODY_ATTACHMENT</strong> - Visualize soft body attachments.
</li> <li> <strong>SOFTBODY_COLLISIONS</strong> - Visualize soft body collisions with rigid bodies.
</li> <li> <strong>SOFTBODY_SLEEP_VERTEX</strong> - Visualize soft body sleeping with full per-vertex information.
</li> <li> <strong>SOFTBODY_SLEEP</strong> - Visualize soft body sleeping.
</li> <li> <strong>SOFTBODY_VALIDBOUNDS</strong> - Visualize soft body valid bounds.
</li></ul>
</li></ul>
<p />
<!--  -->
<p />
<h2><a name="Physics collision for rigid bodies"></a> Physics collision for rigid bodies </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
The way that PhysX rigid-body physics engine works is to generate <em>contact points</em> each frame for where things are touching. This is a more complicated process than performing a line check, so it is important to keep the geometry that real physics objects (such as a rag dolls) collide with as simple as possible, both for speed and behavior. For example, a lot of small triangles can lead to physics objects getting <em>snagged</em>, and will take a long time to process.
<p />
First, for an Actor to block physics Actors, it must have the <strong>bBlockRigidBody</strong> flag set to <strong>true</strong>. This is the default for static meshes and blocking volumes.
<p />
If <strong>UseSimpleRigidBodyCollision</strong> is <strong>true</strong> (see <a href="PhysXReference.html#Collision_Models" class="twikiAnchorLink">Collision Models</a> above for more details), the engine will take the collision model and turn it into a set of convex hull primitives for contact generation. If you choose <strong>Collision</strong> from the <strong>View</strong> menu in the <a href="StaticMeshEditorUserGuide.html" class="twikiLink">Static Mesh Editor</a>, it will give you an overall primitive count. You ideally want to keep that count below 10, certainly under 100.
<p />
Rigid-body actors collide against BSP and terrain per-triangle. For this reason, you should make sure your BSP and terrain do not have very small triangles in them. For small details, use a blocking volume/collision model.
<p />
<h3><a name="Filtering rigid body collision"></a> Filtering rigid body collision </h3>
You can control which rigid body objects collide by using the <strong>RBChannel</strong> and <strong>RBCollidesWithChannel</strong> options within the Component.
<p /> <ul>
<li> <strong>RBChannel</strong> - This indicates what type of object this is considered for collision.
</li> <li> <strong>RBCollidesWithChannel</strong> - This indicates the types of object that should generate a collision with this one.
</li></ul>
<p />
Things like BSP, Terrain and Static Meshes are in the <strong>Default</strong> channel, by default. So if you have a physics object that you want to collide with that, you need to make sure that <strong>Default</strong> is checked in the <strong>RBCollidesWithChannel</strong>. Normally static objects in a level will not have any flags set in <strong>RBCollidesWithChannel</strong>, so that dynamic objects 'choose' what they with to collide against.
<p />
There is a special channel <strong>RBCC_Nothing</strong>, which indicates nothing should by default collide with this object. However, you can still set entries in <strong>RBCollidesWithChannel</strong>. For example, if you want an object in the level to only collide with vehicles, you would set it to belong to the <strong>RBCC_Nothing</strong> channel, and then turn on the <strong>Vehicles</strong> flag in <strong>RBCollidesWithChannel</strong>.
<p />
</noautolink>
<p />
<p />
<p />
<p />
<p />
<p />


<!-- BEGIN UE4 NOTICE -->



<div id="version_message" style="display:none;">

    <div style="position:fixed;top:0px;left:0px;width:100%;height:100%;background:#000;opacity:0.5;">

    </div>

    <div style="position:fixed;top:50%;left:50%;margin:-70px 0px 0px -240px;background:#FFF;border-radius:6px;width:480px;box-shadow:0px 5px 30px -5px rgba(0,0,0,0.9);">

        <div style="font-size:16px;font-weight:bold;background: url(rsrc/Three/warning.png) no-repeat scroll 5px 5px;padding:4px 10px 5px 25px;height:21px;width:440px;">

            Important!

        </div>

        <div style="font-size:11px;padding:5px 10px 10px;width:460px;">

            <p>You are viewing documentation for the <strong>Unreal Development Kit (UDK)</strong>.</p>



            <p>If you are looking for the Unreal Engine 4 documentation, please visit the <a style="color:#000;" href="https://docs.unrealengine.com">Unreal Engine 4 Documentation</a> site.</p>

        </div>

        <div style="height:20px;padding:4px;margin:6px;border-top:1px solid #a0a0a0;">

            <form onsubmit="return closeVersionMessage();">

                <input type="checkbox" id="dismiss" value="dismiss" />

                <label for="dsimiss">Don't show me this again</label>

                <input type="submit" value="Close" style="cursor:pointer;float:right;width:60px;color:#f0f0f0;font-weight:bold;background:#882222;height:24px;padding:2px 3px 3px;text-align:center;border:1px outset #000;" />

            </form>

        </div>

    </div>

</div>



<script type="text/javascript">

    window.onload = function () {

        LoadVersionMessage();

    }



    function LoadVersionMessage()

    {

        var showMessage = "false";
        if(showMessage != "false")

        {

            showVersionMessage();

        }

    }



    function showVersionMessage()

    {

        var message = document.getElementById("version_message");

        if(message)

        {

            message.style.display = "block";

        }

    }



    function closeVersionMessage() {

        var dismiss = document.getElementById("dismiss");

        var message = document.getElementById("version_message");

        if (message) {

            message.style.display = "none";

        }

        if (dismiss.checked) {

            eraseCookie("doc_version_message");

            createCookie("doc_version_message", "false", 365);

            dismiss.checked = false;

        }

        return false;

    }



    function createCookie(name, value, days) {

        if (days) {

            var date = new Date();

            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));

            var expires = "; expires=" + date.toGMTString();

        }

        else var expires = "";

        document.cookie = name + "=" + value + expires + "; path=/";

    }



    function readCookie(name) {

        var nameEQ = name + "=";

        var ca = document.cookie.split(';');

        for (var i = 0; i < ca.length; i++) {

            var c = ca[i];

            while (c.charAt(0) == ' ') c = c.substring(1, c.length);

            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);

        }

        return null;

    }



    function eraseCookie(name) {

        createCookie(name, "", -1);

    }

</script>



<!-- END UE4 NOTICE -->



</div></div><div id="footer"><div style="BACKGROUND-COLOR: transparent; margin: 0; padding: 0; width: 100%;"><div>&nbsp;</div><div style="float: left; text-align: left; vertical-align: bottom; width: 50%;"><a href="http://www.videogamevoters.org"><img src="rsrc/vgvn.jpg" border="0" width="234" height="60" alt="Video Game Voters Network" /></a></div><div style="float: right; text-align: right; vertical-align: bottom; width: 50%;">Copyright &copy; 2001-2012 <a href="http://www.epicgames.com" target="_top">Epic Games, Inc.</a><br /><a href="../Main/TermsAndConditions.html" class="twikiLink">Terms and Conditions</a><br /><a href="http://epicgames.com/privacynotice" target="_top">Privacy Notice</a></div></div></div></div>
<p />
</html></body>
