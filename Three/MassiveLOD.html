<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title> UDK | MassiveLOD    </title>

<style type="text/css" media="all">@import "rsrc/twiki_webs.css";</style>
<style type="text/css" media="all">@import "rsrc/udn_new.css";</style>
<link rel="icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />


<!-- view.static_udn3.tmpl  -->
<script language="JavaScript" type="text/javascript" src="rsrc/udn.js"></script>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

</head>
<p />
<body id="webbgThree">
<p />

<p />
<div id="webThree"><div id="head">
<!--
<div class="header">
 -->
<div style="background: url(/pub/webbg_udn.jpg); background-repeat: no-repeat; height:140px; width: 100%;" >
<!--
<div style="background: transparent url(/pub/udn_header_bg.jpg); background-repeat: repeat-x; height:140px; width: 100%; margin-left: 991px;">
 -->
<p />
<div id="nav">
<ul class="nav">
<font color=black>|</font>&nbsp;&nbsp;<li class=nav_Three><a href="../Main/WebHome.html" class="twikiLink">Main</a></li><font color=black>|</font><li class=nav_Three><a href="../Two/WebHome.html" class="twikiLink">UnrealEngine2</a></li><font color=black>|</font><li class=nav_Three><a href="WebHome.html" class="twikiLink">UnrealEngine3</a></li><font color=black>|</font><li class=nav_Three><a href="https://docs.unrealengine.com" class="twikiLink">UnrealEngine4</a></li><font color=black>|</font><li class=nav_Three><a href="../Main/BusinessAndLegal.html" class="twikiLink">Business &amp; Legal</a></li><font color=black>|</font>
</ul><br><br><br>
</div>
</div>
</div> <!-- end head -->
<div id="pagedefault">
<div id="maincol">
<div id="tool">
<div id="tooltop">UDN</div>
<div id="tooltext" style="padding: 10px 10px 10px 10px;">
Search public documentation: <br>
<form ACTION="/search/index.php" METHOD="GET" NAME="main" ID="main">
<input TYPE="TEXT" NAME="q" SIZE="15" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;">
<input TYPE="SUBMIT" VALUE="Search" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;"><br>
</form>
</div>
<div id="toolband">MassiveLOD  </b></div>
<div id="tooltext">
<a href="MassiveLODJP.html" class="twikiLink">日本語訳</a><br><a href="MassiveLODCH.html" class="twikiLink">中国翻译</a><br><a href="MassiveLODKR.html" class="twikiLink">한국어</a><br>

<!-- Three/MassiveLOD -->
<hr size="1" noshade="noshade" />
Interested in the Unreal Engine? <br>
Visit the <a href="http://www.unrealtechnology.com" target="_top">Unreal Technology</a> site.<br>
<br>
Looking for jobs and company info? <br>
Check out the <a href="http://www.epicgames.com" target="_top">Epic games</a> site.<br>
<br>
Questions about support via UDN? <br>
Contact the <a href="../Main/ContactUDNStaff.html" class="twikiLink">UDN Staff</a> <br>
<br>
</div> <!-- end toolbox content -->
<div id="toolbottom"></div>
</div> <!-- end tool -->
<p />
<noautolink>
<p />
<div style="padding:0px 0px 0px 4px;font:10px Verdana;">
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="LevelEditingHome.html" class="twikiLink">Level Editing</a></b> &gt; Massive LOD System <br/>
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="LevelDesignerHome.html" class="twikiLink">Level Designer</a></b> &gt; Massive LOD System <br/>
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="StaticMeshHome.html" class="twikiLink">Static Meshes</a></b> &gt; Massive LOD System <br/>
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="EnvironmentArtistHome.html" class="twikiLink">Environment Artist</a></b> &gt; Massive LOD System
</div>
<hr size="1" noshade="noshade">
<h1><a name="Massive LOD System"></a> Massive LOD System </h1>
<hr size="1" noshade="noshade">
<p />
<div class="twikiToc"> <ul>
<li> <a href="MassiveLOD.html#Massive LOD System">  Massive LOD System</a> <ul>
<li> <a href="MassiveLOD.html#Overview"> Overview</a>
</li> <li> <a href="MassiveLOD.html#New Concepts"> New Concepts</a> <ul>
<li> <a href="MassiveLOD.html#LOD Parenting"> LOD Parenting </a>
</li></ul>
</li> <li> <a href="MassiveLOD.html#Editor Changes"> Editor Changes</a> <ul>
<li> <a href="MassiveLOD.html#New Context Menu Options"> New Context Menu Options </a>
</li> <li> <a href="MassiveLOD.html#LOD View Locking"> LOD View Locking</a>
</li> <li> <a href="MassiveLOD.html#Per View Group Hiding"> Per View Group Hiding </a>
</li> <li> <a href="MassiveLOD.html#LOD Parenting Show Flag"> LOD Parenting Show Flag</a>
</li></ul>
</li></ul>
</li></ul>
</div>
<p />
<h2><a name="Overview"></a> Overview </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
This document explains the details of the Massive LOD system in Unreal Engine 3. It also covers some editing topics for how to set it up in the UnrealEd.
<p />
The Massive LOD system is a collection of techniques that together make it possible to render wide open vistas while keeping a high framerate. It should be combined with other existing functionality (such as cull distance, StaticMesh LODs, and streaming) to generate levels with <em>Gears of War</em> level of detail up close and much lower level of detail for far away objects.
<p />
The goal is to have levels built with an order of magnitude higher number of meshes, while keeping the performance consistent.
<p />
<p />
<h2><a name="New Concepts"></a> New Concepts </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
<h3><a name="LOD Parenting"></a> LOD Parenting </h3>
<p />
One very important new concept introduced with Massive LOD is the contept of LOD Parenting. This is a system where many meshes are efficiently replaced with a single mesh when the objects are sufficiently far away.
<p />
Imagine a building that when up close to the player is made out of hundreds of pieces to have a high quality building. When that building is far enough away, it doesn't make sense to use hundreds of draw calls to render that building, when you can't really see much detail anyway. With standard StaticMesh LOD, you may be able to reduce the number of polygons in those hundreds of pieces - but you are still making a lot of draw calls, which slows down the rendering thread and the GPU.
<p />
However, with LOD Parenting, the entire group of building pieces can be replaced with a single mesh that looks similar to the super high detail group of meshes.
<p />
Furthermore, it supports hierarchical parenting, so you could replace all buildings with single mesh buildings, then you could at a farther distance replace all buildings in a city block with a single mesh for the block.
<p />
<p />
<h2><a name="Editor Changes"></a> Editor Changes </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
<h3><a name="New Context Menu Options"></a> New Context Menu Options </h3>
<p />
<strong>Where Found</strong>: "LOD Operations" submenu in right click menu
<p />
<strong>How To Use</strong>: There are several new menu items that are used to set up the parenting/replacement relationship. In the 100-piece building replaced by a 1-piece building example, you would do the following:
<p /> <ul>
<li> Place the 100-pieces and the 1-piece portions, in the level.
</li> <li> Select the 1-piece building.
</li> <li> Go to properties and set the MassiveLODDistance (in Rendering group) at the distance you want to swap to occur
</li> <li> Right-click, go to LOD Operations, select "Set as Active LOD Parent"
</li> <li> Now, deselect it and select all 100 pieces of the high detail
</li> <li> Right-click, go to LOD Operations, select "Use 'XXX' as the LOD Replacement"
</li></ul>
<p />
Now, you can see as you move the camera in and out that the pieces will pop in and out, depending on the MassiveLODDistance of the parent. If you Uncheck the LOD Parenting Show Flag in the viewport, you will see both sets of pieces. Also, with that show flag unchecked, if you select a child mesh, you will see a yellow line connecting it to its parent.
<p />
You can also clear the replacement parent of a mesh using the "Clear LOD Replacement" option.
<p />
<h3><a name="LOD View Locking"></a> LOD View Locking </h3>
<p />
<strong>Where Found</strong>: View menu
<p />
<strong>How To Use</strong>: LOD View Locking is a mode (independent of all other modes) in the editor that does two things:
<p /> <ul>
<li> All views of the same type (perspective, top, side, etc) will all share a camera. So, if you have two perspective views open, and LOD Locking is enabled, when you move the camera in one, it will move it in the other. (The reason for this will be made clear below)
</li></ul>
<p /> <ul>
<li> In Ortho views, culling and LOD parenting (replacing 100 meshes with 1 at a far distance) will use the perspective view's camera location for distance checks (this is because ortho views have no real "camera location").
</li></ul>
<p />
<h3><a name="Per View Group Hiding"></a> Per View Group Hiding </h3>
<p />
<strong>Where Found</strong>: Hidden Groups submenu of Show Flags menu <img alt="Showflags.jpg" src="rsrc/Three/MassiveLOD/Showflags.jpg" />
<p />
<strong>How To Use</strong>: At the bottom of the Show Flags menu, the Hidden Groups submenu has been added. It will show a list of all known groups (same as in group browser). When a group is chosen in this menu, any actors in that group will be hidden in that view only.
<p />
When this is combined with the LOD View Locking, you will more easily be able to set up parenting because normally when two meshes are on top of each other it is hard to select the proper one. Now, you'll be able to make groups for low LOD meshes and high LOD meshes, then only show low in one view and high in the other. Select the active parent in the low LOD view and then assign it in the high LOD view, using the context menus.
<p />
<h3><a name="LOD Parenting Show Flag"></a> LOD Parenting Show Flag </h3>
<p />
<strong>Where Found</strong>: "LOD Parenting" in Show Flags menu <img alt="Showflags.jpg" src="rsrc/Three/MassiveLOD/Showflags.jpg" />
<p />
<strong>How To Use</strong>: When the editor starts, all views will have LOD Parenting enabled. This means that LOD parents and MassiveLODDistance will be used to only show high or low LOD. If you disable LOD Parenting, the following will happen:
<p /> <ul>
<li> MassiveLODDistance and the LOD parents will be ignored, meaning both sets of meshes will be drawn
</li> <li> Since both are drawn, selected high detail meshes will draw a line to their LOD parent
</li></ul>
<p />
You would probably want to disable LOD parenting when you are setting up your parenting (using two LOD Locked views, etc, as above). This is so that you can see all meshes, and the MassiveLODDistance of the low LOD actors won't make it difficult to select meshes. (With MassiveLODDistance enabled, you have to be <em>far</em> from the mesh for it to draw, making selection potentially difficult).
<p />
</noautolink>
<p />
<p />
<p />
<p />
<p />
<p />


<!-- BEGIN UE4 NOTICE -->



<div id="version_message" style="display:none;">

    <div style="position:fixed;top:0px;left:0px;width:100%;height:100%;background:#000;opacity:0.5;">

    </div>

    <div style="position:fixed;top:50%;left:50%;margin:-70px 0px 0px -240px;background:#FFF;border-radius:6px;width:480px;box-shadow:0px 5px 30px -5px rgba(0,0,0,0.9);">

        <div style="font-size:16px;font-weight:bold;background: url(rsrc/Three/warning.png) no-repeat scroll 5px 5px;padding:4px 10px 5px 25px;height:21px;width:440px;">

            Important!

        </div>

        <div style="font-size:11px;padding:5px 10px 10px;width:460px;">

            <p>You are viewing documentation for the <strong>Unreal Development Kit (UDK)</strong>.</p>



            <p>If you are looking for the Unreal Engine 4 documentation, please visit the <a style="color:#000;" href="https://docs.unrealengine.com">Unreal Engine 4 Documentation</a> site.</p>

        </div>

        <div style="height:20px;padding:4px;margin:6px;border-top:1px solid #a0a0a0;">

            <form onsubmit="return closeVersionMessage();">

                <input type="checkbox" id="dismiss" value="dismiss" />

                <label for="dsimiss">Don't show me this again</label>

                <input type="submit" value="Close" style="cursor:pointer;float:right;width:60px;color:#f0f0f0;font-weight:bold;background:#882222;height:24px;padding:2px 3px 3px;text-align:center;border:1px outset #000;" />

            </form>

        </div>

    </div>

</div>



<script type="text/javascript">

    window.onload = function () {

        LoadVersionMessage();

    }



    function LoadVersionMessage()

    {

        var showMessage = "false";
        if(showMessage != "false")

        {

            showVersionMessage();

        }

    }



    function showVersionMessage()

    {

        var message = document.getElementById("version_message");

        if(message)

        {

            message.style.display = "block";

        }

    }



    function closeVersionMessage() {

        var dismiss = document.getElementById("dismiss");

        var message = document.getElementById("version_message");

        if (message) {

            message.style.display = "none";

        }

        if (dismiss.checked) {

            eraseCookie("doc_version_message");

            createCookie("doc_version_message", "false", 365);

            dismiss.checked = false;

        }

        return false;

    }



    function createCookie(name, value, days) {

        if (days) {

            var date = new Date();

            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));

            var expires = "; expires=" + date.toGMTString();

        }

        else var expires = "";

        document.cookie = name + "=" + value + expires + "; path=/";

    }



    function readCookie(name) {

        var nameEQ = name + "=";

        var ca = document.cookie.split(';');

        for (var i = 0; i < ca.length; i++) {

            var c = ca[i];

            while (c.charAt(0) == ' ') c = c.substring(1, c.length);

            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);

        }

        return null;

    }



    function eraseCookie(name) {

        createCookie(name, "", -1);

    }

</script>



<!-- END UE4 NOTICE -->



</div></div><div id="footer"><div style="BACKGROUND-COLOR: transparent; margin: 0; padding: 0; width: 100%;"><div>&nbsp;</div><div style="float: left; text-align: left; vertical-align: bottom; width: 50%;"><a href="http://www.videogamevoters.org"><img src="rsrc/vgvn.jpg" border="0" width="234" height="60" alt="Video Game Voters Network" /></a></div><div style="float: right; text-align: right; vertical-align: bottom; width: 50%;">Copyright &copy; 2001-2012 <a href="http://www.epicgames.com" target="_top">Epic Games, Inc.</a><br /><a href="../Main/TermsAndConditions.html" class="twikiLink">Terms and Conditions</a><br /><a href="http://epicgames.com/privacynotice" target="_top">Privacy Notice</a></div></div></div></div>
<p />
</html></body>
