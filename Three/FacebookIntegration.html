<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title> UDK | FacebookIntegration    </title>

<style type="text/css" media="all">@import "rsrc/twiki_webs.css";</style>
<style type="text/css" media="all">@import "rsrc/udn_new.css";</style>
<link rel="icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />


<!-- view.static_udn3.tmpl  -->
<script language="JavaScript" type="text/javascript" src="rsrc/udn.js"></script>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

</head>
<p />
<body id="webbgThree">
<p />

<p />
<div id="webThree"><div id="head">
<!--
<div class="header">
 -->
<div style="background: url(/pub/webbg_udn.jpg); background-repeat: no-repeat; height:140px; width: 100%;" >
<!--
<div style="background: transparent url(/pub/udn_header_bg.jpg); background-repeat: repeat-x; height:140px; width: 100%; margin-left: 991px;">
 -->
<p />
<div id="nav">
<ul class="nav">
<font color=black>|</font>&nbsp;&nbsp;<li class=nav_Three><a href="../Main/WebHome.html" class="twikiLink">Main</a></li><font color=black>|</font><li class=nav_Three><a href="../Two/WebHome.html" class="twikiLink">UnrealEngine2</a></li><font color=black>|</font><li class=nav_Three><a href="WebHome.html" class="twikiLink">UnrealEngine3</a></li><font color=black>|</font><li class=nav_Three><a href="https://docs.unrealengine.com" class="twikiLink">UnrealEngine4</a></li><font color=black>|</font><li class=nav_Three><a href="../Main/BusinessAndLegal.html" class="twikiLink">Business &amp; Legal</a></li><font color=black>|</font>
</ul><br><br><br>
</div>
</div>
</div> <!-- end head -->
<div id="pagedefault">
<div id="maincol">
<div id="tool">
<div id="tooltop">UDN</div>
<div id="tooltext" style="padding: 10px 10px 10px 10px;">
Search public documentation: <br>
<form ACTION="/search/index.php" METHOD="GET" NAME="main" ID="main">
<input TYPE="TEXT" NAME="q" SIZE="15" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;">
<input TYPE="SUBMIT" VALUE="Search" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;"><br>
</form>
</div>
<div id="toolband">FacebookIntegration  </b></div>
<div id="tooltext">
<a href="FacebookIntegrationJP.html" class="twikiLink">日本語訳</a><br><a href="FacebookIntegrationCH.html" class="twikiLink">中国翻译</a><br><a href="FacebookIntegrationKR.html" class="twikiLink">한국어</a><br>

<!-- Three/FacebookIntegration -->
<hr size="1" noshade="noshade" />
Interested in the Unreal Engine? <br>
Visit the <a href="http://www.unrealtechnology.com" target="_top">Unreal Technology</a> site.<br>
<br>
Looking for jobs and company info? <br>
Check out the <a href="http://www.epicgames.com" target="_top">Epic games</a> site.<br>
<br>
Questions about support via UDN? <br>
Contact the <a href="../Main/ContactUDNStaff.html" class="twikiLink">UDN Staff</a> <br>
<br>
</div> <!-- end toolbox content -->
<div id="toolbottom"></div>
</div> <!-- end tool -->
<p />
<noautolink>
<p />
<div style="padding:0px 0px 0px 4px;font:10px Verdana;">
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="PlatformInterfaceFramework.html" class="twikiLink">PlatformInterface Framework</a></b> &gt; Facebook Integration
</div>
<hr size="1" noshade="noshade">
<h1><a name="Facebook Integration"></a> Facebook Integration </h1>
<hr size="1" noshade="noshade">
<p />
<img src="rsrc/TWiki/TWikiDocGraphics/warning.gif" alt="ALERT!" title="ALERT!" width="16" height="16" border="0" /> <strong>This document describes features and systems added in the November 2011 Build. Previous versions included Facebook functionality, but the implementation differs.</strong>
<p />
<div class="twikiToc"> <ul>
<li> <a href="FacebookIntegration.html#Facebook Integration"> Facebook Integration</a> <ul>
<li> <a href="FacebookIntegration.html#Overview"> Overview</a>
</li> <li> <a href="FacebookIntegration.html#FacebookIntegration"> FacebookIntegration</a>
</li> <li> <a href="FacebookIntegration.html#Implementation Details"> Implementation Details</a>
</li> <li> <a href="FacebookIntegration.html#Example"> Example</a> <ul>
<li> <a href="FacebookIntegration.html#Mobile Menu"> Mobile Menu</a>
</li> <li> <a href="FacebookIntegration.html#PlayerController"> PlayerController</a>
</li> <li> <a href="FacebookIntegration.html#Gametype"> Gametype</a>
</li></ul>
</li></ul>
</li></ul>
</div>
<p />
<style type="text/css" media="all">@import "rsrc/UDNCSS_test.css";</style>
<p />
<h2><a name="Overview"></a> Overview </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
Facebook integration allows the addition of social features to games made with Unreal Engine 3.
<p />
<strong>Note:</strong> Facebook integration functionality is currently limited to games running on the iOS platform.
<p />
<h2><a name="FacebookIntegration"></a> FacebookIntegration </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
The <code><b>FacebookIntegration</b></code> class is the base class containing the functionality for connecting to and interacting with Facebook. It inherits from the <code><b>PlatformInterfaceBase</b></code> and makes use of the delegate system contained in that class. Each platform (PC, iOS, etc.) has its own subclass extending from <code><b>FacebookIntegration</b></code> that provides the implementation specific to that platform.
<p />
<strong>Properties</strong>
<p /> <ul>
<li> <strong>AppID</strong> - The ID of the Facebook application to link the game to. This is obtained by setting up an application on <a href="https://developers.facebook.com" target="_top">Facebook's developer site</a>. Each game should specify this value in the <code><b>DefaultEngine.ini</b></code> config file.
</li> <li> <strong>Username</strong> - Holds the username of the player obtained through the authorization process.
</li> <li> <strong>UserID</strong> - Holds the Facebook ID of the player obtained through the authorization process.
</li> <li> <strong>AccessToken</strong> - Holds the access token for the player obtained through the authorization process.
</li> <li> <strong>FriendsList</strong> - An array of <code><b>FacebookFriends</b></code> to hold the player's friends list. <ul>
<li> <strong>Name</strong> - The display name of the friend.
</li> <li> <strong>Id</strong> - The facebook user ID of the friend.
</li></ul>
</li></ul>
<p />
<strong>Functions</strong>
<p /> <ul>
<li> <strong>Init</strong> - Event called by the engine to initialize the Facebook integration.
</li> <li> <strong>Authorize</strong> - Starts the process for allowing the game to access the player's Facebook info. Requires the player to grant permissions to the Facebook app.
</li> <li> <strong>IsAuthorized</strong> - Returns whether the app has been authorized by the player.
</li> <li> <strong>WebRequest [URL] [Verb] [Payload] [Tag] [bRetrieveHeaders] [bForceBinaryResponse]</strong> - Sends a generic web request to the given URL with the specified data. The response comes through a <code><b>FID_WebRequestComplete</b></code> delegate call. <ul>
<li> <strong>URL</strong> - The URL for the request, can be http or https (if the current platform supports sending https)
</li> <li> <strong>Verb</strong> - A string specifying the type of request ("POST", "GET").
</li> <li> <strong>Payload</strong> - The string to send as the payload in the web request (as UTF8).
</li> <li> <strong>bRetrieveHeaders</strong> - If TRUE, the response object will contain all the headers (using false will reduce a lot of memory churn).
</li> <li> <strong>bForceBinaryResponce</strong> - If TRUE, then the response is never converted to a string and is stored in the binary response data.
</li></ul>
</li> <li> <strong>FacebookRequest [GraphRequest]</strong> - Sends a Facebook GraphAPI request. The response comes through a <code><b>FID_FacebookRequestComplete</b></code> delegate call. <ul>
<li> <strong>GraphRequest</strong> - The request to make, i.e. <code><b>"me/friends"</b></code>. See the <a href="https://developers.facebook.com/docs/reference/api/" target="_top">Facebook GraphAPI documentation</a> for more info.
</li></ul>
</li> <li> <strong>FacebookDialog [Action] [ParamKeysAndValues]</strong> - Opens a platform dialog to eprform a Facebook action, i.e. posting to the player's wall. <ul>
<li> <strong>Action</strong> - The type of dialog to open (i.e. "feed").
</li> <li> <strong>ParamKeysAndvalues</strong> - An array of strings specifying the extra parameters to pass to the dialog (dialog specific). Separate keys and values: &lt; "key1", "value1", "key2", "value2" &gt;
</li></ul>
</li> <li> <strong>Disconnect</strong> - Call this to disconnect from Facebook. Next time authorization happens, the auth webpage will be displayed again.
</li></ul>
<p />
<strong>Delegates</strong>
<p />
The <code><b>EFacebookIntegrationDelegate</b></code> enum defines the IDs for the types of delegates that can receive callbacks. Delegates can be assigned to each of these using the <a href="PlatformInterfaceFramework.html#DelegateSystem" class="twikiAnchorLink">Platform Interface Delegates</a> system.
<p /> <ul>
<li> <strong>FID_AuthorizationComplete</strong> - Delegates assigned to this ID are executed when a response from the authorization process is received. <ul>
<li> <strong>bSuccessful</strong> - TRUE.
</li> <li> <strong>Data</strong> - Contains no data.
</li></ul>
</li> <li> <strong>FID_FacebookRequestComplete</strong> - Delegates assigned to this ID are executed when a response from a Facebook GraphAPI request is received. <ul>
<li> <strong>bSuccessful</strong> - TRUE.
</li> <li> <strong>Data</strong> - Contains the response string from the GraphAPI request.
</li></ul>
</li> <li> <strong>FID_WebRequestComplete</strong> - Delegates assigned to this ID are executed when a response from a web request is received. <ul>
<li> <strong>bSuccessful</strong> - TRUE.
</li> <li> <strong>Data</strong> - Contains the response string from the web request.
</li></ul>
</li> <li> <strong>FID_DialogComplete</strong> - Delegates assigned to this ID are executed when a response from a web request is received. <ul>
<li> <strong>bSuccessful</strong> - If TRUE, the dialog succeeded. Otherwise, the dialog was either canceled or failed.
</li> <li> <strong>Data</strong> - Contains the response string (if any) from the dialog, i.e. a returning URL or error message.
</li></ul>
</li> <li> <strong>FID_FriendsListComplete</strong> - Delegates assigned to this ID are executed when a response from a request for the player's friends list is received. <ul>
<li> <strong>bSuccessful</strong> - If TRUE, the request was successful.
</li> <li> <strong>Data</strong> - Contains no data. The list of friends is saved in the <code><b>FriendsList</b></code> array
</li></ul>
</li></ul>
<p />
<h2><a name="Implementation Details"></a> Implementation Details </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
The general workflow for setting up and using the Facebook integration in Unreal Engine 3 is outlined below:
<p /> <ol>
<li> Create your Facebook app through the Facebook developer site if you do not already have one.
</li> <li> Add a <code><b>CFBundleURLTypes</b></code> entry in your <code><b>UDKGameOverrides.plist</b></code> file to handle the callbacks from Facebook.   <div class="codesnippet"><pre>
   &#60;key&#62;CFBundleURLTypes&#60;/key&#62;
   &#60;array&#62;
     &#60;dict&#62;
       &#60;key&#62;CFBundleURLSchemes&#60;/key&#62;
       &#60;array&#62;
         &#60;string&#62;fb&#91;FacebookAppID]&#60;/string&#62;
       &#60;/array&#62;
     &#60;/dict&#62;
   &#60;/array&#62;
   </pre></div>   <code><b>[FacebookAppID]</b></code> should be replaced with your app's ID.
</li> <li> In the <code><b>[FacebookIntegration]</b></code> section of the <code><b>DefaultEngine.ini</b></code> file, set the <code><b>AppID</b></code> property using the ID of your Facebook app. If you need extended permissions, list them here as well, one per line.    <div class="codesnippet"><pre>
   &#91;FacebookIntegration]
   AppID&#61;&#91;FacebookAppID]
   +Permissions&#61;email
   +Permissions&#61;read&#95;stream
   </pre></div>   <code><b>[FacebookAppID]</b></code> should be replaced with your app's ID. See <a href="https://developers.facebook.com/docs/reference/api/permissions/" target="_top">https://developers.facebook.com/docs/reference/api/permissions/</a> for the possible permissions.
</li> <li> Get a reference to the <code><b>FacebookIntegration</b></code> object by calling the static <code><b>GetFacebookIntegration()</b></code> of the <code><b>PlatformInterfaceBase</b></code> class and set up your delegates for the authorization, web request, and GraphAPI request callbacks, usually in <code><b>PostBeginPlay()</b></code> or some other initialization function depending on where you are placing the Facebook functionality.   <div class="codesnippet"><pre>
   var FacebookIntegration Facebook;

   ...

   Facebook &#61; class&#39;PlatformInterfaceBase&#39;.static.GetFacebookIntegration();
   Facebook.AddDelegate(FID&#95;AuthorizationComplete, OnFBAuthComplete);
   Facebook.AddDelegate(FID&#95;FacebookRequestComplete, OnFBRequestComplete);
   Facebook.AddDelegate(FID&#95;WebRequestComplete, OnWebRequestComplete);
   </pre></div>   <code><b>OnFBAuthComplete</b></code>, <code><b>OnFBRequestComplete</b></code>, <code><b>OnWebRequestComplete</b></code> are just examples. These can be the names of any function matching the signature of the <code><b>PlatformInterfaceDelegate</b></code> delegate.   <div class="codesnippet"><pre>
   delegate PlatformInterfaceDelegate(const out PlatformInterfaceDelegateResult Result);
   </pre></div>
</li> <li> When the user wishes to enable Facebook functionality, call <code><b>Authorize()</b></code> on the <code><b>FacebookIntegration</b></code> object if the user has not already authorized (check by calling <code><b>IsAuthroized()</b></code>) and wait for the <code><b>FID_AuthorizationComplete</b></code> callback.   <div class="codesnippet"><pre>
   if (!Facebook.IsAuthorized())
   {
      if (Facebook.Authorize() &#61;&#61; true)
      {
         bIsFBAuthenticating &#61; true;
      }
      return;
   }
   </pre></div>
</li> <li> Once authorization is successful, you can make requests using <code><b>WebRequest()</b></code> or <code><b>FacebookRequest()</b></code> and handle them in your callback delegates.   <div class="codesnippet"><pre>
   Facebook.FacebookRequest(&#34;me/friends&#34;);
   </pre></div>
</li></ol>
<p />
A basic implementation can be found in the <code><b>CloudPC.uc</b></code> script of the <code><b>UDKBase\Classes</b></code> directory and can be tested by using the <code><b>CloudGame</b></code> gametype.
<p />
<h2><a name="Example"></a> Example </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
A more advanced implementation of the <code><b>CloudGame</b></code> Facebook example is provided below. The Facebook functionality is implemented within a mobile menu containing two buttons which allow the user to enable Facebook integration and then get a list of their friends, respectively. The friends are displayed in a scrolling list where they can be selected and the menu also contains a status bar that displays a text output of the actions being performed.
<p />
<strong>Note:</strong> This example makes use of the classes from the <a href="MobileMenuTechnicalGuide.html#CustomInput" class="twikiAnchorLink">Custom Input Example</a> from the <a href="MobileMenuTechnicalGuide.html" class="twikiLink">Mobile Menu Technical Guide</a>. Those classes will not be explained here.
<p />
The example starts by displaying a custom mobile menu:
<p />
<img src="rsrc/Three/FacebookIntegration/fb_menu.jpg" alt="fb_menu.jpg" width="480" height="320" />
<p />
Tapping the "Facebook" button starts the authorization process, switching to the Facebook app on the device (or the Facebook site in Safari if the app is not installed):
<p />
<img src="rsrc/Three/FacebookIntegration/fb_auth.jpg" alt="fb_auth.jpg" width="480" height="320" />
<p />
After the user agrees, they are redirected back to the game where the status has been updated to reflect the successful authorization:
<p />
<img src="rsrc/Three/FacebookIntegration/fb_success.jpg" alt="fb_success.jpg" width="480" height="320" />
<p />
Tapping the "Friends" button at this point will initiate a GraphAPI request for the friends list of the user:
<p />
<img src="rsrc/Three/FacebookIntegration/fb_request.jpg" alt="fb_request.jpg" width="480" height="320" />
<p />
When the request returns, the friends are added to the list in the menu and it is displayed:
<p />
<img src="rsrc/Three/FacebookIntegration/fb_friends.jpg" alt="fb_friends.jpg" width="480" height="320" />
<p />
The list can be scrolled and friends can be selected:
<p />
<img src="rsrc/Three/FacebookIntegration/fb_select.jpg" alt="fb_select.jpg" width="480" height="320" />
<p />
When a friend is selected, the list is closed and the selected friend then appears in the status bar of the menu:
<p />
<img src="rsrc/Three/FacebookIntegration/fb_status.jpg" alt="fb_status.jpg" width="480" height="320" />
<p />
<h3><a name="Mobile Menu"></a> Mobile Menu </h3>
<p />
<div class="codetitlebar">
SocialMenu.uc
</div>
<div class="codesnippet">
<pre>
class SocialMenu extends UDNMobileMenuScene;

/&#42;&#42; Reference to the Facebook object &#42;/
var FacebookIntegration Facebook;

/&#42;&#42; Are we currently authenticating with facebook? &#42;/
var bool bIsFBAuthenticating;

/&#42;&#42; Have we already requested friends (because we don&#39;t want to send the request each time we wnt to view them) &#42;/
var bool bFriendsListPopulated;

/&#42;&#42;
 &#42; Called to initialize the menu and set up the scene
 &#42;/
function InitMenuScene(MobilePlayerInput PlayerInput, int ScreenWidth, int ScreenHeight, bool bIsFirstInitialization)
{
   Super.InitMenuScene(PlayerInput, ScreenWidth, ScreenHeight, bIsFirstInitialization);

   //initialize list
    List.InitMenuObject(PlayerInput, self, ScreenWidth, ScreenHeight, bIsFirstInitialization);

      //Get the reference to the Facebook object singleton
   Facebook &#61; class&#39;PlatformInterfaceBase&#39;.static.GetFacebookIntegration();

   //Set the delegates to use for the authorization and GraphAPI request callbacks (we&#39;re not using any web requests)
   Facebook.AddDelegate(FID&#95;AuthorizationComplete, OnFBAuthComplete);
   Facebook.AddDelegate(FID&#95;FacebookRequestComplete, OnFBRequestComplete);

   //Set up some delegates for our menu objects (buttons, list, etc.)
   UDNMobileMenuButton(FindMenuObject(&#34;Authorize&#34;)).OnClick &#61; AuthorizeFacebook;
   UDNMobileMenuButton(FindMenuObject(&#34;Friends&#34;)).OnClick &#61; RequestFriends;
   List.OnChange &#61; OnSelectFriend;
   List.OnCancel &#61; HideFriendsList;
}

/&#42;&#42;
 &#42; Called when the menu is closed to clean up the scene
 &#42;/
function bool Closing()
{
   //Clear all the delegates when the menu closes
   Facebook.ClearDelegate(FID&#95;AuthorizationComplete, OnFBAuthComplete);
   Facebook.ClearDelegate(FID&#95;FacebookRequestComplete, OnFBRequestComplete);

   return super.Closing();
}

/&#42;&#42;
 &#42; Callback from the &#34;Authorize&#34; button&#39;s OnClick delegate - Performs the Facebook authorization process
 &#42;
 &#42; The parameters are not used - they are needed in this case simply because this is matching the OnClick delegate of the UDNMobileMenuButton
 &#42;/
function AuthorizeFacebook(UDNMobileMenuObject Sender, float X, float Y)
{
   //have we authorized previously?
   if (!Facebook.IsAuthorized())
   {
      //send for authorization
      UDNMobileMenuLabel(FindMenuObject(&#34;Status&#34;)).Caption &#61; &#34;Facebook Not Authorized&#34;;
      if (Facebook.Authorize() &#61;&#61; true)
      {
         UDNMobileMenuLabel(FindMenuObject(&#34;Status&#34;)).Caption &#61; &#34;Facebook Is Authorizing&#34;;
         bIsFBAuthenticating &#61; true;
      }
   }
   else
   {
      //set status as authorized
      UDNMobileMenuLabel(FindMenuObject(&#34;Status&#34;)).Caption &#61; &#34;Facebook Authorized&#34;;
   }
}

/&#42;&#42;
 &#42; Callback from the &#34;Friends&#34; button&#39;s OnClick delegate - Sends the Facebook GraphAPI request for the user&#39;s friends
 &#42;
 &#42; The parameters are not used - they are needed in this case simply because this is matching the OnClick delegate of the UDNMobileMenuButton
 &#42;/
function RequestFriends(UDNMobileMenuObject Sender, float X, float Y)
{
   //have we requested friends previously?
   if(!bFriendsListPopulated)
   {
      //send a request to graphAPI for friends list
      UDNMobileMenuLabel(FindMenuObject(&#34;Status&#34;)).Caption &#61; &#34;Requesting Friends List&#34;;
      Facebook.FacebookRequest(&#34;me/friends&#34;);
   }
   else
   {
      //show the previously populated friends list
      List.bIsHidden &#61; false;
   }
}

/&#42;&#42;
 &#42; Callback from the list when an item is selected - Sets the text of the status bar label and closes the list
 &#42;
 &#42; &#64;item - holds the name of the friend that was selected in the list
 &#42;/
function OnSelectFriend(int Idx, string Item, float X, float Y)
{
   UDNMobileMenuLabel(FindMenuObject(&#34;Status&#34;)).Caption &#61; item;
   list.bIsHidden&#61;true;
}

/&#42;&#42;
 &#42; Callback from the list when the &#34;cancel&#34; button is tapped - closes the list
 &#42;/
function HideFriendsList()
{
   list.bIsHidden&#61;true;
}

/&#42;&#42;
 &#42; Callback from Authorize()
 &#42;
 &#42; &#64;Result - Holds the data sent back from the authorization
 &#42;/
function OnFBAuthComplete(const out PlatformInterfaceDelegateResult Result)
{
   //set status to reflect successful authorization
   UDNMobileMenuLabel(FindMenuObject(&#34;Status&#34;)).Caption &#61; &#34;Facebook Auth Complete:&#34;$Result.bSuccessful;
   bIsFBAuthenticating &#61; false;
}

/&#42;&#42;
 &#42; Callback from GraphAPI requests
 &#42;
 &#42; &#64;Result - Holds the data sent back from the request
 &#42;/
function OnFBRequestComplete(const out PlatformInterfaceDelegateResult Result)
{
   local JsonObject Root, FriendsArray, Friend;
   local int Index;

   if (Result.bSuccessful)
   {
      //set status as successful request
      UDNMobileMenuLabel(FindMenuObject(&#34;Status&#34;)).Caption &#61; &#34;Facebook Request Successful&#34;;

      //get the data from the request
      Root &#61; class&#39;JsonObject&#39;.static.DecodeJson(Result.Data.StringValue);

      // get the friends array - top level is &#34;data&#34; &#61; &#91;friend,friend]
      FriendsArray &#61; Root.GetObject(&#34;data&#34;);

      //output number of friends to status
      UDNMobileMenuLabel(FindMenuObject(&#34;Status&#34;)).Caption &#61; &#34;You have &#34; $ FriendsArray.ObjectArray.length $ &#34; friends:&#34;;

      // loop over the friends
      for (Index &#61; 0; Index &#60; FriendsArray.ObjectArray.length; Index++)
      {
         // get a friend object
         Friend &#61; FriendsArray.ObjectArray&#91;Index];

         // output friend info
         UDNMobileMenuLabel(FindMenuObject(&#34;Status&#34;)).Caption &#61; &#34;Friend &#34; $ Friend.GetStringValue(&#34;name&#34;) $ &#34; has ID &#34; $ Friend.GetStringValue(&#34;id&#34;);

         //add new friend to the list
         List.AddItem(Friend.GetStringValue(&#34;name&#34;));
      }

      //display the list
      List.bIsHidden &#61; false;
      bFriendsListPopulated &#61; true;
   }
   else
   {
      //set status as unsuccessful request
      UDNMobileMenuLabel(FindMenuObject(&#34;Status&#34;)).Caption &#61; &#34;Facebook Request Unsuccessful&#34;;
   }
}

defaultproperties
{
   //Authorize button
   Begin Object Class&#61;UDNMobileMenuButton Name&#61;AuthorizeButton
      Tag&#61;&#34;Authorize&#34;
      Left&#61;20
      Top&#61;10
      Width&#61;128
      Height&#61;32
      TopLeeway&#61;20
      Images(0)&#61;Texture2D&#39;PlatformInterfaceContent.fb&#95;label&#39;
        Images(1)&#61;Texture2D&#39;PlatformInterfaceContent.fb&#95;label&#39;
         ImagesUVs(0)&#61;(bCustomCoords&#61;true,U&#61;0,V&#61;0,UL&#61;128,VL&#61;32)
         ImagesUVs(1)&#61;(bCustomCoords&#61;true,U&#61;0,V&#61;0,UL&#61;128,VL&#61;32)
   End Object
   MenuObjects.Add(AuthorizeButton)

   //Friends button
   Begin Object Class&#61;UDNMobileMenuButton Name&#61;FriendsButton
      Tag&#61;&#34;Friends&#34;
      Left&#61;20
      Top&#61;52
      Width&#61;128
      Height&#61;32
      TopLeeway&#61;20
      TextFont&#61;Font&#39;EngineFonts.SmallFont&#39;
      Images(0)&#61;Texture2D&#39;PlatformInterfaceContent.fb&#95;friends&#39;
        Images(1)&#61;Texture2D&#39;PlatformInterfaceContent.fb&#95;friends&#39;
         ImagesUVs(0)&#61;(bCustomCoords&#61;true,U&#61;0,V&#61;0,UL&#61;128,VL&#61;32)
         ImagesUVs(1)&#61;(bCustomCoords&#61;true,U&#61;0,V&#61;0,UL&#61;128,VL&#61;32)
   End Object
   MenuObjects.Add(FriendsButton)

   //Status bar label
    Begin Object class&#61;UDNMobileMenuLabel name&#61;Label0
      Tag&#61;&#34;Status&#34;
      Height&#61;32
      Width&#61;480
      Left&#61;0
      Top&#61;288
      TextFont&#61;Font&#39;EngineFonts.SmallFont&#39;
      BackgroundColors(0)&#61;(R&#61;0.0,G&#61;0.0,B&#61;0.0,A&#61;1.0)
      BackgroundColors(1)&#61;(R&#61;0.0,G&#61;0.0,B&#61;0.0,A&#61;1.0)
      CaptionColors(0)&#61;(R&#61;1.0,G&#61;1.0,B&#61;1.0,A&#61;1.0)
      CaptionColors(1)&#61;(R&#61;1.0,G&#61;1.0,B&#61;1.0,A&#61;1.0)
      Caption&#61;&#34;Status&#34;
   End Object
   MenuObjects.Add(Label0)

   //Friends list
   Begin Object class&#61;UDNMobileMenuList name&#61;List0
      Tag&#61;&#34;FriendsList&#34;
      bIsHidden&#61;true
      bHasCancel&#61;true
      Title&#61;&#34;Friends&#34;
   End Object
   List&#61;List0
}
</pre>
</div>
<p />
<h3><a name="PlayerController"></a> PlayerController </h3>
<p />
<div class="codetitlebar">
SocialPC.uc
</div>
<div class="codesnippet">
<pre>
class SocialPC extends SimplePC;

event InitInputSystem()
{
   Super.InitInputSystem();

   MPI.OpenMenuScene(class&#39;SocialMenu&#39;);
}

defaultproperties
{
   InputClass&#61;class&#39;GameFramework.MobilePlayerInput&#39;
}
</pre>
</div>
<p />
<h3><a name="Gametype"></a> Gametype </h3>
<p />
<div class="codetitlebar">
SocialGame.uc
</div>
<div class="codesnippet">
<pre>
class SocialGame extends SimpleGame;

defaultproperties
{
   PlayerControllerClass&#61;class&#39;UDNGame.SocialPC&#39;
}
</pre>
</div>
<p />
</noautolink>
<p />
<p />
<p />
<p />
<p />
<p />


<!-- BEGIN UE4 NOTICE -->



<div id="version_message" style="display:none;">

    <div style="position:fixed;top:0px;left:0px;width:100%;height:100%;background:#000;opacity:0.5;">

    </div>

    <div style="position:fixed;top:50%;left:50%;margin:-70px 0px 0px -240px;background:#FFF;border-radius:6px;width:480px;box-shadow:0px 5px 30px -5px rgba(0,0,0,0.9);">

        <div style="font-size:16px;font-weight:bold;background: url(rsrc/Three/warning.png) no-repeat scroll 5px 5px;padding:4px 10px 5px 25px;height:21px;width:440px;">

            Important!

        </div>

        <div style="font-size:11px;padding:5px 10px 10px;width:460px;">

            <p>You are viewing documentation for the <strong>Unreal Development Kit (UDK)</strong>.</p>



            <p>If you are looking for the Unreal Engine 4 documentation, please visit the <a style="color:#000;" href="https://docs.unrealengine.com">Unreal Engine 4 Documentation</a> site.</p>

        </div>

        <div style="height:20px;padding:4px;margin:6px;border-top:1px solid #a0a0a0;">

            <form onsubmit="return closeVersionMessage();">

                <input type="checkbox" id="dismiss" value="dismiss" />

                <label for="dsimiss">Don't show me this again</label>

                <input type="submit" value="Close" style="cursor:pointer;float:right;width:60px;color:#f0f0f0;font-weight:bold;background:#882222;height:24px;padding:2px 3px 3px;text-align:center;border:1px outset #000;" />

            </form>

        </div>

    </div>

</div>



<script type="text/javascript">

    window.onload = function () {

        LoadVersionMessage();

    }



    function LoadVersionMessage()

    {

        var showMessage = "false";
        if(showMessage != "false")

        {

            showVersionMessage();

        }

    }



    function showVersionMessage()

    {

        var message = document.getElementById("version_message");

        if(message)

        {

            message.style.display = "block";

        }

    }



    function closeVersionMessage() {

        var dismiss = document.getElementById("dismiss");

        var message = document.getElementById("version_message");

        if (message) {

            message.style.display = "none";

        }

        if (dismiss.checked) {

            eraseCookie("doc_version_message");

            createCookie("doc_version_message", "false", 365);

            dismiss.checked = false;

        }

        return false;

    }



    function createCookie(name, value, days) {

        if (days) {

            var date = new Date();

            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));

            var expires = "; expires=" + date.toGMTString();

        }

        else var expires = "";

        document.cookie = name + "=" + value + expires + "; path=/";

    }



    function readCookie(name) {

        var nameEQ = name + "=";

        var ca = document.cookie.split(';');

        for (var i = 0; i < ca.length; i++) {

            var c = ca[i];

            while (c.charAt(0) == ' ') c = c.substring(1, c.length);

            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);

        }

        return null;

    }



    function eraseCookie(name) {

        createCookie(name, "", -1);

    }

</script>



<!-- END UE4 NOTICE -->



</div></div><div id="footer"><div style="BACKGROUND-COLOR: transparent; margin: 0; padding: 0; width: 100%;"><div>&nbsp;</div><div style="float: left; text-align: left; vertical-align: bottom; width: 50%;"><a href="http://www.videogamevoters.org"><img src="rsrc/vgvn.jpg" border="0" width="234" height="60" alt="Video Game Voters Network" /></a></div><div style="float: right; text-align: right; vertical-align: bottom; width: 50%;">Copyright &copy; 2001-2012 <a href="http://www.epicgames.com" target="_top">Epic Games, Inc.</a><br /><a href="../Main/TermsAndConditions.html" class="twikiLink">Terms and Conditions</a><br /><a href="http://epicgames.com/privacynotice" target="_top">Privacy Notice</a></div></div></div></div>
<p />
</html></body>
