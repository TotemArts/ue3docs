<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title> UDK | InstancedMaterials_TimeVarying    </title>

<style type="text/css" media="all">@import "rsrc/twiki_webs.css";</style>
<style type="text/css" media="all">@import "rsrc/udn_new.css";</style>
<link rel="icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />


<!-- view.static_udn3.tmpl  -->
<script language="JavaScript" type="text/javascript" src="rsrc/udn.js"></script>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

</head>
<p />
<body id="webbgThree">
<p />

<p />
<div id="webThree"><div id="head">
<!--
<div class="header">
 -->
<div style="background: url(/pub/webbg_udn.jpg); background-repeat: no-repeat; height:140px; width: 100%;" >
<!--
<div style="background: transparent url(/pub/udn_header_bg.jpg); background-repeat: repeat-x; height:140px; width: 100%; margin-left: 991px;">
 -->
<p />
<div id="nav">
<ul class="nav">
<font color=black>|</font>&nbsp;&nbsp;<li class=nav_Three><a href="../Main/WebHome.html" class="twikiLink">Main</a></li><font color=black>|</font><li class=nav_Three><a href="../Two/WebHome.html" class="twikiLink">UnrealEngine2</a></li><font color=black>|</font><li class=nav_Three><a href="WebHome.html" class="twikiLink">UnrealEngine3</a></li><font color=black>|</font><li class=nav_Three><a href="https://docs.unrealengine.com" class="twikiLink">UnrealEngine4</a></li><font color=black>|</font><li class=nav_Three><a href="../Main/BusinessAndLegal.html" class="twikiLink">Business &amp; Legal</a></li><font color=black>|</font>
</ul><br><br><br>
</div>
</div>
</div> <!-- end head -->
<div id="pagedefault">
<div id="maincol">
<div id="tool">
<div id="tooltop">UDN</div>
<div id="tooltext" style="padding: 10px 10px 10px 10px;">
Search public documentation: <br>
<form ACTION="/search/index.php" METHOD="GET" NAME="main" ID="main">
<input TYPE="TEXT" NAME="q" SIZE="15" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;">
<input TYPE="SUBMIT" VALUE="Search" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;"><br>
</form>
</div>
<div id="toolband">InstancedMaterials_TimeVarying  </b></div>
<div id="tooltext">
<a href="InstancedMaterials_TimeVaryingJP.html" class="twikiLink">日本語訳</a><br><a href="InstancedMaterials_TimeVaryingCH.html" class="twikiLink">中国翻译</a><br><a href="InstancedMaterials_TimeVaryingKR.html" class="twikiLink">한국어</a><br>

<!-- Three/InstancedMaterials_TimeVarying -->
<hr size="1" noshade="noshade" />
Interested in the Unreal Engine? <br>
Visit the <a href="http://www.unrealtechnology.com" target="_top">Unreal Technology</a> site.<br>
<br>
Looking for jobs and company info? <br>
Check out the <a href="http://www.epicgames.com" target="_top">Epic games</a> site.<br>
<br>
Questions about support via UDN? <br>
Contact the <a href="../Main/ContactUDNStaff.html" class="twikiLink">UDN Staff</a> <br>
<br>
</div> <!-- end toolbox content -->
<div id="toolbottom"></div>
</div> <!-- end tool -->
<p />
<noautolink>
<p />
<div style="padding:0px 0px 0px 4px;font:10px Verdana;">
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="MaterialsAndTexturesHome.html" class="twikiLink">Materials &amp; Textures</a></b> &gt; Instanced Materials Time Varying <br/>
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="ParticlesAndEffectsHome.html" class="twikiLink">Particle &amp; Effects</a></b> &gt; <b><a href="DecalsHome.html" class="twikiLink">Decals</a></b> &gt; Instanced Materials Time Varying
</div>
<hr size="1" noshade="noshade">
<h1><a name="Instanced Materials Time Varying"></a> Instanced Materials Time Varying </h1>
<hr size="1" noshade="noshade">
<p />
<div class="twikiToc"> <ul>
<li> <a href="InstancedMaterials_TimeVarying.html#Instanced Materials Time Varying"> Instanced Materials Time Varying</a> <ul>
<li> <a href="InstancedMaterials_TimeVarying.html#Overview"> Overview</a>
</li> <li> <a href="InstancedMaterials_TimeVarying.html#Making an MITV"> Making an MITV</a> <ul>
<li> <a href="InstancedMaterials_TimeVarying.html#Parts of an MITV and what they do"> Parts of an MITV and what they do</a>
</li></ul>
</li> <li> <a href="InstancedMaterials_TimeVarying.html#Examples"> Examples</a> <ul>
<li> <a href="InstancedMaterials_TimeVarying.html#Example of an MITV"> Example of an MITV</a>
</li></ul>
</li> <li> <a href="InstancedMaterials_TimeVarying.html#For Programmers"> For Programmers</a> <ul>
<li> <a href="InstancedMaterials_TimeVarying.html#Using an MITV in script"> Using an MITV in script</a>
</li></ul>
</li></ul>
</li></ul>
</div>
<p />
<h2><a name="Overview"></a> Overview </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
A Material Instance Time Varying is another type of InstancedMaterial in UE3. Its primary purpose is to put more of the control over how materials change over time into the content team's hands.  Usually to have time varying materials you have to have code driving the parameters which we want to avoid.
<p />
Using them for making decals fade out instead of popping is a great way to add that extra bit of polish.
<p />
<p />
<h2><a name="Making an MITV"></a> Making an MITV </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
You will want to set up your BaseMaterial with the parameters you want to vary over time.  (e.g. if you want something to fade out over time you will want some parameter perhaps called FadeVal that when it is at 0 the material is not faded and at 1 it is completed faded out)
<p />
To make an actual MITV you follow the same steps you used to make an MIC.  Specifically, right clicking on a material and choosing:  "Create New Material Instance Time Varying"
<p />
<h3><a name="Parts of an MITV and what they do"></a> Parts of an MITV and what they do </h3>
<p />
Once you have an MITV you will have a number of Params that exist which can be filled in to cause the MITV to do vary over time.
<p />
<strong>bLoop:</strong> if true, then the CycleTime is the loop time and time loops
<p />
<strong>bAutoActivate:</strong> This will auto activate this param
<p />
<strong>CycleTime:</strong> this controls time normalization and the loop time
<p />
<strong>bNormalizeTime:</strong> if true, then the CycleTime is used to scale time so all keys are between zero and one
<p />
<strong>OffsetTime:</strong> How much time this will wait before actually firing off.  This is useful for keeping the curves being just the data for controlling the param and not a bunch of slack in the beginning (e.g. to wait N seconds then start fading)
<p />
<strong>bOffsetFromEnd:</strong>   When using OffsetTime it is nice to be able to offset from the end of the decal's lifetime (e.g. you want to fade out the decal, you want to change the color of the decal before it fades away etc.)
<p />
<strong>various curve data:</strong>  This is the data which will be evaluated and then the parameter will be set to the value.  So just like other curves in UE3 a value (in this case time) is passed into the curve.  The curve evaluates that InVal and sets the parameter to the calculated value.
<p />
<p />
<h2><a name="Examples"></a> Examples </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
<h3><a name="Example of an MITV"></a> Example of an MITV </h3>
<p />
<img alt="MITV.jpg" src="rsrc/Three/InstancedMaterials_TimeVarying/MITV.jpg" />
<p />
This MITV has two parameters that fade.  A Fade_Out and a Glow.
<p />
The Glow a parameter that starts right when this material is placed in the world and from the curve we can see that it takes .4 seconds to go from 1 to 0.  This glow starts off bright and then fades down to nothing.
<p />
The Fade_Out parameter has bOffsetFromEnd.  This means that the curve starts OffsetTime (in this case 3 seconds) from the end.   So if this material was spawned from code and had a time limit for how long it would last, this Fade_Out says:  3 seconds from when the end start Fading Out by varying the Fade_Out param from 0 to 1 over 3 seconds.
<p />
<p />
<h2><a name="For Programmers"></a> For Programmers </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
<h3><a name="Using an MITV in script"></a> Using an MITV in script </h3>
<p />
Using an MITV is very close to the same as using an MIC.  The only exception is that you need to set a Duration for how long the MITV will be around so that all of the correct TimeVarying can occur.
<p />
Here is an example of an MITV being spawned and then the "SetDuration" call both sets the duration and "starts" the MITV.
<p />
<pre>
      MITV&#95;Decal &#61; new(self) class&#39;MaterialInstanceTimeVarying&#39;;
      MITV&#95;Decal.SetParent( Source.DecalMaterial );
      MITV&#95;Decal.SetDuration( DecalLifeSpan );
      SetDecalMaterial(MITV&#95;Decal);
</pre>
<p />
</noautolink>
<p />
<p />
<p />
<p />
<p />
<p />


<!-- BEGIN UE4 NOTICE -->



<div id="version_message" style="display:none;">

    <div style="position:fixed;top:0px;left:0px;width:100%;height:100%;background:#000;opacity:0.5;">

    </div>

    <div style="position:fixed;top:50%;left:50%;margin:-70px 0px 0px -240px;background:#FFF;border-radius:6px;width:480px;box-shadow:0px 5px 30px -5px rgba(0,0,0,0.9);">

        <div style="font-size:16px;font-weight:bold;background: url(rsrc/Three/warning.png) no-repeat scroll 5px 5px;padding:4px 10px 5px 25px;height:21px;width:440px;">

            Important!

        </div>

        <div style="font-size:11px;padding:5px 10px 10px;width:460px;">

            <p>You are viewing documentation for the <strong>Unreal Development Kit (UDK)</strong>.</p>



            <p>If you are looking for the Unreal Engine 4 documentation, please visit the <a style="color:#000;" href="https://docs.unrealengine.com">Unreal Engine 4 Documentation</a> site.</p>

        </div>

        <div style="height:20px;padding:4px;margin:6px;border-top:1px solid #a0a0a0;">

            <form onsubmit="return closeVersionMessage();">

                <input type="checkbox" id="dismiss" value="dismiss" />

                <label for="dsimiss">Don't show me this again</label>

                <input type="submit" value="Close" style="cursor:pointer;float:right;width:60px;color:#f0f0f0;font-weight:bold;background:#882222;height:24px;padding:2px 3px 3px;text-align:center;border:1px outset #000;" />

            </form>

        </div>

    </div>

</div>



<script type="text/javascript">

    window.onload = function () {

        LoadVersionMessage();

    }



    function LoadVersionMessage()

    {

        var showMessage = "false";
        if(showMessage != "false")

        {

            showVersionMessage();

        }

    }



    function showVersionMessage()

    {

        var message = document.getElementById("version_message");

        if(message)

        {

            message.style.display = "block";

        }

    }



    function closeVersionMessage() {

        var dismiss = document.getElementById("dismiss");

        var message = document.getElementById("version_message");

        if (message) {

            message.style.display = "none";

        }

        if (dismiss.checked) {

            eraseCookie("doc_version_message");

            createCookie("doc_version_message", "false", 365);

            dismiss.checked = false;

        }

        return false;

    }



    function createCookie(name, value, days) {

        if (days) {

            var date = new Date();

            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));

            var expires = "; expires=" + date.toGMTString();

        }

        else var expires = "";

        document.cookie = name + "=" + value + expires + "; path=/";

    }



    function readCookie(name) {

        var nameEQ = name + "=";

        var ca = document.cookie.split(';');

        for (var i = 0; i < ca.length; i++) {

            var c = ca[i];

            while (c.charAt(0) == ' ') c = c.substring(1, c.length);

            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);

        }

        return null;

    }



    function eraseCookie(name) {

        createCookie(name, "", -1);

    }

</script>



<!-- END UE4 NOTICE -->



</div></div><div id="footer"><div style="BACKGROUND-COLOR: transparent; margin: 0; padding: 0; width: 100%;"><div>&nbsp;</div><div style="float: left; text-align: left; vertical-align: bottom; width: 50%;"><a href="http://www.videogamevoters.org"><img src="rsrc/vgvn.jpg" border="0" width="234" height="60" alt="Video Game Voters Network" /></a></div><div style="float: right; text-align: right; vertical-align: bottom; width: 50%;">Copyright &copy; 2001-2012 <a href="http://www.epicgames.com" target="_top">Epic Games, Inc.</a><br /><a href="../Main/TermsAndConditions.html" class="twikiLink">Terms and Conditions</a><br /><a href="http://epicgames.com/privacynotice" target="_top">Privacy Notice</a></div></div></div></div>
<p />
</html></body>
