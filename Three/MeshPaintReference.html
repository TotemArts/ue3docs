<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title> UDK | MeshPaintReference    </title>

<style type="text/css" media="all">@import "rsrc/twiki_webs.css";</style>
<style type="text/css" media="all">@import "rsrc/udn_new.css";</style>
<link rel="icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />


<!-- view.static_udn3.tmpl  -->
<script language="JavaScript" type="text/javascript" src="rsrc/udn.js"></script>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

</head>
<p />
<body id="webbgThree">
<p />

<p />
<div id="webThree"><div id="head">
<!--
<div class="header">
 -->
<div style="background: url(/pub/webbg_udn.jpg); background-repeat: no-repeat; height:140px; width: 100%;" >
<!--
<div style="background: transparent url(/pub/udn_header_bg.jpg); background-repeat: repeat-x; height:140px; width: 100%; margin-left: 991px;">
 -->
<p />
<div id="nav">
<ul class="nav">
<font color=black>|</font>&nbsp;&nbsp;<li class=nav_Three><a href="../Main/WebHome.html" class="twikiLink">Main</a></li><font color=black>|</font><li class=nav_Three><a href="../Two/WebHome.html" class="twikiLink">UnrealEngine2</a></li><font color=black>|</font><li class=nav_Three><a href="WebHome.html" class="twikiLink">UnrealEngine3</a></li><font color=black>|</font><li class=nav_Three><a href="https://docs.unrealengine.com" class="twikiLink">UnrealEngine4</a></li><font color=black>|</font><li class=nav_Three><a href="../Main/BusinessAndLegal.html" class="twikiLink">Business &amp; Legal</a></li><font color=black>|</font>
</ul><br><br><br>
</div>
</div>
</div> <!-- end head -->
<div id="pagedefault">
<div id="maincol">
<div id="tool">
<div id="tooltop">UDN</div>
<div id="tooltext" style="padding: 10px 10px 10px 10px;">
Search public documentation: <br>
<form ACTION="/search/index.php" METHOD="GET" NAME="main" ID="main">
<input TYPE="TEXT" NAME="q" SIZE="15" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;">
<input TYPE="SUBMIT" VALUE="Search" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;"><br>
</form>
</div>
<div id="toolband">MeshPaintReference  </b></div>
<div id="tooltext">
<a href="MeshPaintReferenceJP.html" class="twikiLink">日本語訳</a><br><a href="MeshPaintReferenceCH.html" class="twikiLink">中国翻译</a><br><a href="MeshPaintReferenceKR.html" class="twikiLink">한국어</a><br>

<!-- Three/MeshPaintReference -->
<hr size="1" noshade="noshade" />
Interested in the Unreal Engine? <br>
Visit the <a href="http://www.unrealtechnology.com" target="_top">Unreal Technology</a> site.<br>
<br>
Looking for jobs and company info? <br>
Check out the <a href="http://www.epicgames.com" target="_top">Epic games</a> site.<br>
<br>
Questions about support via UDN? <br>
Contact the <a href="../Main/ContactUDNStaff.html" class="twikiLink">UDN Staff</a> <br>
<br>
</div> <!-- end toolbox content -->
<div id="toolbottom"></div>
</div> <!-- end tool -->
<p />
<noautolink>
<p />
<div style="padding:0px 0px 0px 4px;font:10px Verdana;">
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="EditorAndToolsHome.html" class="twikiLink">Unreal Editor &amp; Tools</a></b> &gt; Mesh Paint Reference <br/>
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="LevelDesignerHome.html" class="twikiLink">Level Designer</a></b> &gt; Mesh Paint Reference
</div>
<hr size="1" noshade="noshade">
<h1><a name="Mesh Paint Reference"></a> Mesh Paint Reference </h1>
<hr size="1" noshade="noshade">
<p />
<div class="twikiToc"> <ul>
<li> <a href="MeshPaintReference.html#Mesh Paint Reference"> Mesh Paint Reference</a> <ul>
<li> <a href="MeshPaintReference.html#Overview"> Overview</a>
</li> <li> <a href="MeshPaintReference.html#Quick guide"> Quick guide</a>
</li> <li> <a href="MeshPaintReference.html#Mesh Paint Mode"> Mesh Paint Mode</a>
</li> <li> <a href="MeshPaintReference.html#Painting on Meshes"> Painting on Meshes</a> <ul>
<li> <a href="MeshPaintReference.html#Painting Colors"> Painting Colors</a>
</li> <li> <a href="MeshPaintReference.html#Brush Settings"> Brush Settings</a>
</li></ul>
</li> <li> <a href="MeshPaintReference.html#Asset vs Instance"> Asset vs Instance</a> <ul>
<li> <a href="MeshPaintReference.html#Sharing Instance Color Data"> Sharing Instance Color Data</a>
</li> <li> <a href="MeshPaintReference.html#Vertex Color Matching"> Vertex Color Matching</a>
</li></ul>
</li> <li> <a href="MeshPaintReference.html#Colors vs Blend Weights"> Colors vs Blend Weights</a>
</li> <li> <a href="MeshPaintReference.html#View Modes"> View Modes</a>
</li> <li> <a href="MeshPaintReference.html#Setting up Materials"> Setting up Materials</a> <ul>
<li> <a href="MeshPaintReference.html#Material Example"> Material Example</a>
</li></ul>
</li></ul>
</li></ul>
</div>
<p />
<h2><a name="Overview"></a> Overview </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
The Mesh Paint tool allows you to paint vertex colors on static meshes interactively in the level viewport.
<p />
<style type="text/css" media="all">@import "rsrc/UDNCSS_test.css";</style>
<p />
<div class="header_img">
<img src="rsrc/Three/MeshPaintReference/meshpaint.jpg" alt="meshpaint.jpg" />
</div>
<p />
You can paint multiple instances of a single mesh with unique color/alpha values, and use that data however you'd like in your materials.  You can visualize vertex color data directly, and easily edit multiple meshes at the same time.  Also, the tool has special features for painting "blend weights" that allow you to interpolate between multiple textures per-pixel.
<p />
<strong>Note:</strong> Along with regular static meshes, InterpActors can also be painted on directly.
<p />
<h2><a name="Quick guide"></a> Quick guide </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
Most of the vertex paint features are pretty easy to learn, so if you want to jump right in here are the basic steps:
<p /> <ul>
<li> <a href="MeshPaintReference.html#MeshPaintMode" class="twikiAnchorLink">Activate the Mesh Paint Mode and select your mesh actor</a>
</li> <li> <a href="MeshPaintReference.html#MaterialSetup" class="twikiAnchorLink">Make sure the material assigned to your mesh makes use of vertex color or alpha</a>
</li> <li> <a href="MeshPaintReference.html#MeshPaintSettings" class="twikiAnchorLink">Set your paint color and adjust other brush properties appropriately</a>
</li> <li> <a href="MeshPaintReference.html#PaintingMeshes" class="twikiAnchorLink">While holding down the Ctrl key, click and drag on your mesh to apply paint!</a>
</li></ul>
<p />
The following sections will describe the process in more detail, including the various brush settings and how materials are configured.
<p />
<a name="MeshPaintMode"></a>
<h2><a name="Mesh Paint Mode"></a> Mesh Paint Mode </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
In order to summon and use the Mesh Paint tool you'll need to enter <strong>Mesh Paint Mode</strong>.  Just click the tool bar button on the left panel in the main editor frame.
<p />
<img src="rsrc/Three/MeshPaintReference/meshpaintmode.jpg" alt="meshpaintmode.jpg" width="72" alt="168" />
<p />
While in this mode, you can still perform most common editor actions like camera movement and selection, but certain features are disabled.  Also, you'll notice that your perspective viewport will be forced to <em>real-time mode</em> which is a requirement of this system.
<p />
<a name="PaintingMeshes"></a>
<h2><a name="Painting on Meshes"></a> Painting on Meshes </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
Painting on meshes is easy!
<p />
The first thing to remember is that you can only paint on selected meshes.  This helps you restrict painting to only specific objects, while still allowing you to paint across multiple selected mesh actors if necessary.
<p />
While Mesh Paint mode is active, selected actors will appear with a crosshair around them instead of the regular selection cue.  After selecting one or more meshes, when you move the mouse over them you should see your paint brush!
<p />
<img src="rsrc/Three/MeshPaintReference/paint_brush.jpg" alt="paint_brush.jpg" width="316" height="299" />
<p />
You can think of the paint brush as a cylinder projected along the surface normal of the mesh geometry, centered at the point on the mesh under your cursor.  The circular brush outline shows you the radius of the brush.  The inner circle shows the brush's <em>falloff</em> (or inner radius.)  You probably figured this out already, but the small line sticking out from center of the brush is the mesh surface normal.
<p />
To paint, <strong>hold down the Control key</strong>, then click and drag over the mesh's surface.  You can also hold down the <strong>Shift key</strong> to erase instead.
<p />
Paint will be applied to the surface each time you click, and also each time the mouse position changes (dragging).  Also, if <strong>brush flow</strong> is enabled, paint will be applied every time the scene is rendered.
<p />
<img src="rsrc/Three/MeshPaintReference/paint_stroke.jpg" alt="paint_stroke.jpg" width="800" height="545" />
<p />
Note that you can only paint in perspective viewport windows.
<p />
<a name="MeshPaintSettings"></a>
<h3><a name="Painting Colors"></a> Painting Colors </h3>
<p />
The default Mesh Paint mode is to paint color data (Red, Green, Blue, Alpha) directly.  You can select a paint and erase color and then apply those colors to the mesh using the brush.  This mode is useful when your material is configured to combine the vertex color with your pixel shader in some interesting way.
<p />
When the <a href="MeshPaintReference.html#PaintingMode" class="twikiAnchorLink">painting mode</a> is set to <em>colors</em> you have these options available:
<p />
<img src="rsrc/Three/MeshPaintReference/color_settings.jpg" alt="color_settings.jpg" width="248" height="404" />
<p />
<table cellspacing="1" cellpadding="1" class="twikiTable" border="0"><tr><td bgcolor="#eaeaea" class="twikiFirstCol"> <img alt="fill_button.jpg" src="rsrc/Three/MeshPaintReference/fill_button.jpg" /> </td><td bgcolor="#eaeaea"> "Fills" the mesh or instance being painted using the <strong>Paint color</strong>, respecting the <strong>Channels</strong> settings. </td></tr>
<tr><td bgcolor="#ffffff" class="twikiFirstCol"> <img alt="copyasset_button.jpg" src="rsrc/Three/MeshPaintReference/copyasset_button.jpg" /> </td><td bgcolor="#ffffff"> Copies the vertex colors from the selected instance(s) to the source mesh asset. </td></tr>
<tr><td bgcolor="#eaeaea" class="twikiFirstCol"> <img alt="import_button.jpg" src="rsrc/Three/MeshPaintReference/import_button.jpg" /> </td><td bgcolor="#eaeaea"> Imports a .TGA image file to use to populate the vertex colors of the selected instance(s). </td></tr>
<tr><td bgcolor="#ffffff" class="twikiFirstCol"> <img alt="paint_button.jpg" src="rsrc/Three/MeshPaintReference/paint_button.jpg" /> </td><td bgcolor="#ffffff"> The color that will be applied while painting (<strong>Ctrl + LMB + Drag</strong>). A swatch displays a preview of the current color. The color can be set using the <a href="ColorPicker.html" class="twikiLink">Color Picker</a> built-in to the tool. </td></tr>
<tr><td bgcolor="#eaeaea" class="twikiFirstCol"> <img alt="erase_button.jpg" src="rsrc/Three/MeshPaintReference/erase_button.jpg" /> </td><td bgcolor="#eaeaea"> The color to use as your "eraser" color while erasing (<strong>Ctrl + Shift + LMB + Drag</strong>). A swatch displays a preview of the current color. The color can be set using the <a href="ColorPicker.html" class="twikiLink">Color Picker</a> built-in to the tool. </td></tr>
<tr><td bgcolor="#ffffff" class="twikiFirstCol"> <img alt="swap_button.jpg" src="rsrc/Three/MeshPaintReference/swap_button.jpg" /> </td><td bgcolor="#ffffff"> Swaps the <strong>Paint color</strong> and <strong>Erase color</strong>. </td></tr>
<tr><td bgcolor="#eaeaea" class="twikiFirstCol"> <img alt="channels_button.jpg" src="rsrc/Three/MeshPaintReference/channels_button.jpg" /> </td><td bgcolor="#eaeaea"> These check boxes set which color/alpha channels should be affected by the paint brush. </td></tr>
</table>
<p />
<h3><a name="Brush Settings"></a> Brush Settings </h3>
<p />
This section describes the brush settings common between all of the tool's modes.  Note that for the options controlled by sliders, you can click and drag to change the value quickly, or you can click and type in a number if needed.
<p />
<img src="rsrc/Three/MeshPaintReference/brush_settings.jpg" alt="brush_settings.jpg" width="248" height="156" />
<p />
<table cellspacing="1" cellpadding="1" class="twikiTable" border="0"><tr><th bgcolor="#dadada" class="twikiFirstCol"> <a rel="nofollow" href="https://udn.epicgames.com/bin/publish/WebHome?webs=Main%2CTwo%2CThree%2CPowered&amp;amp;inclusions=%2A&amp;amp;exclusions=&amp;amp;filter=&amp;amp;inclfilter=%5C%25META%5C%3AFIELD%5C%7Bname%5C%3D%5C%22Documentavailability%5C%22.%2Avalue%5C%3D%5C%22General%20public%5C%22&amp;amp;filterbymeta=yes&amp;amp;skin=static_udn3&amp;amp;restrictedclass=restricted&amp;amp;format=&amp;amp;sortcol=0;table=2;up=0#sorted_table" class="restricted" title="Sort by this column"><font color="#000000">Setting</font></a> </th><th bgcolor="#dadada"> <a rel="nofollow" href="https://udn.epicgames.com/bin/publish/WebHome?webs=Main%2CTwo%2CThree%2CPowered&amp;amp;inclusions=%2A&amp;amp;exclusions=&amp;amp;filter=&amp;amp;inclfilter=%5C%25META%5C%3AFIELD%5C%7Bname%5C%3D%5C%22Documentavailability%5C%22.%2Avalue%5C%3D%5C%22General%20public%5C%22&amp;amp;filterbymeta=yes&amp;amp;skin=static_udn3&amp;amp;restrictedclass=restricted&amp;amp;format=&amp;amp;sortcol=1;table=2;up=0#sorted_table" class="restricted" title="Sort by this column"><font color="#000000">Description</font></a> </th></tr>
<tr><th bgcolor="#dadada" class="twikiFirstCol">  <strong><font color="#000000">Radius</font></strong>  </th><td bgcolor="#ffffff"> The radius of the brush in Unreal units.  In addition, the brush has a depth-based falloff that's equal to half of this radius. </td></tr>
<tr><th bgcolor="#dadada" class="twikiFirstCol">  <strong><font color="#000000">Strength</font></strong>  </th><td bgcolor="#eaeaea"> Sets the amount of paint to apply each time you click or move the mouse cursor while painting is enabled.  Also if <em>brush flow</em> is enabled, a percentage (flow amount) of the brush's strength will be applied to the surface. </td></tr>
<tr><th bgcolor="#dadada" class="twikiFirstCol">  <strong><font color="#000000">Falloff</font></strong>  </th><td bgcolor="#ffffff"> Sets how the brush's strength falls off with distance.  A falloff value of 1.0 means that the center of the brush is 100% strong and fades linearly towards the radius of the brush.  A falloff value of 0.5 means that the brush is 100% strong half way towards the radius, then falls off linearly.  A falloff value of 0.0 means the brush is 100% strong over the entire radius.  Note that <em>depth-based falloff</em> is always active, regardless of this setting. </td></tr>
<tr><th bgcolor="#dadada" class="twikiFirstCol">  <strong><font color="#000000">Enable brush flow</font></strong>  </th><td bgcolor="#eaeaea"> This option configures the brush to apply paint every single render frame, even when you're not moving the cursor.  It yields results similar to an airbrush. </td></tr>
<tr><th bgcolor="#dadada" class="twikiFirstCol">  <strong><font color="#000000">Flow amount</font></strong>  </th><td bgcolor="#ffffff"> When <em>Enable brush flow</em> is turned on, this sets the strength of the brush when paint is applied every render frame, as a percentage of the brush's strength. </td></tr>
<tr><th bgcolor="#dadada" class="twikiFirstCol">  <strong><font color="#000000">Ignore back-facing</font></strong>  </th><td bgcolor="#eaeaea"> When enabled, triangles facing away from the camera are ignored and won't be affected by the paint brush. </td></tr>
</table>
<p />
<h2><a name="Asset vs Instance"></a> Asset vs Instance </h2>
<p />
While the mesh paint tool allows you to paint on the actual mesh source asset, most of the time you'll probably want to paint on an instance of that mesh placed into a level.  For example, if you had a pillar mesh that was placed in four locations in your map you could paint each instance uniquely.
<p />
Use the <strong>Vertex color data</strong> option to set whether the Mesh Paint tool edits either the instance of the actor in the map, or the actual mesh source asset.
<p />
<img src="rsrc/Three/MeshPaintReference/vertex_color_data_option.jpg" alt="vertex_color_data_option.jpg" width="248" height="80" />
<p />
<table cellspacing="1" cellpadding="1" class="twikiTable" border="0"><tr><th bgcolor="#dadada" class="twikiFirstCol"> <a rel="nofollow" href="https://udn.epicgames.com/bin/publish/WebHome?webs=Main%2CTwo%2CThree%2CPowered&amp;amp;inclusions=%2A&amp;amp;exclusions=&amp;amp;filter=&amp;amp;inclfilter=%5C%25META%5C%3AFIELD%5C%7Bname%5C%3D%5C%22Documentavailability%5C%22.%2Avalue%5C%3D%5C%22General%20public%5C%22&amp;amp;filterbymeta=yes&amp;amp;skin=static_udn3&amp;amp;restrictedclass=restricted&amp;amp;format=&amp;amp;sortcol=0;table=3;up=0#sorted_table" class="restricted" title="Sort by this column"><font color="#000000">Option</font></a> </th><th bgcolor="#dadada"> <a rel="nofollow" href="https://udn.epicgames.com/bin/publish/WebHome?webs=Main%2CTwo%2CThree%2CPowered&amp;amp;inclusions=%2A&amp;amp;exclusions=&amp;amp;filter=&amp;amp;inclfilter=%5C%25META%5C%3AFIELD%5C%7Bname%5C%3D%5C%22Documentavailability%5C%22.%2Avalue%5C%3D%5C%22General%20public%5C%22&amp;amp;filterbymeta=yes&amp;amp;skin=static_udn3&amp;amp;restrictedclass=restricted&amp;amp;format=&amp;amp;sortcol=1;table=3;up=0#sorted_table" class="restricted" title="Sort by this column"><font color="#000000">Description</font></a> </th></tr>
<tr><th bgcolor="#dadada" class="twikiFirstCol">  <strong><font color="#000000">Actor</font></strong>  </th><td bgcolor="#ffffff"> Paints color data stored in the instance of the static mesh component in the level </td></tr>
<tr><th bgcolor="#dadada" class="twikiFirstCol">  <strong><font color="#000000">Mesh asset</font></strong>  </th><td bgcolor="#eaeaea"> Edits the color data stored in the original mesh asset, potentially shared in many levels </td></tr>
</table>
<p />
When painting vertex colors on the actor instance, the <strong>Instance vertex colors</strong> field will display information about the selected mesh(es).
<p />
<img src="rsrc/Three/MeshPaintReference/vertex_color_data_instance.jpg" alt="vertex_color_data_instance.jpg" width="248" height="80" />
<p />
This displays the <em>number of bytes of memory used</em> by the vertex color data (stored in the map package.)  This value reflects the total for all assets that are currently selected.
<p />
<table cellspacing="1" cellpadding="1" class="twikiTable" border="0"><tr><th bgcolor="#dadada" class="twikiFirstCol"> <a rel="nofollow" href="https://udn.epicgames.com/bin/publish/WebHome?webs=Main%2CTwo%2CThree%2CPowered&amp;amp;inclusions=%2A&amp;amp;exclusions=&amp;amp;filter=&amp;amp;inclfilter=%5C%25META%5C%3AFIELD%5C%7Bname%5C%3D%5C%22Documentavailability%5C%22.%2Avalue%5C%3D%5C%22General%20public%5C%22&amp;amp;filterbymeta=yes&amp;amp;skin=static_udn3&amp;amp;restrictedclass=restricted&amp;amp;format=&amp;amp;sortcol=0;table=4;up=0#sorted_table" class="restricted" title="Sort by this column"><font color="#000000">Command</font></a> </th><th bgcolor="#dadada"> <a rel="nofollow" href="https://udn.epicgames.com/bin/publish/WebHome?webs=Main%2CTwo%2CThree%2CPowered&amp;amp;inclusions=%2A&amp;amp;exclusions=&amp;amp;filter=&amp;amp;inclfilter=%5C%25META%5C%3AFIELD%5C%7Bname%5C%3D%5C%22Documentavailability%5C%22.%2Avalue%5C%3D%5C%22General%20public%5C%22&amp;amp;filterbymeta=yes&amp;amp;skin=static_udn3&amp;amp;restrictedclass=restricted&amp;amp;format=&amp;amp;sortcol=1;table=4;up=0#sorted_table" class="restricted" title="Sort by this column"><font color="#000000">Description</font></a> </th></tr>
<tr><th bgcolor="#dadada" class="twikiFirstCol">  <strong><font color="#000000">Copy</font></strong>  </th><td bgcolor="#ffffff"> Copies the instance vertex color data for the selected mesh. See <a href="MeshPaintReference.html#SharingData" class="twikiAnchorLink">Sharing Instance Color Data</a> for more information. </td></tr>
<tr><th bgcolor="#dadada" class="twikiFirstCol">  <strong><font color="#000000">Paste</font></strong>  </th><td bgcolor="#eaeaea"> Pastes instance vertex color data that was previously copied. See <a href="MeshPaintReference.html#SharingData" class="twikiAnchorLink">Sharing Instance Color Data</a> for more information. </td></tr>
<tr><th bgcolor="#dadada" class="twikiFirstCol">  <strong><font color="#000000">Remove</font></strong>  </th><td bgcolor="#ffffff"> Discard the data for all selected meshes and restores the default vertex colors. </td></tr>
<tr><th bgcolor="#dadada" class="twikiFirstCol">  <strong><font color="#000000">Fix</font></strong>  </th><td bgcolor="#eaeaea"> Attempts to match stored instance data on re-imported meshes with different vertex counts. See <a href="MeshPaintReference.html#VertexMatching" class="twikiAnchorLink">Vertex Color Matching</a> for more information. </td></tr>
</table>
<p />
<a name="SharingData"></a>
<h3><a name="Sharing Instance Color Data"></a> Sharing Instance Color Data </h3>
<p />
There may be cases where you want to paint a mesh and then share those vertex colors with other instances of the mesh in the same level.  For example, if you had a pillar mesh you were using in an outdoor map and you wanted to paint the base of the pillar green, and have all instances in that map <strong>only</strong> appear that way.
<p />
Instanced vertex color data can be copied and pasted between instances in the level very easily using the <strong>Copy</strong> and <strong>Paste</strong> buttons in the <strong>Mesh Paint Dialog</strong>.
<p />
<strong>To Copy Instanced Color Data:</strong>
<p /> <ol>
<li> Select the instance that contains the color data to be copied and press the <strong>Copy</strong> button. <br/>   <img src="rsrc/Three/MeshPaintReference/sharing_copy.jpg" alt="sharing_copy.jpg" width="800" height="428" />
</li> <li> Select the instance(s) to copy the color data to and press the <strong>Paste</strong> button. <br/>   <img src="rsrc/Three/MeshPaintReference/sharing_paste.jpg" alt="sharing_paste.jpg" width="800" height="422" />
</li> <li> The color data should now be applied to all of the instances. <br/>   <img src="rsrc/Three/MeshPaintReference/sharing_result.jpg" alt="sharing_result.jpg" width="800" height="432" />
</li></ol>
<p />
<a name="VertexMatching"></a>
<h3><a name="Vertex Color Matching"></a> Vertex Color Matching </h3>
<p />
When a static mesh is reimported with a different vertex count than the number of vertex colors on the instance you got errors like this in map checks and during cooking:
<p />
<div class="codesnippet">
<pre>
StaticMeshActor&#95;73 (LOD 0) has hand-painted vertex colors that no longer match the original StaticMesh
</pre>
</div>
<p />
Mismatched instanced vertex colors against the mesh's vertices makes the vertex colors simply nonexistent on console and look wrong on PC. To remedy that, the <strong>Fix</strong> button in the <strong>Mesh Paint Dialog</strong> lets you fix up vertex colors if they don't match up with the static mesh.
<p />
<img src="rsrc/Three/MeshPaintReference/meshpaint_fix.jpg" alt="meshpaint_fix.jpg" width="265" height="99" />
<p />
This feature will only be available if a mesh needs fixup; otherwise, it will be disabled. The tool works well in most cases especially when you are only making small tweaks. The more drastic the change to the mesh, the more unlikely the colors will match. The feature is designed to always match some color even if the changes are drastic. We elected not to make this tool automatic because that would prevent people from easily opting out of the fixup if they didn't like the results. Additionally, adding the feature to mesh paint means you can easily touchup after the fix is applied.
<p />
<strong>Original mesh:</strong>
<p />
<img src="rsrc/Three/MeshPaintReference/fix_before.jpg" alt="fix_before.jpg" width="800" height="354" />
<p />
<strong>Lower poly mesh with Fixup applied:</strong>
<p />
<img src="rsrc/Three/MeshPaintReference/fix_after.jpg" alt="fix_after.jpg" width="800" height="354" />
<p />
<a name="PaintingMode"></a>
<h2><a name="Colors vs Blend Weights"></a> Colors vs Blend Weights </h2>
<p />
Instead of painting colors directly, you can switch the tool to <em>paint texture blend weights</em>.  This is useful as often you'll configure your material to use the vertex color channels as blend factors between two or more textures.  The Mesh Paint tool will help you out here by <strong>automatically normalizing your blend weights</strong> as you paint.  You simply select a texture index and start painting, and the tool will make sure the color/alpha values are set correctly.
<p />
When the <em>paint mode</em> is set to <em>blend weights</em> you have these options available.
<p />
<img src="rsrc/Three/MeshPaintReference/blend_weight_options.jpg" alt="blend_weight_options.jpg" weight="248" height="112" />
<p />
<table cellspacing="1" cellpadding="1" class="twikiTable" border="0"><tr><th bgcolor="#dadada" class="twikiFirstCol">  <strong><font color="#000000">Texture count</font></strong>  </th><td bgcolor="#eaeaea"> Configures the blend weight "strategy" by setting the number of textures you're blending between in the material associated with the mesh.  When you change this option, the choices available for <em>Paint texture</em> and <em>Erase texture</em> will update.  See the section about <em>Blend weight material setup</em> for more information. </td></tr>
<tr><th bgcolor="#dadada" class="twikiFirstCol">  <strong><font color="#000000">Paint texture</font></strong>  </th><td bgcolor="#ffffff"> Selects the texture index to apply each time you click or move the mouse cursor while painting is enabled. (Ctrl+LMB+drag) </td></tr>
<tr><th bgcolor="#dadada" class="twikiFirstCol">  <strong><font color="#000000">Erase texture</font></strong>  </th><td bgcolor="#eaeaea"> The texture index to use as your "eraser" texture while erasing. (Ctrl+Shift+LMB+drag) </td></tr>
</table>
<p />
Note that you can click the little arrow between <em>Paint texture</em> and <em>Erase texture</em> to quickly swap the two texture indices.
<p />
<h2><a name="View Modes"></a> View Modes </h2>
<p />
You can use the view mode controls to visualize vertex color and alpha values in the perspective viewport.
<p />
<img src="rsrc/Three/MeshPaintReference/view_options.jpg" alt="view_options.jpg" width="248" height="51" />
<p />
<table cellspacing="1" cellpadding="1" class="twikiTable" border="0"><tr><th bgcolor="#dadada" class="twikiFirstCol">  <strong><font color="#000000">Off</font></strong>  </th><td bgcolor="#eaeaea"> Restores default editor view mode </td></tr>
<tr><th bgcolor="#dadada" class="twikiFirstCol">  <strong><font color="#000000">RGB</font></strong>  </th><td bgcolor="#ffffff"> Displays static meshes unlit with only RGB vertex colors </td></tr>
<tr><th bgcolor="#dadada" class="twikiFirstCol">  <strong><font color="#000000">R</font></strong>  </th><td bgcolor="#eaeaea"> Displays static meshes unlit with only red vertex color </td></tr>
<tr><th bgcolor="#dadada" class="twikiFirstCol">  <strong><font color="#000000">G</font></strong>  </th><td bgcolor="#ffffff"> Displays static meshes unlit with only green vertex color </td></tr>
<tr><th bgcolor="#dadada" class="twikiFirstCol">  <strong><font color="#000000">B</font></strong>  </th><td bgcolor="#eaeaea"> Displays static meshes unlit with only blue vertex color </td></tr>
<tr><th bgcolor="#dadada" class="twikiFirstCol">  <strong><font color="#000000">A</font></strong>  </th><td bgcolor="#ffffff"> Displays static meshes unlit with only vertex alpha </td></tr>
</table>
<p />
<a name="MaterialSetup"></a>
<h2><a name="Setting up Materials"></a> Setting up Materials </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
The mesh paint system requires the material of the mesh to contain a VertexColor expression as this is how the vertex color data is passed to the material. Please note that the VertexColor expression does not work if the material also contains a Transform expression unless the <strong>bPerPixelCameraVector</strong> property of the material is enabled.
<p />
There are a few example materials provided in <code><b>EngineMaterials.upk</b></code> that demonstrate possible uses for the Mesh Paint tool.  Use the <a href="ContentBrowserReference.html" class="twikiLink">Content Browser</a> to search for <strong>TexturePaint</strong> or <strong>VertexPaint</strong> to see these.
<p />
Here's an example of how you might use the vertex alpha value to blend between two diffuse textures in the material editor.
<p />
<img src="rsrc/Three/MeshPaintReference/material_example.jpg" alt="material_example.jpg" width="584" height="355" />
<p />
<h3><a name="Material Example"></a> Material Example </h3>
<p />
This example uses the <code><b>VertexPaint_2Tex_Color material</b></code> which can be found in <code><b>EngineMaterials.upk</b></code>.  It's an example material that does three special things:
<p /> <ul>
<li> Modulates diffuse color by the painted vertex color (RGB)
</li> <li> Blends between two separate diffuse textures (Diffuse, Diffuse2) using the blend weight stored in the vertex alpha channel (A)
</li> <li> Blends between two separate normal textures (Normal, Normal2) using the blend weight stored in the vertex alpha channel (A)
</li></ul>
<p />
After binding the material, the artist can use the Mesh Paint tool to paint both color "tint" and the blend weights between textures.
<p />
First the vertex color (RGB) is painted in using the "Color" paint mode.  This color will be multiplied with the diffuse texture color in the material.  This screenshot shows the mesh in the "color only" (RGB) view mode.
<p />
<img src="rsrc/Three/MeshPaintReference/MeshPaintColorOnly.png" alt="MeshPaintColorOnly.png" width="316" height="133" />
<img src="rsrc/Three/MeshPaintReference/MeshPaintColorPaintMode.png" alt="MeshPaintColorPaintMode.png" width="344" height="224" />
<p />
Next the vertex alpha (A) is painted using the "Blend Weight" paint mode.  This value will be used to interpolate between a pair of diffuse/normal textures.  This screenshot shows the mesh in the "alpha only" (A) view mode.
<p />
<img src="rsrc/Three/MeshPaintReference/MeshPaintAlphaOnly.png" alt="MeshPaintAlphaOnly.png" width="316" height="133" />
<img src="rsrc/Three/MeshPaintReference/MeshPaintBlendWeightPaintMode.png" alt="MeshPaintBlendWeightPaintMode.png" width="300" height="184" />
<p />
Finally, here is the end result, fully lit and shaded.
<p />
<img src="rsrc/Three/MeshPaintReference/MeshPaintLitMaterial.png" alt="MeshPaintLitMaterial.png" width="316" height="133" />
<p />
</noautolink>
<p />
<p />
<p />
<p />
<p />
<p />


<!-- BEGIN UE4 NOTICE -->



<div id="version_message" style="display:none;">

    <div style="position:fixed;top:0px;left:0px;width:100%;height:100%;background:#000;opacity:0.5;">

    </div>

    <div style="position:fixed;top:50%;left:50%;margin:-70px 0px 0px -240px;background:#FFF;border-radius:6px;width:480px;box-shadow:0px 5px 30px -5px rgba(0,0,0,0.9);">

        <div style="font-size:16px;font-weight:bold;background: url(rsrc/Three/warning.png) no-repeat scroll 5px 5px;padding:4px 10px 5px 25px;height:21px;width:440px;">

            Important!

        </div>

        <div style="font-size:11px;padding:5px 10px 10px;width:460px;">

            <p>You are viewing documentation for the <strong>Unreal Development Kit (UDK)</strong>.</p>



            <p>If you are looking for the Unreal Engine 4 documentation, please visit the <a style="color:#000;" href="https://docs.unrealengine.com">Unreal Engine 4 Documentation</a> site.</p>

        </div>

        <div style="height:20px;padding:4px;margin:6px;border-top:1px solid #a0a0a0;">

            <form onsubmit="return closeVersionMessage();">

                <input type="checkbox" id="dismiss" value="dismiss" />

                <label for="dsimiss">Don't show me this again</label>

                <input type="submit" value="Close" style="cursor:pointer;float:right;width:60px;color:#f0f0f0;font-weight:bold;background:#882222;height:24px;padding:2px 3px 3px;text-align:center;border:1px outset #000;" />

            </form>

        </div>

    </div>

</div>



<script type="text/javascript">

    window.onload = function () {

        LoadVersionMessage();

    }



    function LoadVersionMessage()

    {

        var showMessage = "false";
        if(showMessage != "false")

        {

            showVersionMessage();

        }

    }



    function showVersionMessage()

    {

        var message = document.getElementById("version_message");

        if(message)

        {

            message.style.display = "block";

        }

    }



    function closeVersionMessage() {

        var dismiss = document.getElementById("dismiss");

        var message = document.getElementById("version_message");

        if (message) {

            message.style.display = "none";

        }

        if (dismiss.checked) {

            eraseCookie("doc_version_message");

            createCookie("doc_version_message", "false", 365);

            dismiss.checked = false;

        }

        return false;

    }



    function createCookie(name, value, days) {

        if (days) {

            var date = new Date();

            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));

            var expires = "; expires=" + date.toGMTString();

        }

        else var expires = "";

        document.cookie = name + "=" + value + expires + "; path=/";

    }



    function readCookie(name) {

        var nameEQ = name + "=";

        var ca = document.cookie.split(';');

        for (var i = 0; i < ca.length; i++) {

            var c = ca[i];

            while (c.charAt(0) == ' ') c = c.substring(1, c.length);

            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);

        }

        return null;

    }



    function eraseCookie(name) {

        createCookie(name, "", -1);

    }

</script>



<!-- END UE4 NOTICE -->



</div></div><div id="footer"><div style="BACKGROUND-COLOR: transparent; margin: 0; padding: 0; width: 100%;"><div>&nbsp;</div><div style="float: left; text-align: left; vertical-align: bottom; width: 50%;"><a href="http://www.videogamevoters.org"><img src="rsrc/vgvn.jpg" border="0" width="234" height="60" alt="Video Game Voters Network" /></a></div><div style="float: right; text-align: right; vertical-align: bottom; width: 50%;">Copyright &copy; 2001-2012 <a href="http://www.epicgames.com" target="_top">Epic Games, Inc.</a><br /><a href="../Main/TermsAndConditions.html" class="twikiLink">Terms and Conditions</a><br /><a href="http://epicgames.com/privacynotice" target="_top">Privacy Notice</a></div></div></div></div>
<p />
</html></body>
