<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title> UDK | KismetOnlineSubsystem    </title>

<style type="text/css" media="all">@import "rsrc/twiki_webs.css";</style>
<style type="text/css" media="all">@import "rsrc/udn_new.css";</style>
<link rel="icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />


<!-- view.static_udn3.tmpl  -->
<script language="JavaScript" type="text/javascript" src="rsrc/udn.js"></script>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

</head>
<p />
<body id="webbgThree">
<p />

<p />
<div id="webThree"><div id="head">
<!--
<div class="header">
 -->
<div style="background: url(/pub/webbg_udn.jpg); background-repeat: no-repeat; height:140px; width: 100%;" >
<!--
<div style="background: transparent url(/pub/udn_header_bg.jpg); background-repeat: repeat-x; height:140px; width: 100%; margin-left: 991px;">
 -->
<p />
<div id="nav">
<ul class="nav">
<font color=black>|</font>&nbsp;&nbsp;<li class=nav_Three><a href="../Main/WebHome.html" class="twikiLink">Main</a></li><font color=black>|</font><li class=nav_Three><a href="../Two/WebHome.html" class="twikiLink">UnrealEngine2</a></li><font color=black>|</font><li class=nav_Three><a href="WebHome.html" class="twikiLink">UnrealEngine3</a></li><font color=black>|</font><li class=nav_Three><a href="https://docs.unrealengine.com" class="twikiLink">UnrealEngine4</a></li><font color=black>|</font><li class=nav_Three><a href="../Main/BusinessAndLegal.html" class="twikiLink">Business &amp; Legal</a></li><font color=black>|</font>
</ul><br><br><br>
</div>
</div>
</div> <!-- end head -->
<div id="pagedefault">
<div id="maincol">
<div id="tool">
<div id="tooltop">UDN</div>
<div id="tooltext" style="padding: 10px 10px 10px 10px;">
Search public documentation: <br>
<form ACTION="/search/index.php" METHOD="GET" NAME="main" ID="main">
<input TYPE="TEXT" NAME="q" SIZE="15" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;">
<input TYPE="SUBMIT" VALUE="Search" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;"><br>
</form>
</div>
<div id="toolband">KismetOnlineSubsystem  </b></div>
<div id="tooltext">
<a href="KismetOnlineSubsystemJP.html" class="twikiLink">日本語訳</a><br><a href="KismetOnlineSubsystemCH.html" class="twikiLink">中国翻译</a><br><a href="KismetOnlineSubsystemKR.html" class="twikiLink">한국어</a><br>

<!-- Three/KismetOnlineSubsystem -->
<hr size="1" noshade="noshade" />
Interested in the Unreal Engine? <br>
Visit the <a href="http://www.unrealtechnology.com" target="_top">Unreal Technology</a> site.<br>
<br>
Looking for jobs and company info? <br>
Check out the <a href="http://www.epicgames.com" target="_top">Epic games</a> site.<br>
<br>
Questions about support via UDN? <br>
Contact the <a href="../Main/ContactUDNStaff.html" class="twikiLink">UDN Staff</a> <br>
<br>
</div> <!-- end toolbox content -->
<div id="toolbottom"></div>
</div> <!-- end tool -->
<p />
<noautolink>
<style type="text/css" media="all">@import "rsrc/UDNCSS_test.css";</style>
<div style="padding:0px 0px 0px 4px;font:10px Verdana;">
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="DevelopmentKitGems.html" class="twikiLink">Unreal Development Kit Gems</a></b> &gt; Kismet Online Subsystem
</div>
<hr size="1" noshade="noshade">
<p />
<h1><a name="Kismet Online Subsystem"></a> Kismet Online Subsystem </h1>
<hr size="1" noshade="noshade">
<p />
<strong><em>Last tested against UDK Jan, 2012</em></strong>
<br/>
<strong><em>PC compatible</em></strong>
<br/>
<strong><em>iOS compatible</em></strong>
<p />
<div class="twikiToc"> <ul>
<li> <a href="KismetOnlineSubsystem.html#Kismet Online Subsystem"> Kismet Online Subsystem</a> <ul>
<li> <a href="KismetOnlineSubsystem.html#Overview"> Overview</a>
</li> <li> <a href="KismetOnlineSubsystem.html#A word about Unrealscript preprocessing"> A word about Unrealscript preprocessing</a>
</li> <li> <a href="KismetOnlineSubsystem.html#A word about Garbage Collection"> A word about Garbage Collection</a>
</li> <li> <a href="KismetOnlineSubsystem.html#Steam Works and Game Center Kismet Nodes"> Steam Works and Game Center Kismet Nodes</a> <ul>
<li> <a href="KismetOnlineSubsystem.html#SeqAct_OnlineSubsystemBase"> SeqAct_OnlineSubsystemBase</a>
</li> <li> <a href="KismetOnlineSubsystem.html#SeqAct_UnlockAchievement"> SeqAct_UnlockAchievement</a>
</li> <li> <a href="KismetOnlineSubsystem.html#SeqAct_ModifyOnlineStat"> SeqAct_ModifyOnlineStat</a>
</li></ul>
</li> <li> <a href="KismetOnlineSubsystem.html#Steam Works only Kismet Nodes"> Steam Works only Kismet Nodes</a> <ul>
<li> <a href="KismetOnlineSubsystem.html#SeqAct_RefreshAchievements"> SeqAct_RefreshAchievements</a>
</li> <li> <a href="KismetOnlineSubsystem.html#SeqAct_ResetAchievements"> SeqAct_ResetAchievements</a>
</li> <li> <a href="KismetOnlineSubsystem.html#SeqAct_ReadOnlineStat"> SeqAct_ReadOnlineStat</a>
</li></ul>
</li> <li> <a href="KismetOnlineSubsystem.html#Game Center only Kismet Nodes"> Game Center only Kismet Nodes</a> <ul>
<li> <a href="KismetOnlineSubsystem.html#SeqAct_Mobile_ShowAchievementsUI"> SeqAct_Mobile_ShowAchievementsUI</a>
</li> <li> <a href="KismetOnlineSubsystem.html#SeqAct_Mobile_ShowLeaderboardsUI"> SeqAct_Mobile_ShowLeaderboardsUI</a>
</li></ul>
</li> <li> <a href="KismetOnlineSubsystem.html#Downloads"> Downloads</a>
</li></ul>
</li></ul>
</div>
<p />
<h2><a name="Overview"></a> Overview </h2>
<hr size="1" noshade="noshade">
Kismet is visual scripting system designed to allow you to build game play logic using nodes. It's a very useful tool all the way from the prototype phase to the production phase. Because some of the game play logic exists within Kismet, it is only natural to also want to be able to access Game Center or Steam Works through Kismet as well. This development kit gems adds new Kismet nodes which allows you to interface with Game Center or Steam Works.
<p />
<img src="rsrc/TWiki/TWikiDocGraphics/warning.gif" alt="ALERT!" title="ALERT!" width="16" height="16" border="0" /> <strong>Note:</strong> While the Unrealscript provided defines the same Kismet nodes for both Game Center and Steam Works, only one can be used at a time. This is because the preprocessor will transform the Unrealscript to a specific version. This was required as Game Center and Steam Works function differently from each other. Thus if you are making a multi platform game, you may need to create two different versions of the Kismet. The best way to do this is to have a streaming level which contains the Game Center Kismet nodes and another one which contains the Steam Kismet nodes.
<p />
<h2><a name="A word about Unrealscript preprocessing"></a> A word about Unrealscript preprocessing </h2>
<hr size="1" noshade="noshade">
The preprocessor in Unrealscript works very similar to how the preprocessor works in other languages such as C++. A preprocessor is a very simple script which is able to define constants and include/exclude portions of Unrealscript depending on if and else statements.
<p />
In this snippet of code, there are two sections of code which the preprocessor will include depending on the constants defined. If <strong>USE_STEAMWORKS</strong> is defined, then everything inside the if statement is included for compilation. Otherwise if <strong>USE_STEAMWORKS</strong> is not defined, then everything inside the else statement is included for compilation. Due to the difference between the way Game Center and Steam Works work, it was required to have different pathways for code to run.
<p />
<div class="codetitlebar">
SeqAct_UnlockAchievement.uc
</div>
<div class="codesnippet">
<pre>
/&#42;&#42;
 &#42; Called when this sequence action should do something attached with a local user num
 &#42;/
protected function InternalOnActivated()
{
  local OnlineSubsystem OnlineSubsystem;

  // Connect to the online subsystem and link up the achievement delegates
  OnlineSubsystem &#61; class&#39;GameEngine&#39;.static.GetOnlineSubsystem();
  if (OnlineSubsystem !&#61; None &#38;&#38; OnlineSubsystem.PlayerInterface !&#61; None)
  {
// &#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;
// SteamWorks
// &#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;
`if(`isdefined(USE&#95;STEAMWORKS))
    // Begin unlocking the achievement
    BeginUnlockAchievement();

// &#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;
// GameCenter
// &#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;
`else
    // Game Center requires you to read the achievements list first, and then unlock the achievement.
    // Assign the read achievements delegate
    OnlineSubsystem.PlayerInterface.AddReadAchievementsCompleteDelegate(ProcessingPlayers&#91;0].LocalUserNum, InternalOnReadAchievementsComplete);

    // Read all achievements
    OnlineSubsystem.PlayerInterface.ReadAchievements(ProcessingPlayers&#91;0].LocalUserNum);
`endif
  }
}
</pre>
</div>
<p />
<strong>USE_STEAMWORKS</strong> and <strong>USE_GAMECENTER</strong> are defined in a file called Globals.uci. Comment out the one which you don't want to use. When you modify Globals.uci, the Unrealscript Compiler won't automatically pick this up. Thus you'll need force a recompilation of Unrealscripts when you change it.
<p />
<a name="GarbageCollection"></a>
<h2><a name="A word about Garbage Collection"></a> A word about Garbage Collection </h2>
<hr size="1" noshade="noshade">
A lot of the tasks that the Online Subsystem performs are done asynchronously. Thus, a lot of tasks use delegates which are called when they've finished. The Kismet nodes themselves bind to the delegates, which if not cleaned up properly cause the level to not be garbage collected and removed from memory. An interaction called <strong>GameKismetSceneClient</strong> is used to detect when a game session has ended at which time it asks all of the Kismet nodes to clean themselves up.
<p />
<div class="codetitlebar">
GameKismetSceneClient.uc
</div>
<div class="codesnippet">
<pre>
/&#42;&#42;
 &#42; A GameKismetSceneClient is an interaction which watches when a game session ends. This is required to clean up all of the Kismet nodes that may have
 &#42; bindings to the OnlineSubsystems
 &#42;
 &#42; Copyright 1998-2012 Epic Games, Inc. All Rights Reserved.
 &#42;/
class GameKismetSceneClient extends Interaction;

/&#42;&#42;
 &#42; Called when the current game session has ended. Cleans up all OnlineSubsystemBase Kismet nodes
 &#42;/
function NotifyGameSessionEnded()
{
  local Sequence GameSequence;
  local array&#60;SequenceObject&#62; SequenceObjects;
  local SeqAct&#95;OnlineSubsystemBase SeqAct&#95;OnlineSubsystemBase;
  local int i;
  local WorldInfo WorldInfo;

  // Get the world info
  WorldInfo &#61; class&#39;WorldInfo&#39;.static.GetWorldInfo();
  if (WorldInfo &#61;&#61; None)
  {
    return;
  }

  // Clean up all of the online subsystem base Kismet nodes
  GameSequence &#61; WorldInfo.GetGameSequence();
  if (GameSequence !&#61; None)
  {
    GameSequence.FindSeqObjectsByClass(class&#39;SeqAct&#95;OnlineSubsystemBase&#39;, true, SequenceObjects);
    if (SequenceObjects.Length &#62; 0)
    {
      for (i &#61; 0; i &#60; SequenceObjects.Length; ++i)
      {
        SeqAct&#95;OnlineSubsystemBase &#61; SeqAct&#95;OnlineSubsystemBase(SequenceObjects&#91;i]);
        if (SeqAct&#95;OnlineSubsystemBase !&#61; None)
        {
          SeqAct&#95;OnlineSubsystemBase.CleanUp(true);
        }
      }
    }
  }
}

defaultproperties
{
}
</pre>
</div>
<p />
<h2><a name="Steam Works and Game Center Kismet Nodes"></a> Steam Works and Game Center Kismet Nodes </h2>
<hr size="1" noshade="noshade">
<p />
<h3><a name="SeqAct_OnlineSubsystemBase"></a> SeqAct_OnlineSubsystemBase </h3>
SeqAct_OnlineSubsystemBase is an abstract class where all of the other Kismet Sequence Actions are based of. This base class handles queuing online subsystem instructions, organizing player information and clean up. It also handles most of the output link calls. If you need to create a new Kismet Sequence Action which utilizes any of the online subsystem then it is best to subclass this class. When this Kismet Sequence Action is activated, it will compile an array of players that it needs to work on based on the attached Kismet Variable Players node attached. It then processes the players array sequentially. This Kismet Sequence Action will output to Out immediately. If the Kismet Sequence Action is busy processing players, it will output to Busy immediately. Depending on the results of the subclassed Kismet Sequence Action it may later output to Succeeded or Failed.
<p />
<h4><a name="Functions"></a><a name=" Functions"></a>  Functions </h4> <ul>
<li> <strong>Activated</strong> - This event is called when the Kismet Sequence Action is activated by another Kismet Sequence node.
</li> <li> <strong>FinishedProcessPlayerIndex</strong> - This function is call from subclasses when it has finished processing what it needs to do for a player. If bWasSuccessful is true, then the Succeeded output is activated, otherwise the Failed output is activated. Set bProcessedAllPlayers if the subclassed Kismet node has processed all players at once.
</li> <li> <strong>InternalOnActivated</strong> - This function is a stub function which is called within Activated. This is for subclasses to extend, as subclasses should not extend the Activated event.
</li> <li> <strong>CleanUp</strong> - This function is called from GameKismetSceneClient and from within FinishedProcessPlayerIndex. This function should be extended by subclasses that bind to delegates or require some other kind of clean up. If IsExiting is true, then you should clean everything up.
</li> <li> <strong>NotifyGameKismetSceneClientCreated</strong> - This function is called by another SeqAct_OnlineSubsystemBase to indicate that the GameKismetSceneClient has already been created. When a SeqAct_OnlineSubsystemBase is first activated, it will first attempt to create a GameKismetSceneClient to insert into the local player's viewport. When that succeeds, it tells all other SeqAct_OnlineSubsystemBase's to not attempt to create it again.
</li></ul>
<p />
<h4><a name="Definitions"></a><a name=" Definitions"></a>  Definitions </h4> <ul>
<li> <strong>SProcessingPlayer</strong> - This struct defines the player that is being processed or pending processing.
</li> <li> <strong>IsProcessing</strong> - When this is true, then any more requests to this Kismet node are immediately rejected as this Kismet node is busy doing a task.
</li> <li> <strong>ProcessingPlayers</strong> - The array of players currently being processed. Players are processing sequentially. After each player is processed, it then removes the first entry from the array and then deals with the next entry until this array is empty.
</li> <li> <strong>HasCreatedSceneClient</strong> - When this is false, when this Kismet Sequence Action is activated it will attempt to create a GameKismetSceneClient and insert it into the local player's viewport. This is to catch when the game session has ended so that clean up can occur. If this is true, then this Kismet Sequence Action does not attempt to do this.
</li></ul>
<p />
<h4><a name="Execution flow"></a><a name=" Execution flow"></a>  Execution flow </h4>
When this Kismet Sequence Action is activated by another Kismet Sequence Node, <strong>Activated()</strong> is first called. <strong>Activated()</strong> checks to see if it needs to create the <strong>GameKismetSceneClient</strong>, by checking the value of <strong>HasCreatedSceneClient</strong>. If it does, then it grabs the local player controller and inserts a new <strong>GameKismetSceneClient</strong> into the viewport. If that succeeds, it then informs all other <strong>SeqAct_OnlineSubsystemBase</strong> that this has been done and they don't need to do it. If <strong>IsProcessing</strong> is true, then the "Busy" output is activated and the function stops. Otherwise, it compiles the list of players based on the attached Kismet Player Variable. For each player listed in the Kismet Player Variable, it fills the <strong>ProcessingPlayers</strong> array with the player index and unique player id. If the <strong>ProcessingPlayers</strong> array has a size, <strong>IsProcessing</strong> is flagged true and <strong>InternalOnActivated()</strong> is called. The "Out" output is then activated.
<p />
When the subclass has finished processing a player, <strong>FinishedProcessPlayerIndex()</strong> is called. If <strong>bProcessedAllPlayers</strong> is true, then the <strong>ProcessingPlayers</strong> array is emptied. Otherwise the first entry in <strong>ProcessingPlayers</strong> is removed only. If the <strong>ProcessingPlayers</strong> is not empty, then the first entry is then processed by calling <strong>InternalOnActivated()</strong> again. Else if <strong>bWasSuccessful</strong> is true, then the "Succeeded" output is activated; otherwise the "Failed" output is activated.
<p />
When <strong>CleanUp()</strong> is called and <strong>IsExiting</strong> is true, then <strong>ProcessingPlayers</strong> array is emptied.
<p />
When <strong>NotifyGameKismetSceneClientCreated()</strong> is called, <strong>HasCreatedSceneClient</strong> is set true.
<p />
<h4><a name="Unrealscript"></a><a name=" Unrealscript"></a>  Unrealscript </h4>
<div class="codetitlebar">
SeqAct_OnlineSubsystemBase.uc
</div>
<div class="codesnippet">
<pre>
/&#42;&#42;
 &#42; An OnlineSubsystemBase action is an abstract Action which is used to call other online subsystem functions which require local user nums
 &#42;
 &#42; Copyright 1998-2012 Epic Games, Inc. All Rights Reserved.
 &#42;/
class SeqAct&#95;OnlineSubsystemBase extends SequenceAction
  abstract
  HideDropDown;

struct SProcessingPlayer
{
  var byte LocalUserNum;
  var UniqueNetId LocalNetId;
};

var private bool IsProcessing;
var protected array&#60;SProcessingPlayer&#62; ProcessingPlayers;
var protected bool HasCreatedSceneClient;

/&#42;&#42;
 &#42; Called when this event is activated.
 &#42;/
event Activated()
{
  local SeqVar&#95;Player SeqVar&#95;Player;
  local bool AllPlayers;
  local array&#60;int&#62; PlayerIndices, ExistingPlayerIndices;
  local WorldInfo WorldInfo;
  local PlayerController PlayerController;
  local LocalPlayer LocalPlayer;
  local int i;
  local SProcessingPlayer ProcessingPlayer;
  local OnlineSubSystem OnlineSubSystem;
  local Sequence GameSequence;
  local array&#60;SequenceObject&#62; SequenceObjects;
  local SeqAct&#95;OnlineSubsystemBase SeqAct&#95;OnlineSubsystemBase;

  // Check if we need to insert the GameKismetSceneClient to watch for garbage collection events
  if (!HasCreatedSceneClient)
  {
    // Insert the game kismet scene client
    WorldInfo &#61; GetWorldInfo();
    if (WorldInfo !&#61; None)
    {
      // Get the local player controller
      PlayerController &#61; WorldInfo.GetALocalPlayerController();
      if (PlayerController !&#61; None)
      {
        LocalPlayer &#61; LocalPlayer(PlayerController.Player);
        if (LocalPlayer !&#61; None &#38;&#38; LocalPlayer.ViewportClient !&#61; None)
        {
          LocalPlayer.ViewportClient.InsertInteraction(new (LocalPlayer.ViewportClient) class&#39;GameKismetSceneClient&#39;);
        }
      }
    }

    // Flag all SeqAct&#95;OnlineSubsystemBase that the game kismet scene client has been created
    GameSequence &#61; WorldInfo.GetGameSequence();
    if (GameSequence !&#61; None)
    {
      GameSequence.FindSeqObjectsByClass(class&#39;SeqAct&#95;OnlineSubsystemBase&#39;, true, SequenceObjects);
      if (SequenceObjects.Length &#62; 0)
      {
        for (i &#61; 0; i &#60; SequenceObjects.Length; ++i)
        {
          SeqAct&#95;OnlineSubsystemBase &#61; SeqAct&#95;OnlineSubsystemBase(SequenceObjects&#91;i]);
          if (SeqAct&#95;OnlineSubsystemBase !&#61; None)
          {
            SeqAct&#95;OnlineSubsystemBase.NotifyGameKismetSceneClientCreated();
          }
        }
      }
    }
  }

  if (IsProcessing)
  {
    // Activate the Busy output
    ActivateOutputLink(1);
    return;
  }

  // Get the online subsystem
  OnlineSubSystem &#61; class&#39;GameEngine&#39;.static.GetOnlineSubSystem();
  if (OnlineSubSystem &#61;&#61; None &#124;&#124; OnlineSubSystem.PlayerInterface &#61;&#61; None)
  {
    return;
  }

  // Get the player indices
  ForEach LinkedVariables(class&#39;SeqVar&#95;Player&#39;, SeqVar&#95;Player)
  {
    if (SeqVar&#95;Player.bAllPlayers)
    {
      AllPlayers &#61; true;
      break;
    }
    else
    {
      PlayerIndices.AddItem(SeqVar&#95;Player.PlayerIdx);
    }
  }

  // Find the players that need to be processed
  WorldInfo &#61; GetWorldInfo();
  if (WorldInfo !&#61; None)
  {
    // If all players is true, then iterate for each player
    if (AllPlayers)
    {
      ForEach WorldInfo.AllControllers(class&#39;PlayerController&#39;, PlayerController)
      {
        LocalPlayer &#61; LocalPlayer(PlayerController.Player);
        if (LocalPlayer !&#61; None)
        {
          // Create the processing player struct
          ProcessingPlayer.LocalUserNum &#61; class&#39;UIInteraction&#39;.static.GetPlayerIndex(LocalPlayer.ControllerId);
          OnlineSubSystem.PlayerInterface.GetUniquePlayerId(ProcessingPlayer.LocalUserNum, ProcessingPlayer.LocalNetId);

          // Append the processing player struct to the processing players array
          ProcessingPlayers.AddItem(ProcessingPlayer);
        }
      }
    }
    // Otherwise iterate for each player index
    else if (PlayerIndices.Length &#62; 0)
    {
      // Get all of the existing player indices first
      ForEach WorldInfo.AllControllers(class&#39;PlayerController&#39;, PlayerController)
      {
        LocalPlayer &#61; LocalPlayer(PlayerController.Player);
        if (LocalPlayer !&#61; None)
        {
          ExistingPlayerIndices.AddItem(class&#39;UIInteraction&#39;.static.GetPlayerIndex(LocalPlayer.ControllerId));
        }
      }

      for (i &#61; 0; i &#60; PlayerIndices.Length; ++i)
      {
        if (ExistingPlayerIndices.Find(PlayerIndices&#91;i]) !&#61; INDEX&#95;NONE)
        {
          // Create the processing player struct
          ProcessingPlayer.LocalUserNum &#61; PlayerIndices&#91;i];
          OnlineSubSystem.PlayerInterface.GetUniquePlayerId(ProcessingPlayer.LocalUserNum, ProcessingPlayer.LocalNetId);

          // Append the processing player struct to the processing players array
          ProcessingPlayers.AddItem(ProcessingPlayer);
        }
      }
    }

    // Process the first one
    if (ProcessingPlayers.Length &#62; 0)
    {
      // Set processing to true
      IsProcessing &#61; true;

      // Activate
      InternalOnActivated();
    }
  }

  // Activate the Out output
  ActivateOutputLink(0);
}

/&#42;&#42;
 &#42; Called when the Kismet node has finished processing for this player
 &#42;
 &#42; &#64;param      bWasSuccessful        True if the Kismet node was successful in what it was doing
 &#42; &#64;param      bProcessedAllPlayers    True if this Kismet node processed all players in one go, rather then doing one player at a time
 &#42;/
protected function FinishedProcessPlayerIndex(bool bWasSuccessful, optional bool bProcessedAllPlayers)
{
  // Perform clean up of this Kismet node
  CleanUp();

  // Pop the first processing player index
  if (ProcessingPlayers.Length &#62; 0)
  {
    // If processed all players, then remove all of them now
    if (bProcessedAllPlayers)
    {
      ProcessingPlayers.Remove(0, ProcessingPlayers.Length);
    }
    // Otherwise we&#39;ve only processed one, so pop it off the top
    else
    {
      ProcessingPlayers.Remove(0, 1);
    }
  }

  // If there is still more player indices to process, process the next one
  if (ProcessingPlayers.Length &#62; 0)
  {
    InternalOnActivated();
  }
  // Otherwise, this Kismet node has finished processing and should activate one of the outputs
  else
  {
    IsProcessing &#61; false;
    ForceActivateOutput((bWasSuccessful) ? 2 : 3);
  }
}

/&#42;&#42;
 &#42; Called when this sequence action should do something attached with a local user num
 &#42;/
protected function InternalOnActivated();

/&#42;&#42;
 &#42; Called when this Kismet node should clean up all variable or delegate references so that garbage collection can occur
 &#42;
 &#42; &#64;param    IsExiting      If exiting, then clean up everything
 &#42;/
function CleanUp(optional bool IsExiting)
{
  // Clear processing players array
  if (IsExiting)
  {
    ProcessingPlayers.Remove(0, ProcessingPlayers.Length);
  }
}

/&#42;&#42;
 &#42; Called when a Kismet node has created the GameKismetSceneClient which is used to catch when the game session has finished and when game clean up should occur
 &#42;/
function NotifyGameKismetSceneClientCreated()
{
  HasCreatedSceneClient &#61; true;
}

defaultproperties
{
`if(`isdefined(USE&#95;STEAMWORKS))
  ObjCategory&#61;&#34;Steamworks&#34;
`elseif(`isdefined(USE&#95;GAMECENTER))
  ObjCategory&#61;&#34;Game Center&#34;
`endif
  ObjColor&#61;(R&#61;0,G&#61;63,B&#61;127,A&#61;255)

  bAutoActivateOutputLinks&#61;false

  VariableLinks.Empty
  VariableLinks(0)&#61;(ExpectedType&#61;class&#39;SeqVar&#95;Player&#39;,LinkDesc&#61;&#34;Player&#34;)

  OutputLinks(1)&#61;(LinkDesc&#61;&#34;Busy&#34;)
  OutputLinks(2)&#61;(LinkDesc&#61;&#34;Succeeded&#34;)
  OutputLinks(3)&#61;(LinkDesc&#61;&#34;Failed&#34;)
}
</pre>
</div>
<p />
<p />
<hr/>
<p />
<p />
<h3><a name="SeqAct_UnlockAchievement"></a> SeqAct_UnlockAchievement </h3>
This Kismet Sequence Action unlocks an achievement based on the Id attached or defined in the properties panel.
<p />
<img src="rsrc/Three/KismetOnlineSubsystem/KismetOnlineSubsystem_00.png" alt="KismetOnlineSubsystem_00.png" width='201' height='167' />
<p />
<img src="rsrc/Three/KismetOnlineSubsystem/KismetOnlineSubsystem_07.jpg" alt="KismetOnlineSubsystem_07.jpg" width='800' height='453' />
<p />
<h4><a name="Functions"></a><a name=" Functions"></a>  Functions </h4> <ul>
<li> <strong>InternalOnActivated</strong> - This function is called by the parent class, <strong>SeqAct_OnlineSubsystemBase</strong>. Game Center first requires you to read the achievements before unlocking any thus <strong>OnlineSubsystem.PlayerInterface.ReadAchievements()</strong> is called. Steamworks just called <strong>BeginUnlockAchievement()</strong>.
</li> <li> <strong>InternalOnReadAchievementsComplete</strong> - This is called from <strong>OnlineSubsystem.PlayerInterface</strong> via a delegate. When this is called, it checks if the achievement has been achieved online. If it has been and <strong>AlwaysUnlockAchievement</strong> is true, then <strong>InternalOnUnlockAchievementComplete</strong> is called. Otherwise <strong>BeginUnlockAchievement()</strong> is called.
</li> <li> <strong>BeginUnlockAchievement</strong> - This sends a call to <strong>OnlineSubsystem.PlayerInterface.UnlockAchievement()</strong>.
</li> <li> <strong>InternalOnUnlockAchievementComplete</strong> - This is called from <strong>OnlineSubsystem.PlayerInterface</strong> via a delegate. When this is called, it calls <strong>FinishedProcessPlayerIndex()</strong>.
</li> <li> <strong>CleanUp</strong> - This handles cleaning up all of the bound delegates.
</li></ul>
<p />
<h4><a name="Definitions"></a><a name=" Definitions"></a>  Definitions </h4> <ul>
<li> <strong>AchievementId</strong> - The Id of the achievement you wish to unlock. This can also be defined by attaching a Kismet Int Variable to the variable links.
</li> <li> <strong>AlwaysUnlockAchievement</strong> - If true, then the Kismet Sequence Action will still output "Succeeded" even if the achievement has already been unlocked. <strong><em>Game Center only</em></strong>
</li> <li> <strong>DownloadedAchievements</strong> - An array of the achievements downloaded from an online source. <strong><em>Game Center only</em></strong>
</li></ul>
<p />
<h4><a name="Game Center Execution flow"></a><a name=" Game Center Execution flow"></a>  Game Center Execution flow </h4>
When <strong>InternalOnActivated()</strong> is called, a delegate is added to <strong>OnlineSubsystem.PlayerInterface</strong> which is called when <strong>OnlineSubsystem.PlayerInterface.ReadAchievements</strong> has completed.
<p />
When the online subsystem has finished reading the achievements online, it then calls <strong>InternalOnReadAchievementsComplete()</strong>. <strong>InternalOnReadAchievementsComplete()</strong> checks to see if the achievement has already been unlocked or not. If it has not been unlocked, then <strong>BeginUnlockAchievement()</strong> is called. Otherwise if <strong>AlwaysUnlockAchievement</strong> is true, then <strong>InternalOnUnlockAchievementComplete()</strong> is called. <strong>BeginUnlockAchievement()</strong> binds to another online subsystem delegate which is called when unlocking the achievement finishes. <strong>OnlineSubsystem.PlayerInterface.UnlockAchievement()</strong> is then called.
<p />
When the achievement has finished unlocking, <strong>InternalOnUnlockAchievementComplete()</strong> is then called which calls <strong>FinishedProcessPlayerIndex()</strong>.
<p />
When <strong>CleanUp</strong> is called, all of the bound delegates are removed.
<p />
<h4><a name="Steamworks Execution flow"></a><a name=" Steamworks Execution flow"></a>  Steamworks Execution flow </h4>
When <strong>InternalOnActivated()</strong> is called <strong>BeginUnlockAchievement()</strong> is called. <strong>BeginUnlockAchievement()</strong> binds to another online subsystem delegate which is called when unlocking the achievement finishes. <strong>OnlineSubsystem.PlayerInterface.UnlockAchievement()</strong> is then called.
<p />
When the achievement has finished unlocking, <strong>InternalOnUnlockAchievementComplete()</strong> is then called which calls <strong>FinishedProcessPlayerIndex()</strong>.
<p />
When <strong>CleanUp</strong> is called, all of the bound delegates are removed.
<p />
<h4><a name="Unrealscript"></a><a name=" Unrealscript"></a>  Unrealscript </h4>
<div class="codetitlebar">
SeqAct_UnlockAchievement.uc
</div>
<div class="codesnippet">
<pre>
/&#42;&#42;
 &#42; An UnlockAchievement Action is used to unlock an achievement.
 &#42;
 &#42; Copyright 1998-2012 Epic Games, Inc. All Rights Reserved.
 &#42;/
class SeqAct&#95;UnlockAchievement extends SeqAct&#95;OnlineSubsystemBase;

// Achievement Id that you want to unlock
var() int AchievementId;

// &#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;
// GameCenter
// &#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;
`if(`isdefined(USE&#95;GAMECENTER))
// If true, then achivements that have already been unlocked, will still output the success link
var() bool AlwaysUnlockAchievement;
// Array of all downloads achievements
var protected array&#60;AchievementDetails&#62; DownloadedAchievements;
`endif

/&#42;&#42;
 &#42; Called when this sequence action should do something attached with a local user num
 &#42;/
protected function InternalOnActivated()
{
  local OnlineSubsystem OnlineSubsystem;

  // Connect to the online subsystem and link up the achievement delegates
  OnlineSubsystem &#61; class&#39;GameEngine&#39;.static.GetOnlineSubsystem();
  if (OnlineSubsystem !&#61; None &#38;&#38; OnlineSubsystem.PlayerInterface !&#61; None)
  {
// &#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;
// SteamWorks
// &#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;
`if(`isdefined(USE&#95;STEAMWORKS))
    // Begin unlocking the achievement
    BeginUnlockAchievement();

// &#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;
// GameCenter
// &#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;
`else
    // Game Center requires you to read the achievements list first, and then unlock the achievement.
    // Assign the read achievements delegate
    OnlineSubsystem.PlayerInterface.AddReadAchievementsCompleteDelegate(ProcessingPlayers&#91;0].LocalUserNum, InternalOnReadAchievementsComplete);

    // Read all achievements
    OnlineSubsystem.PlayerInterface.ReadAchievements(ProcessingPlayers&#91;0].LocalUserNum);
`endif
  }
}

// &#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;
// GameCenter
// &#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;
`if(`isdefined(USE&#95;GAMECENTER))
/&#42;&#42;
 &#42; Called when the async achievements read has completed.
 &#42;
 &#42; &#64;param    TitleId      The title id that the read was for (0 means current title)
 &#42;/
protected function InternalOnReadAchievementsComplete(int TitleId)
{
  local OnlineSubsystem OnlineSubsystem;
  local int AchievementIndex;

  // Ensure we have an online subsystem, and an associated player interface
  OnlineSubsystem &#61; class&#39;GameEngine&#39;.static.GetOnlineSubsystem();
  if (OnlineSubsystem &#61;&#61; None &#124;&#124; OnlineSubsystem.PlayerInterface &#61;&#61; None)
  {
    return;
  }

  // Read the achievements into the downloaded achievements array
  OnlineSubsystem.PlayerInterface.GetAchievements(ProcessingPlayers&#91;0].LocalUserNum, DownloadedAchievements, TitleId);

  // Grab the achievement index
  AchievementIndex &#61; DownloadedAchievements.Find(&#39;Id&#39;, AchievementId);

  // Unlock the achievement
  if (AchievementIndex !&#61; INDEX&#95;NONE)
  {
    // We haven&#39;t unlocked it yet, so start the unlock process
    if (!DownloadedAchievements&#91;AchievementIndex].bWasAchievedOnline)
    {
      BeginUnlockAchievement();
    }
    // We&#39;ve already unlocked it, so finish
    else if (AlwaysUnlockAchievement)
    {
      InternalOnUnlockAchievementComplete(true);
    }
  }
}
`endif

/&#42;&#42;
 &#42; Called when unlocking the achievement should begin
 &#42;
 &#42; &#64;param    AchievementId      Which achievement to unlock
 &#42; &#64;param    LocalUserNum      Local user index
 &#42;/
protected function BeginUnlockAchievement()
{
  local OnlineSubsystem OnlineSubsystem;

  // Grab the online subsystem
  OnlineSubsystem &#61; class&#39;GameEngine&#39;.static.GetOnlineSubsystem();
  if (OnlineSubsystem &#61;&#61; None &#124;&#124; OnlineSubsystem.PlayerInterface &#61;&#61; None)
  {
    return;
  }

  // Assign the unlock achievement complete delegate
  OnlineSubsystem.PlayerInterface.AddUnlockAchievementCompleteDelegate(ProcessingPlayers&#91;0].LocalUserNum, InternalOnUnlockAchievementComplete);

  // Start the unlocking process
  OnlineSubsystem.PlayerInterface.UnlockAchievement(ProcessingPlayers&#91;0].LocalUserNum, AchievementId);
}

/&#42;&#42;
 &#42; Called when the achievement unlocking has completed
 &#42;
 &#42; &#64;param     bWasSuccessful      True if the async action completed without error, false if there was an error
 &#42;/
protected function InternalOnUnlockAchievementComplete(bool bWasSuccessful)
{
  // Finished unlocking this achievement
  FinishedProcessPlayerIndex(bWasSuccessful);
}

/&#42;&#42;
 &#42; Called when this Kismet node should clean up all variable or delegate references so that garbage collection can occur
 &#42;
 &#42; &#64;param    IsExiting      If exiting, then clean up everything
 &#42;/
function CleanUp(optional bool IsExiting)
{
  local OnlineSubsystem OnlineSubsystem;
  local int i, InPlayerIndex;

  // Grab the online subsystem and remove all delegate binds
  OnlineSubsystem &#61; class&#39;GameEngine&#39;.static.GetOnlineSubsystem();
  if (OnlineSubsystem !&#61; None &#38;&#38; OnlineSubsystem.PlayerInterface !&#61; None)
  {
    // There can only be 4 maximum split screen local players
    for (i &#61; 0; i &#60; 4; ++i)
    {
      // Get the player index
      InPlayerIndex &#61; class&#39;UIInteraction&#39;.static.GetPlayerIndex(i);
      if (InPlayerIndex &#62;&#61; 0)
      {
      // Clear the delegates
// &#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;
// GameCenter
// &#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;
`if(`isdefined(USE&#95;GAMECENTER))
        OnlineSubsystem.PlayerInterface.ClearReadAchievementsCompleteDelegate(InPlayerIndex, InternalOnReadAchievementsComplete);
`endif
        OnlineSubsystem.PlayerInterface.ClearUnlockAchievementCompleteDelegate(InPlayerIndex, InternalOnUnlockAchievementComplete);
      }
    }
  }

  // Call the super just in case we are exiting
  Super.CleanUp(IsExiting);
}

defaultproperties
{
// &#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;
// GameCenter
// &#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;
`if(`isdefined(USE&#95;GAMECENTER))
  AlwaysUnlockAchievement&#61;true
`endif
  ObjName&#61;&#34;Unlock Achievement&#34;
  VariableLinks(1)&#61;(ExpectedType&#61;class&#39;SeqVar&#95;Int&#39;,LinkDesc&#61;&#34;Achievement Id&#34;,PropertyName&#61;AchievementId)
}
</pre>
</div>
<p />
<h4><a name="Example Kismet"></a><a name=" Example Kismet"></a>  Example Kismet </h4>
<p />
<img src="rsrc/Three/KismetOnlineSubsystem/KismetOnlineSubsystem_10.png" alt="KismetOnlineSubsystem_10.png" width='800' height='332' />
<p />
<p />
<hr/>
<p />
<p />
<h3><a name="SeqAct_ModifyOnlineStat"></a> SeqAct_ModifyOnlineStat </h3>
Modify Online Stat is a Kismet Sequence Action which allows you to modify a stat online used by the online subsystem. For Game Center, this system allows you to upload new stats to use on leaderboards. For Steamworks this system allows you to add, subtract or set stats to use for achievements.
<p />
<img src="rsrc/Three/KismetOnlineSubsystem/KismetOnlineSubsystem_01.png" alt="KismetOnlineSubsystem_01.png" width='164' height='167' />
<p />
<img src="rsrc/Three/KismetOnlineSubsystem/KismetOnlineSubsystem_08.jpg" alt="KismetOnlineSubsystem_08.jpg" width='800' height='453' />
<p />
<h4><a name="Functions"></a><a name=" Functions"></a>  Functions </h4> <ul>
<li> <strong>InternalOnActivated</strong> - Called from the parent class, <strong>SeqAct_OnlineSubsystemBase</strong>. On Game Center this will always just call <strong>SetStatValue()</strong>. On Steamworks, depending on that value of <strong>ModifyMethod</strong>, this may call either <strong>ReadOnlineStats()</strong> (if you wanted to add or subtract for existing stats) or <strong>SetStatValue()</strong>.
</li> <li> <strong>ReadOnlineStats</strong> - This is only called on the Steamworks version when you want to add or subtract from an existing stat. This reads the online stat, and then calls <strong>InternalOnReadOnlineStatsComplete()</strong> when it is finished.
</li> <li> <strong>InternalOnReadOnlineStatsComplete</strong> - After the stats have been read, the stat is either added to or subtracted from and then the result is sent back to Steamworks.
</li> <li> <strong>SetStatValue</strong> - This sets the stats and sends it back to either Game Center or Steamworks.
</li> <li> <strong>InternalOnFlushOnlineStatsComplete</strong> - This is only called on the Steamworks version when the stats have been written to the online database.
</li> <li> <strong>CleanUp</strong> - This is called when the Kismet node should clean itself up.
</li></ul>
<p />
<h4><a name="Definitions"></a><a name=" Definitions"></a>  Definitions </h4> <ul>
<li> <strong>SStat</strong> - Base struct definition. StatId refers the the stat id on Game Center or Steamworks. LinkedVariableName allows you to link this stat id to an attached Kismet Variable.
</li> <li> <strong>SIntStat</strong> - Extension of SStat. Defines a value to add, subtract or set the stat.
</li> <li> <strong>SFloatStat</strong> - Extension of SStat. Defines a value to add, subtract or set the stat.
</li> <li> <strong>EModifyMethod</strong> - This sets how you want to modify the online stat.
</li> <li> <strong>OnlineStatsWriteClass</strong> - This defines which OnlineStatsWrite to instance when writing to the online subsystem.
</li> <li> <strong>OnlineStatsReadClass</strong> - This defines which OnlineStatsRead to instance when writing to the online subsystem.
</li> <li> <strong>IntStats</strong> - Array of stat definitions to upload to the online subsystem.
</li> <li> <strong>FloatStats</strong> - Array of stat definitions to upload to the online subsystem.
</li> <li> <strong>ModifyMethod</strong> - Defines which method to modify the online stat. Only set is available on Game Center, Steamworks is able to add, subtract or set.
</li> <li> <strong>SessionName</strong> - Defines the session name, this is defaulted to "Game".
</li></ul>
<p />
<h4><a name="Game Center Execution flow"></a><a name=" Game Center Execution flow"></a>  Game Center Execution flow </h4>
On GameCenter, when <strong>InternalOnActivated()</strong> is called, <strong>SetStatValue()</strong> is called immediately. <strong>SetStatValue()</strong> instances an OnlineStatsWrite using the class defined in <strong>OnlineStatsWriteClass</strong>. It then iterates over <strong>IntStats</strong> and <strong>FloatStats</strong> and writes the values of those stats to the instanced OnlineStatsWrite class. It then writes these stats online and calls <strong>FinishedProcessPlayerIndex()</strong>.
<p />
When <strong>CleanUp()</strong> is called, all delegates bound are freed. Any object references are also cleared.
<p />
<h4><a name="Steamworks Execution flow"></a><a name=" Steamworks Execution flow"></a>  Steamworks Execution flow </h4>
On Steamworks, when <strong>InternalOnActivated()</strong> is called depending on the value of <strong>ModifyMethod</strong> two functions can be called. If <strong>ModifyMethod</strong> is MM_Add or MM_Subtract then <strong>ReadOnlineStats()</strong> is called, this is because the online stats value needs to be read so that it can be modified either by adding to it or subtracting from it. Otherwise <strong>SetStatValue()</strong> is called.
<p />
When <strong>ReadOnlineStats()</strong> is called, a delegate is bound and an instance of OnlineStatsRead is created. <strong>OnlineSubsystem.StatsInterface.ReadOnlineStats()</strong> is then called. When reading the online stats is finished, <strong>InternalOnReadOnlineStatsComplete</strong> is then called. <strong>InternalOnReadOnlineStatsComplete</strong> then interates over the <strong>IntStats</strong> and <strong>FloatStats</strong> arrays and modifies the stats values. The modified stats are then written to an OnlineStatsWrite instance and are then sent to Steamworks by calling <strong>OnlineSubsystem.StatsInterface.WriteOnlineStats()</strong>. If <strong>OnlineSubsystem.StatsInterface.WriteOnlineStats()</strong> passed, then a delegate is bound and <strong>OnlineSubsystem.StatsInterface.FlushOnlineStats()</strong> is called. When the online stats has been flushed, <strong>InternalOnFlushOnlineStatsComplete()</strong> is called which then calls <strong>FinishedProcessPlayerIndex()</strong>.
<p />
When <strong>SetStatValue()</strong> is called, it interates over the <strong>IntStats</strong> and <strong>FloatStats</strong> arrays and sets the stats values. The modified stats are then written to an OnlineStatsWrite instance and are then sent to Steamworks by calling <strong>OnlineSubsystem.StatsInterface.WriteOnlineStats()</strong>. If <strong>OnlineSubsystem.StatsInterface.WriteOnlineStats()</strong> passed, then a delegate is bound and <strong>OnlineSubsystem.StatsInterface.FlushOnlineStats()</strong> is called. When the online stats has been flushed, <strong>InternalOnFlushOnlineStatsComplete()</strong> is called which then calls <strong>FinishedProcessPlayerIndex()</strong>.
<p />
When <strong>CleanUp()</strong> is called, all delegates bound are freed. Any object references are also cleared.
<p />
<h4><a name="Unrealscript"></a><a name=" Unrealscript"></a>  Unrealscript </h4>
<div class="codetitlebar">
SeqAct_ModifyOnlineStat.uc
</div>
<div class="codesnippet">
<pre>
/&#42;&#42;
 &#42; An Modify Online Stat Action is used to modify and upload stats.
 &#42;
 &#42; Copyright 1998-2012 Epic Games, Inc. All Rights Reserved.
 &#42;/
class SeqAct&#95;ModifyOnlineStat extends SeqAct&#95;OnlineSubsystemBase;

// Stat base struct
struct SStat
{
  var() Name LinkedVariableName;
  var() int StatId;
};

// Integer based stat
struct SIntStat extends SStat
{
  var() int Value;
};

// Float based stat
struct SFloatStat extends SStat
{
  var() float Value;
};

// What method does the user want to modify the stat
enum EModifyMethod
{
  MM&#95;Set&#60;DisplayName&#61;Set&#62;,
// &#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;
// Steamworks
// &#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;
`if(`isdefined(USE&#95;STEAMWORKS))
  MM&#95;Add&#60;DisplayName&#61;Add&#62;,
  MM&#95;Subtract&#60;DisplayName&#61;Subtract&#62;,
`endif
};

// Online stats write class associated with the stats
var() class&#60;OnlineStatsWrite&#62; OnlineStatsWriteClass;
// &#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;
// Steamworks
// &#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;
`if(`isdefined(USE&#95;STEAMWORKS))
// Online stats read class associated with the stats
var() class&#60;OnlineStatsRead&#62; OnlineStatsReadClass;
`endif
// Array of integer based stats
var() array&#60;SIntStat&#62; IntStats;
// Array of float based stats
var() array&#60;SFloatStat&#62; FloatStats;
// Method to modify the stat
var() EModifyMethod ModifyMethod;
// Session name
var() Name SessionName;

// Online stats write object instance
var protected OnlineStatsWrite OnlineStatsWrite;
// Online stats read object instance
var protected OnlineStatsRead OnlineStatsRead;

/&#42;&#42;
 &#42; Called when this sequence action should do something attached with a local user num
 &#42;/
protected function InternalOnActivated()
{
  // Abort if the online stats write class is none
  // Abort if there are no column ids
  if (OnlineStatsWriteClass &#61;&#61; None &#124;&#124; IntStats.Length &#60;&#61; 0)
  {
    return;
  }

// &#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;
// Steamworks
// &#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;
`if(`isdefined(USE&#95;STEAMWORKS))
  // User wants to modify the stats using add or subtract
  if (ModifyMethod &#61;&#61; MM&#95;Add &#124;&#124; ModifyMethod &#61;&#61; MM&#95;Subtract)
  {
    ReadOnlineStats();
  }
  // User wants to modify the stats by setting the value
  else
  {
`endif
    SetStatValue();
// &#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;
// Steamworks
// &#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;
`if(`isdefined(USE&#95;STEAMWORKS))
  }
`endif
}

// &#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;
// Steamworks
// &#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;
`if(`isdefined(USE&#95;STEAMWORKS))
/&#42;&#42;
 &#42; Called when the user wants to modify the stats using increment or decrement
 &#42;/
protected function ReadOnlineStats()
{
  local OnlineSubsystem OnlineSubsystem;
  local array&#60;UniqueNetId&#62; PlayerIds;

  // Attempt to read the online stats
  OnlineSubsystem &#61; class&#39;GameEngine&#39;.static.GetOnlineSubsystem();
  if (OnlineSubsystem !&#61; None &#38;&#38; OnlineSubsystem.StatsInterface !&#61; None)
  {
    OnlineSubsystem.StatsInterface.AddReadOnlineStatsCompleteDelegate(InternalOnReadOnlineStatsComplete);

    PlayerIds.AddItem(ProcessingPlayers&#91;0].LocalNetId);
    OnlineStatsRead &#61; new () OnlineStatsReadClass;
    if (OnlineStatsRead !&#61; None)
    {
      OnlineSubsystem.StatsInterface.ReadOnlineStats(PlayerIds, OnlineStatsRead);
    }
  }
}

/&#42;&#42;
 &#42; Called when reading the online stats has finished
 &#42;
 &#42; &#64;param    bWasSuccessful      True if reading the online stats succeeded
 &#42;/
function InternalOnReadOnlineStatsComplete(bool bWasSuccessful)
{
  local OnlineSubsystem OnlineSubsystem;
  local int i, ReadIntStatValue;
  local float ReadFloatStatValue;
  local SeqVar&#95;Int SeqVar&#95;Int;
  local SeqVar&#95;Float SeqVar&#95;Float;

  // If reading the stats is successful
  if (bWasSuccessful &#38;&#38; OnlineStatsRead !&#61; None)
  {
    // Write stats
    OnlineSubsystem &#61; class&#39;GameEngine&#39;.static.GetOnlineSubsystem();
    if (OnlineSubsystem !&#61; None &#38;&#38; OnlineSubsystem.StatsInterface !&#61; None)
    {
      // Instance the stats write object
      OnlineStatsWrite &#61; new () OnlineStatsWriteClass;
      if (OnlineStatsWrite !&#61; None)
      {
        // Modify the int stats write values
        for (i &#61; 0; i &#60; IntStats.Length; ++i)
        {
          OnlineStatsRead.GetIntStatValueForPlayer(ProcessingPlayers&#91;0].LocalNetId, IntStats&#91;i].StatId, ReadIntStatValue);

          // If this state has a variable name, then perform a look up
          if (IntStats&#91;i].LinkedVariableName !&#61; &#39;&#39; &#38;&#38; IntStats&#91;i].LinkedVariableName !&#61; &#39;None&#39;)
          {
            ForEach LinkedVariables(class&#39;SeqVar&#95;Int&#39;, SeqVar&#95;Int)
            {
              if (SeqVar&#95;Int.VarName &#61;&#61; IntStats&#91;i].LinkedVariableName)
              {
                switch (ModifyMethod)
                {
                case MM&#95;Add:
                  OnlineStatsWrite.SetIntStat(IntStats&#91;i].StatId, ReadIntStatValue + SeqVar&#95;Int.IntValue);
                  break;

                case MM&#95;Subtract:
                  OnlineStatsWrite.SetIntStat(IntStats&#91;i].StatId, ReadIntStatValue - SeqVar&#95;Int.IntValue);
                  break;

                default:
                  break;
                }
              }
            }
          }
          // Otherwise use the value defined in the struct
          else
          {
            switch (ModifyMethod)
            {
            case MM&#95;Add:
              OnlineStatsWrite.SetIntStat(IntStats&#91;i].StatId, ReadIntStatValue + IntStats&#91;i].Value);
              break;

            case MM&#95;Subtract:
              OnlineStatsWrite.SetIntStat(IntStats&#91;i].StatId, ReadIntStatValue - IntStats&#91;i].Value);
              break;

            default:
              break;
            }
          }
        }

        // Modify the float stats write values
        for (i &#61; 0; i &#60; FloatStats.Length; ++i)
        {
          OnlineStatsRead.GetFloatStatValueForPlayer(ProcessingPlayers&#91;0].LocalNetId, FloatStats&#91;i].StatId, ReadFloatStatValue);

          // If this state has a variable name, then perform a look up
          if (FloatStats&#91;i].LinkedVariableName !&#61; &#39;&#39; &#38;&#38; FloatStats&#91;i].LinkedVariableName !&#61; &#39;None&#39;)
          {
            ForEach LinkedVariables(class&#39;SeqVar&#95;Float&#39;, SeqVar&#95;Float)
            {
              if (SeqVar&#95;Float.VarName &#61;&#61; FloatStats&#91;i].LinkedVariableName)
              {
                switch (ModifyMethod)
                {
                case MM&#95;Add:
                  OnlineStatsWrite.SetFloatStat(FloatStats&#91;i].StatId, ReadFloatStatValue + SeqVar&#95;Float.FloatValue);
                  break;

                case MM&#95;Subtract:
                  OnlineStatsWrite.SetFloatStat(FloatStats&#91;i].StatId, ReadFloatStatValue - SeqVar&#95;Float.FloatValue);
                  break;

                default:
                  break;
                }
              }
            }
          }
          // Otherwise use the value defined in the struct
          else
          {
            switch (ModifyMethod)
            {
            case MM&#95;Add:
              OnlineStatsWrite.SetFloatStat(FloatStats&#91;i].StatId, ReadFloatStatValue + FloatStats&#91;i].Value);
              break;

            case MM&#95;Subtract:
              OnlineStatsWrite.SetFloatStat(FloatStats&#91;i].StatId, ReadFloatStatValue - FloatStats&#91;i].Value);
              break;

            default:
              break;
            }
          }
        }

        // Send the write request to the stat handler
        if (OnlineSubsystem.StatsInterface.WriteOnlineStats(SessionName, ProcessingPlayers&#91;0].LocalNetId, OnlineStatsWrite))
        {
          // Add the flush delegate
          OnlineSubsystem.StatsInterface.AddFlushOnlineStatsCompleteDelegate(InternalOnFlushOnlineStatsComplete);
          // Flush the online stats
          OnlineSubsystem.StatsInterface.FlushOnlineStats(SessionName);
        }
        // Activate the failed output link
        else
        {
          ForceActivateOutput(3);
        }
      }
    }
  }
  else
  {
    FinishedProcessPlayerIndex(bWasSuccessful);
  }
}
`endif

/&#42;&#42;
 &#42; Called when this Kismet node should just set the stats value
 &#42;/
protected function SetStatValue()
{
  local OnlineSubsystem OnlineSubsystem;
  local int i;
  local SeqVar&#95;Int SeqVar&#95;Int;
  local SeqVar&#95;Float SeqVar&#95;Float;

  // Write stats
  OnlineSubsystem &#61; class&#39;GameEngine&#39;.static.GetOnlineSubsystem();
  if (OnlineSubsystem !&#61; None &#38;&#38; OnlineSubsystem.StatsInterface !&#61; None)
  {
    // Instance the stats write object
    OnlineStatsWrite &#61; new () OnlineStatsWriteClass;
    if (OnlineStatsWrite !&#61; None)
    {
      // Set the int stats write values
      for (i &#61; 0; i &#60; IntStats.Length; ++i)
      {
        // If this state has a variable name, then perform a look up
        if (IntStats&#91;i].LinkedVariableName !&#61; &#39;&#39; &#38;&#38; IntStats&#91;i].LinkedVariableName !&#61; &#39;None&#39;)
        {
          ForEach LinkedVariables(class&#39;SeqVar&#95;Int&#39;, SeqVar&#95;Int)
          {
            if (SeqVar&#95;Int.VarName &#61;&#61; IntStats&#91;i].LinkedVariableName)
            {
              OnlineStatsWrite.SetIntStat(IntStats&#91;i].StatId, SeqVar&#95;Int.IntValue);
              break;
            }
          }
        }
        // Otherwise use the value defined in the struct
        else
        {
          OnlineStatsWrite.SetIntStat(IntStats&#91;i].StatId, IntStats&#91;i].Value);
          break;
        }
      }

      // Modify the float stats write values
      for (i &#61; 0; i &#60; FloatStats.Length; ++i)
      {
        // If this state has a variable name, then perform a look up
        if (FloatStats&#91;i].LinkedVariableName !&#61; &#39;&#39; &#38;&#38; FloatStats&#91;i].LinkedVariableName !&#61; &#39;None&#39;)
        {
          ForEach LinkedVariables(class&#39;SeqVar&#95;Float&#39;, SeqVar&#95;Float)
          {
            if (SeqVar&#95;Float.VarName &#61;&#61; FloatStats&#91;i].LinkedVariableName)
            {
              OnlineStatsWrite.SetFloatStat(FloatStats&#91;i].StatId, SeqVar&#95;Float.FloatValue);
            }
          }
        }
        // Otherwise use the value defined in the struct
        else
        {
          OnlineStatsWrite.SetFloatStat(FloatStats&#91;i].StatId, FloatStats&#91;i].Value);
        }
      }

      // Send the write request to the stat handler
      if (OnlineSubsystem.StatsInterface.WriteOnlineStats(SessionName, ProcessingPlayers&#91;0].LocalNetId, OnlineStatsWrite))
      {
// &#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;
// SteamWorks
// &#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;
`if(`isdefined(USE&#95;STEAMWORKS))
        // Add the flush delegates
        OnlineSubsystem.StatsInterface.AddFlushOnlineStatsCompleteDelegate(InternalOnFlushOnlineStatsComplete);
`endif
        // Flush the online stats
        OnlineSubsystem.StatsInterface.FlushOnlineStats(SessionName);
// &#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;
// GameCenter
// &#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;
`if(`isdefined(USE&#95;GAMECENTER))
        // Clear all object refs
        OnlineStatsWrite &#61; None;
        OnlineStatsRead &#61; None;

        // Handle process player index
        FinishedProcessPlayerIndex(true);
`endif
      }
      // Activate the failed output link
      else
      {
        ForceActivateOutput(3);
      }
    }
  }
}

`if(`isdefined(USE&#95;STEAMWORKS))
/&#42;&#42;
 &#42; Called when the stats flush operation has completed
 &#42;
 &#42; &#64;param SessionName the name of the session having stats flushed for
 &#42; &#64;param bWasSuccessful true if the async action completed without error, false if there was an error
 &#42;/
function InternalOnFlushOnlineStatsComplete(Name InSessionName, bool bWasSuccessful)
{
  // Clear all object refs
  OnlineStatsWrite &#61; None;
  OnlineStatsRead &#61; None;

  // Handle process player index
  FinishedProcessPlayerIndex(bWasSuccessful);
}
`endif

/&#42;&#42;
 &#42; Called when this Kismet node should clean up all variable or delegate references so that garbage collection can occur
 &#42;
 &#42; &#64;param    IsExiting      If exiting, then clean up everything
 &#42;/
function CleanUp(optional bool IsExiting)
{
// &#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;
// SteamWorks
// &#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;
`if(`isdefined(USE&#95;STEAMWORKS))
  local OnlineSubsystem OnlineSubsystem;
  local int i, InPlayerIndex;

  // Grab the online subsystem and remove all delegate binds
  OnlineSubsystem &#61; class&#39;GameEngine&#39;.static.GetOnlineSubsystem();
  if (OnlineSubsystem !&#61; None &#38;&#38; OnlineSubsystem.StatsInterface !&#61; None)
  {
    // There can only be 4 maximum split screen local players
    for (i &#61; 0; i &#60; 4; ++i)
    {
      // Get the player index
      InPlayerIndex &#61; class&#39;UIInteraction&#39;.static.GetPlayerIndex(i);
      if (InPlayerIndex &#62;&#61; 0)
      {
        // Clear the delegates
        OnlineSubsystem.StatsInterface.ClearFlushOnlineStatsCompleteDelegate(InternalOnFlushOnlineStatsComplete);
        OnlineSubsystem.StatsInterface.ClearReadOnlineStatsCompleteDelegate(InternalOnReadOnlineStatsComplete);
      }
    }
  }
`endif

  // Clear the online stats write object
  OnlineStatsWrite &#61; None;
  // Clear the online stats read object
  OnlineStatsRead &#61; None;

  // Call the super just in case we are exiting
  Super.CleanUp(IsExiting);
}

defaultproperties
{
  SessionName&#61;&#34;Game&#34;
  ObjName&#61;&#34;Modify Online Stat&#34;

  VariableLinks(1)&#61;(ExpectedType&#61;class&#39;SeqVar&#95;Int&#39;,LinkDesc&#61;&#34;Stat Values&#34;)
}
</pre>
</div>
<p />
<h4><a name="Example Kismet"></a><a name=" Example Kismet"></a>  Example Kismet </h4>
<p />
<img src="rsrc/Three/KismetOnlineSubsystem/KismetOnlineSubsystem_11.png" alt="KismetOnlineSubsystem_11.png" width='784' height='535' />
<p />
<p />
<hr/>
<p />
<p />
<h2><a name="Steam Works only Kismet Nodes"></a> Steam Works only Kismet Nodes </h2>
<hr size="1" noshade="noshade">
<p />
<h3><a name="SeqAct_RefreshAchievements"></a> SeqAct_RefreshAchievements </h3>
This Kismet Sequence Action attempts to force the client to refresh it's achievements by reading them from Steamworks.
<p />
<img src="rsrc/Three/KismetOnlineSubsystem/KismetOnlineSubsystem_02.png" alt="KismetOnlineSubsystem_02.png" width='184' height='151' />
<p />
<h4><a name="Functions"></a><a name=" Functions"></a>  Functions </h4> <ul>
<li> <strong>InternalOnActivated</strong> - Which this function is called, it binds to a delegate and calls <strong>OnlineSubsystem.PlayerInterface.ReadAchievements()</strong>.
</li> <li> <strong>InternalOnReadAchievementsComplete</strong> - This function called when <strong>OnlineSubsystem.PlayerInterface.ReadAchievements()</strong> has finished reading achievements from Steamworks. It calls <strong>FinishedProcessPlayerIndex()</strong>.
</li> <li> <strong>CleanUp</strong> - This function cleans up any delegates that have been bound.
</li></ul>
<p />
<h4><a name="Execution flow"></a><a name=" Execution flow"></a>  Execution flow </h4>
When <strong>InternalOnActivated()</strong> is called, it first binds to a delegate in <strong>OnlineSubsystem.PlayerInterface</strong>. This delegate is called when the online subsystem has finished reading the achievements from Steamworks. <strong>OnlineSubsystem.PlayerInterface.ReadAchievements()</strong> is then called. When reading achievements have finished, <strong>InternalOnReadAchievementsComplete()</strong> is then called, which then calls <strong>FinishedProcessPlayerIndex()</strong>.
<p />
When <strong>CleanUp()</strong> is called, any delegates that have been bound are freed.
<p />
<h4><a name="Unrealscript"></a><a name=" Unrealscript"></a>  Unrealscript </h4>
<div class="codetitlebar">
SeqAct_RefreshAchievements.uc
</div>
<div class="codesnippet">
<pre>
/&#42;&#42;
 &#42; A Refresh Achievements Action is used to refresh all achievements.
 &#42;
 &#42; Copyright 1998-2012 Epic Games, Inc. All Rights Reserved.
 &#42;/
class SeqAct&#95;RefreshAchievements extends SeqAct&#95;OnlineSubsystemBase
`if(`notdefined(USE&#95;STEAMWORKS))
  abstract
  HideDropDown;
`else
  ;

/&#42;&#42;
 &#42; Called when this sequence action should do something attached with a local user num
 &#42;/
protected function InternalOnActivated()
{
  local OnlineSubSystem OnlineSubSystem;

  OnlineSubSystem &#61; class&#39;GameEngine&#39;.static.GetOnlineSubSystem();
  if (OnlineSubSystem !&#61; None &#38;&#38; OnlineSubSystem.PlayerInterface !&#61; None)
  {
    // Bind the delegate
    OnlineSubSystem.PlayerInterface.AddReadAchievementsCompleteDelegate(ProcessingPlayers&#91;0].LocalUserNum, InternalOnReadAchievementsComplete);

    // Read all achievements
    OnlineSubsystem.PlayerInterface.ReadAchievements(ProcessingPlayers&#91;0].LocalUserNum);
  }
}

/&#42;&#42;
 &#42; Called when the async achievements read has completed
 &#42;
 &#42; &#64;param TitleId the title id that the read was for (0 means current title)
 &#42;/
function InternalOnReadAchievementsComplete(int TitleId)
{
  FinishedProcessPlayerIndex(true);
}

/&#42;&#42;
 &#42; Called when this Kismet node should clean up all variable or delegate references so that garbage collection can occur
 &#42;
 &#42; &#64;param    IsExiting      If exiting, then clean up everything
 &#42;/
function CleanUp(optional bool IsExiting)
{
  local OnlineSubsystem OnlineSubsystem;
  local int i, InPlayerIndex;

  // Grab the online subsystem and remove all delegate binds
  OnlineSubsystem &#61; class&#39;GameEngine&#39;.static.GetOnlineSubsystem();
  if (OnlineSubsystem !&#61; None &#38;&#38; OnlineSubsystem.PlayerInterface !&#61; None)
  {
    // There can only be 4 maximum split screen local players
    for (i &#61; 0; i &#60; 4; ++i)
    {
      // Get the player index
      InPlayerIndex &#61; class&#39;UIInteraction&#39;.static.GetPlayerIndex(i);
      if (InPlayerIndex &#62;&#61; 0)
      {
        // Clear the delegates
        OnlineSubsystem.PlayerInterface.ClearReadAchievementsCompleteDelegate(InPlayerIndex, InternalOnReadAchievementsComplete);
      }
    }
  }

  // Call the super just in case we are exiting
  Super.CleanUp(IsExiting);
}
`endif

defaultproperties
{
  ObjName&#61;&#34;Refresh Achievements&#34;
}
</pre>
</div>
<p />
<p />
<hr/>
<p />
<p />
<h3><a name="SeqAct_ResetAchievements"></a> SeqAct_ResetAchievements </h3>
This Kismet Sequence Action is used to reset achievements and or stats that has been saved for the player. This Kismet Sequence Action should only be used for debugging purposes as it binds directly to the Steamworks online subsystem.
<p />
<img src="rsrc/Three/KismetOnlineSubsystem/KismetOnlineSubsystem_03.png" alt="KismetOnlineSubsystem_03.png" width='214' height='151' />
<p />
<h4><a name="Functions"></a><a name=" Functions"></a>  Functions </h4> <ul>
<li> <strong>InternalOnActivated</strong> - When this is called this calls <strong>OnlineSubsystemSteamworks.ResetStats()</strong>.
</li></ul>
<p />
<h4><a name="Definitions"></a><a name=" Definitions"></a>  Definitions </h4> <ul>
<li> <strong>ResetAchievements</strong> - If this is true, then achievements are reset as well.
</li></ul>
<p />
<h4><a name="Execution flow"></a><a name=" Execution flow"></a>  Execution flow </h4>
When <strong>InternalOnActivated()</strong> is called, it then calls <strong>OnlineSubsystemSteamworks.ResetStats()</strong>. It then calls <strong>FinishedProcessPlayerIndex()</strong>.
<p />
<h4><a name="Unrealscript"></a><a name=" Unrealscript"></a>  Unrealscript </h4>
<div class="codetitlebar">
SeqAct_ResetAchievements.uc
</div>
<div class="codesnippet">
<pre>
/&#42;&#42;
 &#42; A Reset Achievements Action is used to reset all of the achievements earnt by the player.
 &#42;
 &#42; Copyright 1998-2012 Epic Games, Inc. All Rights Reserved.
 &#42;/
class SeqAct&#95;ResetAchievements extends SeqAct&#95;OnlineSubsystemBase
`if(`notdefined(USE&#95;STEAMWORKS))
  abstract
  HideDropDown;
`else
  ;

// If true, then achievements are also reset. Otherwise only stats are reset.
var() const bool ResetAchievements;

/&#42;&#42;
 &#42; Called when this sequence action should do something attached with a local user num
 &#42;/
protected function InternalOnActivated()
{
  local OnlineSubsystemSteamworks OnlineSubsystemSteamworks;
  local bool bWasSuccessful;

  OnlineSubsystemSteamworks &#61; OnlineSubsystemSteamworks(class&#39;GameEngine&#39;.static.GetOnlineSubsystem());
  if (OnlineSubsystemSteamworks !&#61; None)
  {
    bWasSuccessful &#61; OnlineSubsystemSteamworks.ResetStats(ResetAchievements);
  }
  else
  {
    bWasSuccessful &#61; false;
  }

  FinishedProcessPlayerIndex(bWasSuccessful);
}
`endif

defaultproperties
{
`if(`isdefined(USE&#95;STEAMWORKS))
  ResetAchievements&#61;true
`endif
  ObjName&#61;&#34;Reset Achievements/Stats&#34;
}
</pre>
</div>
<p />
<h4><a name="Example Kismet"></a><a name=" Example Kismet"></a>  Example Kismet </h4>
<p />
<img src="rsrc/Three/KismetOnlineSubsystem/KismetOnlineSubsystem_12.png" alt="KismetOnlineSubsystem_12.png" width='800' height='303' />
<p />
<p />
<hr/>
<p />
<p />
<h3><a name="SeqAct_ReadOnlineStat"></a> SeqAct_ReadOnlineStat </h3>
This Kismet Sequence Action allows you to read online stats to use within Kismet later on.
<p />
<img src="rsrc/Three/KismetOnlineSubsystem/KismetOnlineSubsystem_04.png" alt="KismetOnlineSubsystem_04.png" width='211' height='168' />
<p />
<img src="rsrc/Three/KismetOnlineSubsystem/KismetOnlineSubsystem_09.jpg" alt="KismetOnlineSubsystem_09.jpg" width='800' height='453' />
<p />
<h4><a name="Functions"></a><a name=" Functions"></a>  Functions </h4> <ul>
<li> <strong>InternalOnActivated</strong> - This is called by the parent class, <strong>SeqAct_OnlineSubsystemBase</strong>. This then starts the call to read the stats from Steamworks.
</li> <li> <strong>InternalOnReadOnlineStatsComplete</strong> - This is called when reading the stats from Steamworks has finished. It finally calls <strong>FinishedProcessPlayerIndex()</strong>.
</li> <li> <strong>CleanUp</strong> - This function cleans up any delegates and object references that is used by this Kismet Sequence Action.
</li></ul>
<p />
<h4><a name="Definitions"></a><a name=" Definitions"></a>  Definitions </h4> <ul>
<li> <strong>EReadStatsMethod</strong> - An enum which defines the different ways to read stats.
</li> <li> <strong>SLinkedVariableName</strong> - A struct which holds the an id for the stat you want to read, and a name which links to an attached Kismet Variable.
</li> <li> <strong>OnlineStatsReadClass</strong> - Online Read Stats class to use for reading online stats.
</li> <li> <strong>ReadStatsMethod</strong> - Variable declaration of <strong>EReadStatsMethod</strong>.
</li> <li> <strong>StartRankIndex</strong> - If use a read stats ranked method, which starting rank index to use.
</li> <li> <strong>RowCount</strong> - How many rows to read if using read stats rank or rank around player methods.
</li> <li> <strong>LinkedVariableNames</strong> - Linked variables to output to.
</li> <li> <strong>Rank</strong> - Ranked variable that is mapped to a Kismet Variable.
</li></ul>
<p />
<h4><a name="Execution flow"></a><a name=" Execution flow"></a>  Execution flow </h4>
When <strong>InternalOnActivated()</strong> is called, it first instances an <strong>OnlineStatsRead</strong> based on the class defined in <strong>OnlineStatsReadClass</strong>. <strong>OnlineSubsystem.StatsInterface.FreeStats()</strong> is then called to clear the <strong>OnlineStatsRead</strong> instance. A delegate is then bound and the request to read the online stats is done. The method to read the online stats is defined by the <strong>ReadStatsMethod</strong> variable. This may call <strong>OnlineSubsystem.StatsInterface.ReadOnlineStatsForFriends()</strong>, <strong>OnlineSubsystem.StatsInterface.ReadOnlineStatsByRank()</strong>, <strong>OnlineSubsystem.StatsInterface.ReadOnlineStatsByRankAroundPlayer()</strong> or <strong>OnlineSubsystem.StatsInterface.ReadOnlineStats()</strong>. <strong>InternalOnReadOnlineStatsComplete()</strong> is called when the online stats has finished, this function is responsible for getting the stats and outputting them into the attached Kismet Sequence Variables. Rank is also set here too. <strong>PopulateLinkedVariableValues()</strong> is called to copy the mapped stat properties across. <strong>FinishedProcessPlayerIndex()</strong> is then called.
<p />
When <strong>CleanUp()</strong> is called, all delegates that have been bound and object instances are freed.
<p />
<h4><a name="Unrealscript"></a><a name=" Unrealscript"></a>  Unrealscript </h4>
<div class="codetitlebar">
SeqAct_ReadOnlineStat.uc
</div>
<div class="codesnippet">
<pre>
/&#42;&#42;
 &#42; A Read Online Stat Action is used to read online stats.
 &#42;
 &#42; Copyright 1998-2012 Epic Games, Inc. All Rights Reserved.
 &#42;/
class SeqAct&#95;ReadOnlineStat extends SeqAct&#95;OnlineSubsystemBase
// &#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;
// GameCenter
// &#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;
`if(`isdefined(USE&#95;GAMECENTER))
  abstract
  HideDropdown;
`else
  ;
//
enum EReadStatsMethod
{
  RST&#95;ReadAll&#60;DisplayName&#61;Read all stats&#62;,
  RST&#95;ReadFriendsOnly&#60;DisplayName&#61;Read stats of friends&#62;,
  RST&#95;ReadByRank&#60;DisplayName&#61;Read stats by rank&#62;,
  RST&#95;ReadByRankAroundPlayer&#60;DisplayName&#61;Read stats around player&#62;
};

//
struct SLinkedVariableName
{
  var() int StatId;
  var() Name LinkedVariableName;
};

// Class to use which reads the stats
var() class&#60;OnlineStatsRead&#62; OnlineStatsReadClass;
// Method to read stats
var() EReadStatsMethod ReadStatsMethod;
// If use a read stats ranked method, which starting rank index to use
var() int StartRankIndex;
// How many rows to read if using read stats rank or rank around player methods
var() int RowCount;
// Linked variables to output to
var() array&#60;SLinkedVariableName&#62; LinkedVariableNames;

// Online stats read object instance
var protected OnlineStatsRead OnlineStatsRead;
// Rank variable mapped to a Kismet variable
var int Rank;

/&#42;&#42;
 &#42; Called when this sequence action should do something attached with a local user num
 &#42;/
protected function InternalOnActivated()
{
  local OnlineSubSystem OnlineSubSystem;
  local array&#60;UniqueNetId&#62; PlayerIds;

  // Abort if the online stats read class is none
  // Abort if there are no column ids
  if (OnlineStatsReadClass &#61;&#61; None &#124;&#124; LinkedVariableNames.Length &#60;&#61; 0)
  {
    return;
  }

  // Request stats
  OnlineSubSystem &#61; class&#39;GameEngine&#39;.static.GetOnlineSubSystem();
  if (OnlineSubSystem !&#61; None &#38;&#38; OnlineSubSystem.StatsInterface !&#61; None)
  {
    // Instance the online stats
    OnlineStatsRead &#61; new () OnlineStatsReadClass;
    if (OnlineStatsRead !&#61; None)
    {
      // Free the stats
      OnlineSubsystem.StatsInterface.FreeStats(OnlineStatsRead);

      // Bind the read online stats delegate
      OnlineSubsystem.StatsInterface.AddReadOnlineStatsCompleteDelegate(InternalOnReadOnlineStatsComplete);

      switch (ReadStatsMethod)
      {
      // Read stats for friends only
      case RST&#95;ReadFriendsOnly:
        OnlineSubsystem.StatsInterface.ReadOnlineStatsForFriends(ProcessingPlayers&#91;0].LocalUserNum, OnlineStatsRead);
        break;

      // Read stats by rank only
      case RST&#95;ReadByRank:
        OnlineSubsystem.StatsInterface.ReadOnlineStatsByRank(OnlineStatsRead, StartRankIndex, RowCount);
        break;

      // Read stats around player
      case RST&#95;ReadByRankAroundPlayer:
        OnlineSubsystem.StatsInterface.ReadOnlineStatsByRankAroundPlayer(ProcessingPlayers&#91;0].LocalUserNum, OnlineStatsRead, RowCount);
        break;

        // Read all stats
      case RST&#95;ReadAll:
      default:
        PlayerIds.AddItem(ProcessingPlayers&#91;0].LocalNetId);
        OnlineSubsystem.StatsInterface.ReadOnlineStats(PlayerIds, OnlineStatsRead);
        break;
      }
    }
  }
}

/&#42;&#42;
 &#42; Notifies the interested party that the last stats read has completed
 &#42;
 &#42; &#64;param bWasSuccessful true if the async action completed without error, false if there was an error
 &#42;/
function InternalOnReadOnlineStatsComplete(bool bWasSuccessful)
{
  local int i;
  local SeqVar&#95;Int SeqVar&#95;Int;
  local SeqVar&#95;Float SeqVar&#95;Float;

  if (OnlineStatsRead !&#61; None)
  {
    // Output the stat id for the processing player
    if (LinkedVariableNames.Length &#62; 0)
    {
      for (i &#61; 0; i &#60; LinkedVariableNames.Length; ++i)
      {
        if (LinkedVariableNames&#91;i].LinkedVariableName !&#61; &#39;&#39; &#38;&#38; LinkedVariableNames&#91;i].LinkedVariableName !&#61; &#39;None&#39;)
        {
          // Copy the int stats over to the sequence variable
          ForEach LinkedVariables(class&#39;SeqVar&#95;Int&#39;, SeqVar&#95;Int)
          {
            if (SeqVar&#95;Int.VarName &#61;&#61; LinkedVariableNames&#91;i].LinkedVariableName)
            {
              OnlineStatsRead.GetIntStatValueForPlayer(ProcessingPlayers&#91;0].LocalNetId, LinkedVariableNames&#91;i].StatId, SeqVar&#95;Int.IntValue);
            }
          }

          // Copy the float stats over to the sequence variable
          ForEach LinkedVariables(class&#39;SeqVar&#95;Float&#39;, SeqVar&#95;Float)
          {
            if (SeqVar&#95;Float.VarName &#61;&#61; LinkedVariableNames&#91;i].LinkedVariableName)
            {
              OnlineStatsRead.GetFloatStatValueForPlayer(ProcessingPlayers&#91;0].LocalNetId, LinkedVariableNames&#91;i].StatId, SeqVar&#95;Float.FloatValue);
            }
          }
        }
      }
    }

    // Output rank
    Rank &#61; OnlineStatsRead.GetRankForPlayer(ProcessingPlayers&#91;0].LocalNetId);
    // Populate the linked variables
    PopulateLinkedVariableValues();
  }

  // Finished processing players
  FinishedProcessPlayerIndex(bWasSuccessful);
  // Remove reference to online stats read
  OnlineStatsRead &#61; None;
}

/&#42;&#42;
 &#42; Called when this Kismet node should clean up all variable or delegate references so that garbage collection can occur
 &#42;
 &#42; &#64;param    IsExiting      If exiting, then clean up everything
 &#42;/
function CleanUp(optional bool IsExiting)
{
  local OnlineSubsystem OnlineSubsystem;
  local int i, InPlayerIndex;

  // Grab the online subsystem and remove all delegate binds
  OnlineSubsystem &#61; class&#39;GameEngine&#39;.static.GetOnlineSubsystem();
  if (OnlineSubsystem !&#61; None &#38;&#38; OnlineSubsystem.StatsInterface !&#61; None)
  {
    // There can only be 4 maximum split screen local players
    for (i &#61; 0; i &#60; 4; ++i)
    {
      // Get the player index
      InPlayerIndex &#61; class&#39;UIInteraction&#39;.static.GetPlayerIndex(i);
      if (InPlayerIndex &#62;&#61; 0)
      {
        // Clear the delegates
        OnlineSubsystem.StatsInterface.ClearReadOnlineStatsCompleteDelegate(InternalOnReadOnlineStatsComplete);
      }
    }
  }

  // Clear the online stats read object
  OnlineStatsRead &#61; None;

  // Call the super just in case we are exiting
  Super.CleanUp(IsExiting);
}
`endif

defaultproperties
{
  ObjName&#61;&#34;Read Online Stat&#34;

// &#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;
// SteamWorks
// &#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;&#61;
`if(`isdefined(USE&#95;STEAMWORKS))
  StartRankIndex&#61;1
  RowCount&#61;50
`endif

  VariableLinks(1)&#61;(ExpectedType&#61;class&#39;SeqVar&#95;Int&#39;,LinkDesc&#61;&#34;Stat Values&#34;,bWriteable&#61;true)
  VariableLinks(2)&#61;(ExpectedType&#61;class&#39;SeqVar&#95;Int&#39;,LinkDesc&#61;&#34;Rank&#34;,bWriteable&#61;true,PropertyName&#61;Rank)
}
</pre>
</div>
<p />
<h4><a name="Example Kismet"></a><a name=" Example Kismet"></a>  Example Kismet </h4>
<p />
<img src="rsrc/Three/KismetOnlineSubsystem/KismetOnlineSubsystem_13.png" alt="KismetOnlineSubsystem_13.png" width='800' height='496' />
<p />
<p />
<hr/>
<p />
<p />
<h2><a name="Game Center only Kismet Nodes"></a> Game Center only Kismet Nodes </h2>
<hr size="1" noshade="noshade">
<p />
<h3><a name="SeqAct_Mobile_ShowAchievementsUI"></a> SeqAct_Mobile_ShowAchievementsUI </h3>
<p />
When this Kismet Sequence Action is activated, it brings up Game Center's Achievements UI. This normally automatically pauses the game.
<p />
<img src="rsrc/Three/KismetOnlineSubsystem/KismetOnlineSubsystem_05.jpg" alt="KismetOnlineSubsystem_05.png" width='800' height='600' />
<p />
<h4><a name="Functions"></a><a name=" Functions"></a>  Functions </h4> <ul>
<li> <strong>InternalOnActivated</strong> - When this function is called, it calls <strong>OnlineSubSystem.PlayerInterfaceEx.ShowAchievementsUI()</strong>.
</li></ul>
<p />
<h4><a name="Execution flow"></a><a name=" Execution flow"></a>  Execution flow </h4>
When <strong>InternalOnActivated()</strong> is called by the parent class, <strong>SeqAct_OnlineSubsystemBase</strong>, it then calls <strong>OnlineSubSystem.PlayerInterfaceEx.ShowAchievementsUI()</strong>. It then calls <strong>FinishedProcessPlayerIndex()</strong>.
<p />
<h4><a name="Unrealscript"></a><a name=" Unrealscript"></a>  Unrealscript </h4>
<div class="codetitlebar">
SeqAct_Mobile_ShowAchievementsUI.uc
</div>
<div class="codesnippet">
<pre>
/&#42;&#42;
 &#42; A Mobile Show Achievements UI Action is used to display the achievements UI.
 &#42;
 &#42; Copyright 1998-2012 Epic Games, Inc. All Rights Reserved.
 &#42;/
class SeqAct&#95;Mobile&#95;ShowAchievementsUI extends SeqAct&#95;OnlineSubsystemBase
`if(`notdefined(USE&#95;GAMECENTER))
  abstract
  HideDropDown;
`else
  ;

/&#42;&#42;
 &#42; Called when this sequence action should do something attached with a local user num
 &#42;/
protected function InternalOnActivated()
{
  local OnlineSubsystem OnlineSubsystem;

  // Get the online sub system
  OnlineSubSystem &#61; class&#39;GameEngine&#39;.static.GetOnlineSubsystem();
  // Check that the online subsystem and player interface ex is accessible
  if (OnlineSubSystem !&#61; None &#38;&#38; OnlineSubSystem.PlayerInterfaceEx !&#61; None)
  {
    OnlineSubSystem.PlayerInterfaceEx.ShowAchievementsUI(ProcessingPlayers&#91;0].LocalUserNum);
    FinishedProcessPlayerIndex(true);
  }
  else
  {
    FinishedProcessPlayerIndex(false);
  }
}
`endif

defaultproperties
{
  ObjName&#61;&#34;Show Achievements UI&#34;
}
</pre>
</div>
<p />
<h4><a name="Example Kismet"></a><a name=" Example Kismet"></a>  Example Kismet </h4>
<p />
<img src="rsrc/Three/KismetOnlineSubsystem/KismetOnlineSubsystem_14.png" alt="KismetOnlineSubsystem_14.png" width='800' height='443' />
<p />
<p />
<hr/>
<p />
<p />
<h3><a name="SeqAct_Mobile_ShowLeaderboardsUI"></a> SeqAct_Mobile_ShowLeaderboardsUI </h3>
<p />
When this Kismet Sequence Action is activated, it brings up the Game Center's Leaderboards UI. This normal automatically pauses the game.
<p />
<img src="rsrc/Three/KismetOnlineSubsystem/KismetOnlineSubsystem_06.jpg" alt="KismetOnlineSubsystem_06.png" width='800' height='600' />
<p />
<h4><a name="Functions"></a><a name=" Functions"></a>  Functions </h4> <ul>
<li> <strong>InternalOnActivated</strong> - When this function is called, it creates the instance of <strong>OnlineStatsRead</strong> based on the <strong>OnlineStatsReadClass</strong> value. <strong>OnlineSuppliedUIInterface.ShowOnlineStatsUI()</strong> is then called to bring up Game Center's leaderboards UI. A delegate is also bound which calls <strong>InternalOnShowOnlineStatsUIComplete</strong> when the UI is closed.
</li> <li> <strong>InternalOnShowOnlineStatsUIComplete</strong> - This function called when the Leaderboards UI is closed.
</li> <li> <strong>CleanUp</strong> - This function is called to free up all bound delegates and object references.
</li></ul>
<p />
<h4><a name="Definitions"></a><a name=" Definitions"></a>  Definitions </h4> <ul>
<li> <strong>OnlineStatsReadClass</strong> - The class of the OnlineStatsRead you want to use to read the online stats.
</li></ul>
<p />
<h4><a name="Execution flow"></a><a name=" Execution flow"></a>  Execution flow </h4>
When <strong>InternalOnActivated()</strong> is called by the parent class, <strong>SeqAct_OnlineSubsystemBase</strong>, it instances the OnlineReadStats defined by <strong>OnlineStatsReadClass</strong>. A delegate is bound to detect when the leaderboards UI is closed. <strong>OnlineSuppliedUIInterface.ShowOnlineStatsUI()</strong> is then called to read and show the leaderboards UI. <strong>FinishedProcessPlayerIndex()</strong> is then called.
<p />
When <strong>InternalOnShowOnlineStatsUIComplete()</strong> is called, the "Closed" output is activated.
<p />
When <strong>CleanUp()</strong> is called, all bound delegates are freed.
<p />
<h4><a name="Unrealscript"></a><a name=" Unrealscript"></a>  Unrealscript </h4>
<div class="codetitlebar">
SeqAct_Mobile_ShowLeaderboardsUI.uc
</div>
<div class="codesnippet">
<pre>
/&#42;&#42;
 &#42; A Mobile Show Leaderboards UI Action is used to display the leaderboards UI.
 &#42;
 &#42; Copyright 1998-2012 Epic Games, Inc. All Rights Reserved.
 &#42;/
class SeqAct&#95;Mobile&#95;ShowLeaderboardsUI extends SeqAct&#95;OnlineSubsystemBase
`if(`notdefined(USE&#95;GAMECENTER))
  abstract
  HideDropDown;
`else
  ;

var() const class&#60;OnlineStatsRead&#62; OnlineStatsReadClass;

/&#42;&#42;
 &#42; Called when this sequence action should do something attached with a local user num
 &#42;/
protected function InternalOnActivated()
{
  local OnlineSubsystem OnlineSubsystem;
  local OnlineSuppliedUIInterface OnlineSuppliedUIInterface;
  local array&#60;UniqueNetId&#62; PlayerIds;
  local OnlineStatsRead OnlineStatsRead;
  local int i;

  // If this class is none, then abort
  if (OnlineStatsReadClass &#61;&#61; None)
  {
    return;
  }

  // Get the online sub system
  OnlineSubSystem &#61; class&#39;GameEngine&#39;.static.GetOnlineSubsystem();
  // Check that the online subsystem is accessible
  if (OnlineSubSystem !&#61; None)
  {
    // Create the PlayerIds array from all the processing players array
    for (i &#61; 0; i &#60; ProcessingPlayers.Length; ++i)
    {
      PlayerIds.AddItem(ProcessingPlayers&#91;i].LocalNetId);
    }

    // Get the online supplied UI interface
    OnlineSuppliedUIInterface &#61; OnlineSuppliedUIInterface(OnlineSubSystem.GetNamedInterface(&#39;SuppliedUI&#39;));
    if (OnlineSuppliedUIInterface !&#61; None)
    {
      // Instance the online stats read class
      OnlineStatsRead &#61; new () OnlineStatsReadClass;
      if (OnlineStatsRead !&#61; None)
      {
        // Bind to the online stats UI delegate
        OnlineSuppliedUIInterface.AddShowOnlineStatsUICompleteDelegate(InternalOnShowOnlineStatsUIComplete);

        // Show the online stats UI
        OnlineSuppliedUIInterface.ShowOnlineStatsUI(PlayerIds, OnlineStatsRead);
        FinishedProcessPlayerIndex(true, true);
      }
    }
  }
  else
  {
    FinishedProcessPlayerIndex(false);
  }
}

/&#42;&#42;
 &#42; Delegate fired when the supplied stats UI is closed
 &#42;/
function InternalOnShowOnlineStatsUIComplete()
{
  // Activate the fourth output
  ForceActivateOutput(4);
}

/&#42;&#42;
 &#42; Called when this Kismet node should clean up all variable or delegate references so that garbage collection can occur
 &#42;
 &#42; &#64;param    IsExiting      If exiting, then clean up everything
 &#42;/
function CleanUp(optional bool IsExiting)
{
  local OnlineSubsystem OnlineSubsystem;
  local OnlineSuppliedUIInterface OnlineSuppliedUIInterface;

  Super.CleanUp(IsExiting);

  if (IsExiting)
  {
    // Get the online sub system
    OnlineSubSystem &#61; class&#39;GameEngine&#39;.static.GetOnlineSubsystem();
    // Check that the online subsystem is accessible
    if (OnlineSubSystem !&#61; None)
    {
      // Get the online supplied UI interface
      OnlineSuppliedUIInterface &#61; OnlineSuppliedUIInterface(OnlineSubSystem.GetNamedInterface(&#39;SuppliedUI&#39;));
      if (OnlineSuppliedUIInterface !&#61; None)
      {
        OnlineSuppliedUIInterface.ClearShowOnlineStatsUICompleteDelegate(InternalOnShowOnlineStatsUIComplete);
      }
    }
  }
}
`endif

defaultproperties
{
  ObjName&#61;&#34;Show Leaderboards UI&#34;

  OutputLinks(4)&#61;(LinkDesc&#61;&#34;Closed&#34;)
}
</pre>
</div>
<p />
<h4><a name="Example Kismet"></a><a name=" Example Kismet"></a>  Example Kismet </h4>
<p />
<img src="rsrc/Three/KismetOnlineSubsystem/KismetOnlineSubsystem_15.png" alt="KismetOnlineSubsystem_15.png" width='800' height='583' />
<p />
<p />
<h2><a name="Downloads"></a> Downloads </h2>
<hr size="1" noshade="noshade"> <ul>
<li> <a href="rsrc/Three/KismetOnlineSubsystem/KismetOnlineSubsystem-SrcOnly-10-02-2012.zip" target="_top">Download</a> the Kismet Online Subsystem source only.
</li> <li> <a href="rsrc/Three/KismetOnlineSubsystem/KismetOnlineSubsystem-10-02-2012.zip" target="_top">Download</a> the Kismet Online Subsystem with example maps provided.
</li> <li> Download the Jazz Jackrabbit Example <ul>
<li> <a href="rsrc/Three/KismetOnlineSubsystem/KismetOnlineSubsystem-JazzExample-10-02-2012.zip.001" target="_top">Part 1</a>
</li> <li> <a href="rsrc/Three/KismetOnlineSubsystem/KismetOnlineSubsystem-JazzExample-10-02-2012.zip.002" target="_top">Part 2</a>
</li> <li> <a href="rsrc/Three/KismetOnlineSubsystem/KismetOnlineSubsystem-JazzExample-10-02-2012.zip.003" target="_top">Part 3</a>
</li> <li> <a href="rsrc/Three/KismetOnlineSubsystem/KismetOnlineSubsystem-JazzExample-10-02-2012.zip.004" target="_top">Part 4</a>
</li></ul>
</li></ul>
</noautolink>
<p />
<p />
<p />
<p />
<p />
<p />


<!-- BEGIN UE4 NOTICE -->



<div id="version_message" style="display:none;">

    <div style="position:fixed;top:0px;left:0px;width:100%;height:100%;background:#000;opacity:0.5;">

    </div>

    <div style="position:fixed;top:50%;left:50%;margin:-70px 0px 0px -240px;background:#FFF;border-radius:6px;width:480px;box-shadow:0px 5px 30px -5px rgba(0,0,0,0.9);">

        <div style="font-size:16px;font-weight:bold;background: url(rsrc/Three/warning.png) no-repeat scroll 5px 5px;padding:4px 10px 5px 25px;height:21px;width:440px;">

            Important!

        </div>

        <div style="font-size:11px;padding:5px 10px 10px;width:460px;">

            <p>You are viewing documentation for the <strong>Unreal Development Kit (UDK)</strong>.</p>



            <p>If you are looking for the Unreal Engine 4 documentation, please visit the <a style="color:#000;" href="https://docs.unrealengine.com">Unreal Engine 4 Documentation</a> site.</p>

        </div>

        <div style="height:20px;padding:4px;margin:6px;border-top:1px solid #a0a0a0;">

            <form onsubmit="return closeVersionMessage();">

                <input type="checkbox" id="dismiss" value="dismiss" />

                <label for="dsimiss">Don't show me this again</label>

                <input type="submit" value="Close" style="cursor:pointer;float:right;width:60px;color:#f0f0f0;font-weight:bold;background:#882222;height:24px;padding:2px 3px 3px;text-align:center;border:1px outset #000;" />

            </form>

        </div>

    </div>

</div>



<script type="text/javascript">

    window.onload = function () {

        LoadVersionMessage();

    }



    function LoadVersionMessage()

    {

        var showMessage = "false";

        if(showMessage != "false")

        {

            showVersionMessage();

        }

    }



    function showVersionMessage()

    {

        var message = document.getElementById("version_message");

        if(message)

        {

            message.style.display = "block";

        }

    }



    function closeVersionMessage() {

        var dismiss = document.getElementById("dismiss");

        var message = document.getElementById("version_message");

        if (message) {

            message.style.display = "none";

        }

        if (dismiss.checked) {

            eraseCookie("doc_version_message");

            createCookie("doc_version_message", "false", 365);

            dismiss.checked = false;

        }

        return false;

    }



    function createCookie(name, value, days) {

        if (days) {

            var date = new Date();

            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));

            var expires = "; expires=" + date.toGMTString();

        }

        else var expires = "";

        document.cookie = name + "=" + value + expires + "; path=/";

    }



    function readCookie(name) {

        var nameEQ = name + "=";

        var ca = document.cookie.split(';');

        for (var i = 0; i < ca.length; i++) {

            var c = ca[i];

            while (c.charAt(0) == ' ') c = c.substring(1, c.length);

            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);

        }

        return null;

    }



    function eraseCookie(name) {

        createCookie(name, "", -1);

    }

</script>



<!-- END UE4 NOTICE -->



</div></div><div id="footer"><div style="BACKGROUND-COLOR: transparent; margin: 0; padding: 0; width: 100%;"><div>&nbsp;</div><div style="float: left; text-align: left; vertical-align: bottom; width: 50%;"><a href="http://www.videogamevoters.org"><img src="rsrc/vgvn.jpg" border="0" width="234" height="60" alt="Video Game Voters Network" /></a></div><div style="float: right; text-align: right; vertical-align: bottom; width: 50%;">Copyright &copy; 2001-2012 <a href="http://www.epicgames.com" target="_top">Epic Games, Inc.</a><br /><a href="../Main/TermsAndConditions.html" class="twikiLink">Terms and Conditions</a><br /><a href="http://epicgames.com/privacynotice" target="_top">Privacy Notice</a></div></div></div></div>
<p />
</html></body>
