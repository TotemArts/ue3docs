<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title> UDK | ParticleSpriteSubUVEmitterTutorial    </title>

<style type="text/css" media="all">@import "rsrc/twiki_webs.css";</style>
<style type="text/css" media="all">@import "rsrc/udn_new.css";</style>
<link rel="icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />


<!-- view.static_udn3.tmpl  -->
<script language="JavaScript" type="text/javascript" src="rsrc/udn.js"></script>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

</head>
<p />
<body id="webbgThree">
<p />

<p />
<div id="webThree"><div id="head">
<!--
<div class="header">
 -->
<div style="background: url(/pub/webbg_udn.jpg); background-repeat: no-repeat; height:140px; width: 100%;" >
<!--
<div style="background: transparent url(/pub/udn_header_bg.jpg); background-repeat: repeat-x; height:140px; width: 100%; margin-left: 991px;">
 -->
<p />
<div id="nav">
<ul class="nav">
<font color=black>|</font>&nbsp;&nbsp;<li class=nav_Three><a href="../Main/WebHome.html" class="twikiLink">Main</a></li><font color=black>|</font><li class=nav_Three><a href="../Two/WebHome.html" class="twikiLink">UnrealEngine2</a></li><font color=black>|</font><li class=nav_Three><a href="WebHome.html" class="twikiLink">UnrealEngine3</a></li><font color=black>|</font><li class=nav_Three><a href="https://docs.unrealengine.com" class="twikiLink">UnrealEngine4</a></li><font color=black>|</font><li class=nav_Three><a href="../Main/BusinessAndLegal.html" class="twikiLink">Business &amp; Legal</a></li><font color=black>|</font>
</ul><br><br><br>
</div>
</div>
</div> <!-- end head -->
<div id="pagedefault">
<div id="maincol">
<div id="tool">
<div id="tooltop">UDN</div>
<div id="tooltext" style="padding: 10px 10px 10px 10px;">
Search public documentation: <br>
<form ACTION="/search/index.php" METHOD="GET" NAME="main" ID="main">
<input TYPE="TEXT" NAME="q" SIZE="15" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;">
<input TYPE="SUBMIT" VALUE="Search" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;"><br>
</form>
</div>
<div id="toolband">ParticleSpriteSubUVEmitterTutorial  </b></div>
<div id="tooltext">
<a href="ParticleSpriteSubUVEmitterTutorialJP.html" class="twikiLink">日本語訳</a><br><a href="ParticleSpriteSubUVEmitterTutorialCH.html" class="twikiLink">中国翻译</a><br><a href="ParticleSpriteSubUVEmitterTutorialKR.html" class="twikiLink">한국어</a><br>

<!-- Three/ParticleSpriteSubUVEmitterTutorial -->
<hr size="1" noshade="noshade" />
Interested in the Unreal Engine? <br>
Visit the <a href="http://www.unrealtechnology.com" target="_top">Unreal Technology</a> site.<br>
<br>
Looking for jobs and company info? <br>
Check out the <a href="http://www.epicgames.com" target="_top">Epic games</a> site.<br>
<br>
Questions about support via UDN? <br>
Contact the <a href="../Main/ContactUDNStaff.html" class="twikiLink">UDN Staff</a> <br>
<br>
</div> <!-- end toolbox content -->
<div id="toolbottom"></div>
</div> <!-- end tool -->
<p />
<noautolink>
<p />
<div style="padding:0px 0px 0px 4px;font:10px Verdana;">
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="ParticlesAndEffectsHome.html" class="twikiLink">Particle &amp; Effects</a></b> &gt; <b><a href="ParticleSystemsHome.html" class="twikiLink">Particles Systems</a></b> &gt; Particles SubUV Tutorial <br/>
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="FXArtistHome.html" class="twikiLink">FX Artist</a></b> &gt; Particles SubUV Tutorial
</div>
<hr size="1" noshade="noshade">
<h1><a name="Particles _SubUV Tutorial"></a> Particles SubUV Tutorial </h1>
<hr size="1" noshade="noshade">
<p />
<p />
<div class="twikiToc"> <ul>
<li> <a href="ParticleSpriteSubUVEmitterTutorial.html#Particles _SubUV Tutorial"> Particles SubUV Tutorial</a> <ul>
<li> <a href="ParticleSpriteSubUVEmitterTutorial.html#Overview"> Overview</a>
</li> <li> <a href="ParticleSpriteSubUVEmitterTutorial.html#Create a new _ParticleSystem"> Create a new ParticleSystem</a>
</li> <li> <a href="ParticleSpriteSubUVEmitterTutorial.html#Import a Texture"> Import a Texture</a>
</li> <li> <a href="ParticleSpriteSubUVEmitterTutorial.html#Create a _ParticleSubUV Material"> Create a ParticleSubUV Material</a>
</li> <li> <a href="ParticleSpriteSubUVEmitterTutorial.html#The View So Far"> The View So Far</a>
</li> <li> <a href="ParticleSpriteSubUVEmitterTutorial.html#Create the Particle _SubUV Emitter"> Create the Particle SubUV Emitter</a>
</li> <li> <a href="ParticleSpriteSubUVEmitterTutorial.html#Setting up the _SubUV parameters"> Setting up the SubUV parameters</a>
</li> <li> <a href="ParticleSpriteSubUVEmitterTutorial.html#Setting the _SubImage Selection"> Setting the SubImage Selection</a>
</li></ul>
</li></ul>
</div>
<p />
<h2><a name="Overview"></a> Overview </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
The Unreal Engine's Particle System provides an emitter TypeDataModule that allows for the selection of sub-images from a source texture to be displayed on its particles. It works by allowing you to select the sub-image to display for a particular particle as a function of the lifetime of the particle. See the <a href="CascadeUserGuide.html" class="twikiLink">CascadeUserGuide</a> for a general description of the Cascade Particle Editor.
<p />
This document assumes you are familiar with the Content Browser, and with creating packages and objects within those packages.
<p />
<h2><a name="Create a new _ParticleSystem"></a> Create a new ParticleSystem </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
Start the editor, right-click in the Content Browser, and select "New ParticleSystem". The New window will pop-up, prompting you for a package name, object name, and the factory as shown below:
<p />
<p />
<img alt="PS_SubUV_01_New.jpg" src="rsrc/Three/ParticleSpriteSubUVEmitterTutorial/PS_SubUV_01_New.jpg" />
<p />
<p />
Enter the following information:
<table cellspacing="1" cellpadding="1" class="twikiTable" border="0"><tr><td bgcolor="#eaeaea" class="twikiFirstCol"> Package </td><td bgcolor="#eaeaea"> MyEmitters </td></tr>
<tr><td bgcolor="#ffffff" class="twikiFirstCol"> Group </td><td bgcolor="#ffffff"> &nbsp; </td></tr>
<tr><td bgcolor="#eaeaea" class="twikiFirstCol"> Name </td><td bgcolor="#eaeaea"> SubUV_Emitter </td></tr>
<tr><td bgcolor="#ffffff" class="twikiFirstCol"> Factory </td><td bgcolor="#ffffff"> should be on ParticleSystem </td></tr>
</table>
<p />
[[NOTE: If you have done other particle system tutorials, the MyEmitters package may already exist. In this case, if you do not want to lose the previous work and the package is not open, open the MyEmitters package and perform the right-click in the browser window for MyEmitters.]
<p />
This will result in the following insertion into your MyEmitters package:
<p />
<img alt="PS_SubUV_02_InitialBrowser.jpg" src="rsrc/Three/ParticleSpriteSubUVEmitterTutorial/PS_SubUV_02_InitialBrowser.jpg" />
<p />
<p />
<p />
<h2><a name="Import a Texture"></a> Import a Texture </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
In this example, we will be using a simple 'subdivided texture' called ColorQuads. The texture consists of a simple quartered color square scheme, with the alpha channel embedding the numbers 1, 2, 3, and 4 in each sub-square from left-to-right and top-to-bottom. This image allows for simple verification that the sub-image system is working.
<p />
After importing the texture, MyEmitters in the browser should look similar to the shot below:
<p />
<p />
<img alt="PS_SubUV_03_AddTexture.jpg" src="rsrc/Three/ParticleSpriteSubUVEmitterTutorial/PS_SubUV_03_AddTexture.jpg" />
<p />
<p />
<p />
<h2><a name="Create a _ParticleSubUV Material"></a> Create a ParticleSubUV Material </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
The next step is to create a material that will be applied to the sprites generated by the particle emitter. Right-click in the MyEmitters browser window and select "New Material". Name the material "SubUV_Mat" and open it in the Material Editor.
<p />
In the case of Sub-UV emitters, a special material expression, ParticleSubUV, must be used. First select the ColorQuads texture in the Content Browser, then right-click in the material editor window and pick it from the list as shown below:
<p />
<p />
<img alt="PS_SubUV_04_Mtrl_NewExp.jpg" src="rsrc/Three/ParticleSpriteSubUVEmitterTutorial/PS_SubUV_04_Mtrl_NewExp.jpg" />
<p />
<p />
<p />
The following material expression widget will appear in the editor:
<p />
<img alt="PS_SubUV_05_Mtrl_ExpPic.jpg" src="rsrc/Three/ParticleSpriteSubUVEmitterTutorial/PS_SubUV_05_Mtrl_ExpPic.jpg" />
<p />
<p />
The next step is to `hook-up' the SubUV expression to the output of the material. In this simple case, just run the RGB output to the Emissive input, and the Alpha output to the Opacity, as shown below:
<p />
<img alt="PS_SubUV_07_Mtrl_HookUp.jpg" src="rsrc/Three/ParticleSpriteSubUVEmitterTutorial/PS_SubUV_07_Mtrl_HookUp.jpg" />
<p />
<p />
If desired, the blend mode of the material can be set according to how you want the particles to be drawn. In this case, we will use "BLEND_Translucent", so select it as shown in the screen shot below:
<p />
<img alt="PS_SubUV_08_Mtrl_Translucent.jpg" src="rsrc/Three/ParticleSpriteSubUVEmitterTutorial/PS_SubUV_08_Mtrl_Translucent.jpg" />
<p />
<p />
<h2><a name="The View So Far"></a> The View So Far </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
Provided this tutorial was started with no MyEmitters package, the browser window should look similar to the following:
<p />
<img alt="PS_SubUV_09_ReadyToEdit.jpg" src="rsrc/Three/ParticleSpriteSubUVEmitterTutorial/PS_SubUV_09_ReadyToEdit.jpg" />
<p />
<p />
<h2><a name="Create the Particle _SubUV Emitter"></a> Create the Particle SubUV Emitter </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
To open the Particle Editor, Cascade, right-click on the ParticleSystem and select it from the menu as shown below:
<p />
<img alt="PS_SubUV_10_OpenEditor.jpg" src="rsrc/Three/ParticleSpriteSubUVEmitterTutorial/PS_SubUV_10_OpenEditor.jpg" />
<p />
<p />
Once Cascade opens, select the SubUV_Mat in the Content Broswer and right-click the `emitter bar' and select "New ParticleSpriteEmitter" as shown below:
<p />
<img alt="PS_SubUV_11_CreateNew.jpg" src="rsrc/Three/ParticleSpriteSubUVEmitterTutorial/PS_SubUV_11_CreateNew.jpg" />
<p />
At this point, you should see the following view in Cascade, showing the newly created Emitter in the preview window:
<p />
<img alt="PS_SubUV_12_CascadeView.jpg" src="rsrc/Three/ParticleSpriteSubUVEmitterTutorial/PS_SubUV_12_CascadeView.jpg" />
<p />
<p />
Located in the 'Required' class are the SubUV-related settings: the InterpolationMethod, and the Horizontal and Vertical sub-image counts for the texture.
<p />
<img alt="Emitter_SubUV.jpg" src="rsrc/Three/ParticleSpriteSubUVEmitterTutorial/Emitter_SubUV.jpg" />
<p />
<p />
<h2><a name="Setting up the _SubUV parameters"></a> Setting up the SubUV parameters </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
Enter the following information for the given fields:
<p />
<table cellspacing="1" cellpadding="1" class="twikiTable" border="0"><tr><td bgcolor="#eaeaea" class="twikiFirstCol"> SubImages_Horizontal </td><td bgcolor="#eaeaea"> 2 </td></tr>
<tr><td bgcolor="#ffffff" class="twikiFirstCol"> SubImages_Vertical </td><td bgcolor="#ffffff"> 2 </td></tr>
<tr><td bgcolor="#eaeaea" class="twikiFirstCol"> InterpolationMethod </td><td bgcolor="#eaeaea"> PSSUV_Linear </td></tr>
</table>
<p />
This informs the emitter that the sub-images are laid out in a 2x2 grid, and that the interpolation should be in a linear fashion between sub-images.
<p />
<p />
<img alt="Emitter_Running.jpg" src="rsrc/Three/ParticleSpriteSubUVEmitterTutorial/Emitter_Running.jpg" />
<p />
<p />
As you can see, the emitter is selecting the `first' sub-image for the supplied texture, as the default sub-image index will be a constant 0.
<p />
<h2><a name="Setting the _SubImage Selection"></a> Setting the SubImage Selection </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
Add a SubImage index module to the Emitter by right-clicking and selecting it from the list. The properties for this module will now be displayed in the lower-left panel of Cascade. There is only one piece of information contained in the SubImageIndex module, and that is a scalar distribution named "SubImageIndex".
<p />
<p />
<img alt="PS_SubUV_17_SIIUniform.jpg" src="rsrc/Three/ParticleSpriteSubUVEmitterTutorial/PS_SubUV_17_SIIUniform.jpg" />
<p />
Switch the distribution to a Constant Curve by clicking on the blue arrow and selecting it from the list.
<p />
<img alt="PS_SubUV_17_SIIUniform2.jpg" src="rsrc/Three/ParticleSpriteSubUVEmitterTutorial/PS_SubUV_17_SIIUniform2.jpg" />
<p />
Click on the small green 'graph button' on the SubImage Index module of the emitter to add the curve to the curve editor.
<p />
<img alt="PS_SubUV_17_graph.jpg" src="rsrc/Three/ParticleSpriteSubUVEmitterTutorial/PS_SubUV_17_graph.jpg" />
<p />
Add a curve with data points at the following increments:
<table cellspacing="1" cellpadding="1" class="twikiTable" border="0"><tr><td bgcolor="#eaeaea" class="twikiFirstCol"> Time </td><td bgcolor="#eaeaea"> Value </td></tr>
<tr><td bgcolor="#ffffff" class="twikiFirstCol"> 0.00 </td><td bgcolor="#ffffff"> 0.00 </td></tr>
<tr><td bgcolor="#eaeaea" class="twikiFirstCol"> 0.75 </td><td bgcolor="#eaeaea"> 3.01 </td></tr>
</table>
<p />
This will generate an emitter that smoothly transitions between all of the existing sub-images, giving each one approximately 25% of the lifetime of the particle. Below is a screenshot:
<p />
<img alt="PS_SubUV_18_SIIConstCurve.jpg" src="rsrc/Three/ParticleSpriteSubUVEmitterTutorial/PS_SubUV_18_SIIConstCurve.jpg" />
<p />
<p />
<p />
The MyEmitter package is available <a href="rsrc/Three/ParticleSpriteSubUVEmitterTutorial/MyEmitters.upk" target="_top">here</a>.
<p />
</noautolink>
<p />
<p />
<p />
<p />
<p />
<p />


<!-- BEGIN UE4 NOTICE -->



<div id="version_message" style="display:none;">

    <div style="position:fixed;top:0px;left:0px;width:100%;height:100%;background:#000;opacity:0.5;">

    </div>

    <div style="position:fixed;top:50%;left:50%;margin:-70px 0px 0px -240px;background:#FFF;border-radius:6px;width:480px;box-shadow:0px 5px 30px -5px rgba(0,0,0,0.9);">

        <div style="font-size:16px;font-weight:bold;background: url(rsrc/Three/warning.png) no-repeat scroll 5px 5px;padding:4px 10px 5px 25px;height:21px;width:440px;">

            Important!

        </div>

        <div style="font-size:11px;padding:5px 10px 10px;width:460px;">

            <p>You are viewing documentation for the <strong>Unreal Development Kit (UDK)</strong>.</p>



            <p>If you are looking for the Unreal Engine 4 documentation, please visit the <a style="color:#000;" href="https://docs.unrealengine.com">Unreal Engine 4 Documentation</a> site.</p>

        </div>

        <div style="height:20px;padding:4px;margin:6px;border-top:1px solid #a0a0a0;">

            <form onsubmit="return closeVersionMessage();">

                <input type="checkbox" id="dismiss" value="dismiss" />

                <label for="dsimiss">Don't show me this again</label>

                <input type="submit" value="Close" style="cursor:pointer;float:right;width:60px;color:#f0f0f0;font-weight:bold;background:#882222;height:24px;padding:2px 3px 3px;text-align:center;border:1px outset #000;" />

            </form>

        </div>

    </div>

</div>



<script type="text/javascript">

    window.onload = function () {

        LoadVersionMessage();

    }



    function LoadVersionMessage()

    {

        var showMessage = "false";
        if(showMessage != "false")

        {

            showVersionMessage();

        }

    }



    function showVersionMessage()

    {

        var message = document.getElementById("version_message");

        if(message)

        {

            message.style.display = "block";

        }

    }



    function closeVersionMessage() {

        var dismiss = document.getElementById("dismiss");

        var message = document.getElementById("version_message");

        if (message) {

            message.style.display = "none";

        }

        if (dismiss.checked) {

            eraseCookie("doc_version_message");

            createCookie("doc_version_message", "false", 365);

            dismiss.checked = false;

        }

        return false;

    }



    function createCookie(name, value, days) {

        if (days) {

            var date = new Date();

            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));

            var expires = "; expires=" + date.toGMTString();

        }

        else var expires = "";

        document.cookie = name + "=" + value + expires + "; path=/";

    }



    function readCookie(name) {

        var nameEQ = name + "=";

        var ca = document.cookie.split(';');

        for (var i = 0; i < ca.length; i++) {

            var c = ca[i];

            while (c.charAt(0) == ' ') c = c.substring(1, c.length);

            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);

        }

        return null;

    }



    function eraseCookie(name) {

        createCookie(name, "", -1);

    }

</script>



<!-- END UE4 NOTICE -->



</div></div><div id="footer"><div style="BACKGROUND-COLOR: transparent; margin: 0; padding: 0; width: 100%;"><div>&nbsp;</div><div style="float: left; text-align: left; vertical-align: bottom; width: 50%;"><a href="http://www.videogamevoters.org"><img src="rsrc/vgvn.jpg" border="0" width="234" height="60" alt="Video Game Voters Network" /></a></div><div style="float: right; text-align: right; vertical-align: bottom; width: 50%;">Copyright &copy; 2001-2012 <a href="http://www.epicgames.com" target="_top">Epic Games, Inc.</a><br /><a href="../Main/TermsAndConditions.html" class="twikiLink">Terms and Conditions</a><br /><a href="http://epicgames.com/privacynotice" target="_top">Privacy Notice</a></div></div></div></div>
<p />
</html></body>
