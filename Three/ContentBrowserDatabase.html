<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title> UDK | ContentBrowserDatabase    </title>

<style type="text/css" media="all">@import "rsrc/twiki_webs.css";</style>
<style type="text/css" media="all">@import "rsrc/udn_new.css";</style>
<link rel="icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />


<!-- view.static_udn3.tmpl  -->
<script language="JavaScript" type="text/javascript" src="rsrc/udn.js"></script>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

</head>
<p />
<body id="webbgThree">
<p />

<p />
<div id="webThree"><div id="head">
<!--
<div class="header">
 -->
<div style="background: url(/pub/webbg_udn.jpg); background-repeat: no-repeat; height:140px; width: 100%;" >
<!--
<div style="background: transparent url(/pub/udn_header_bg.jpg); background-repeat: repeat-x; height:140px; width: 100%; margin-left: 991px;">
 -->
<p />
<div id="nav">
<ul class="nav">
<font color=black>|</font>&nbsp;&nbsp;<li class=nav_Three><a href="../Main/WebHome.html" class="twikiLink">Main</a></li><font color=black>|</font><li class=nav_Three><a href="../Two/WebHome.html" class="twikiLink">UnrealEngine2</a></li><font color=black>|</font><li class=nav_Three><a href="WebHome.html" class="twikiLink">UnrealEngine3</a></li><font color=black>|</font><li class=nav_Three><a href="https://docs.unrealengine.com" class="twikiLink">UnrealEngine4</a></li><font color=black>|</font><li class=nav_Three><a href="../Main/BusinessAndLegal.html" class="twikiLink">Business &amp; Legal</a></li><font color=black>|</font>
</ul><br><br><br>
</div>
</div>
</div> <!-- end head -->
<div id="pagedefault">
<div id="maincol">
<div id="tool">
<div id="tooltop">UDN</div>
<div id="tooltext" style="padding: 10px 10px 10px 10px;">
Search public documentation: <br>
<form ACTION="/search/index.php" METHOD="GET" NAME="main" ID="main">
<input TYPE="TEXT" NAME="q" SIZE="15" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;">
<input TYPE="SUBMIT" VALUE="Search" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;"><br>
</form>
</div>
<div id="toolband">ContentBrowserDatabase  </b></div>
<div id="tooltext">
<a href="ContentBrowserDatabaseJP.html" class="twikiLink">日本語訳</a><br><a href="ContentBrowserDatabaseCH.html" class="twikiLink">中国翻译</a><br><a href="ContentBrowserDatabaseKR.html" class="twikiLink">한국어</a><br>

<!-- Three/ContentBrowserDatabase -->
<hr size="1" noshade="noshade" />
Interested in the Unreal Engine? <br>
Visit the <a href="http://www.unrealtechnology.com" target="_top">Unreal Technology</a> site.<br>
<br>
Looking for jobs and company info? <br>
Check out the <a href="http://www.epicgames.com" target="_top">Epic games</a> site.<br>
<br>
Questions about support via UDN? <br>
Contact the <a href="../Main/ContactUDNStaff.html" class="twikiLink">UDN Staff</a> <br>
<br>
</div> <!-- end toolbox content -->
<div id="toolbottom"></div>
</div> <!-- end tool -->
<p />
<noautolink>
<p />
<div style="padding:0px 0px 0px 4px;font:10px Verdana;">
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="EditorAndToolsHome.html" class="twikiLink">Unreal Editor and Tools</a></b> &gt; Content Browser Database <br/>
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="LevelDesignerHome.html" class="twikiLink">Level Designer</a></b> &gt; Content Browser Database <br/>
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="TechnicalArtistHome.html" class="twikiLink">Technical Artist</a></b> &gt; Content Browser Database
</div>
<hr size="1" noshade="noshade">
<h1><a name="Content Browser Database"></a> Content Browser Database </h1>
<hr size="1" noshade="noshade">
<p />
<div class="twikiToc"> <ul>
<li> <a href="ContentBrowserDatabase.html#Content Browser Database"> Content Browser Database</a> <ul>
<li> <a href="ContentBrowserDatabase.html#Overview"> Overview</a>
</li> <li> <a href="ContentBrowserDatabase.html#Why do I need a game asset database?"> Why do I need a game asset database?</a>
</li> <li> <a href="ContentBrowserDatabase.html#Content Browser Database Interaction"> Content Browser Database Interaction</a>
</li> <li> <a href="ContentBrowserDatabase.html#Build System Database Interaction"> Build System Database Interaction</a>
</li> <li> <a href="ContentBrowserDatabase.html#Database Setup"> Database Setup</a>
</li> <li> <a href="ContentBrowserDatabase.html#This seems like a lot of work..."> This seems like a lot of work...</a>
</li> <li> <a href="ContentBrowserDatabase.html#Create a checkpoint file"> Create a checkpoint file</a>
</li> <li> <a href="ContentBrowserDatabase.html#Regularly checkpointing game content"> Regularly checkpointing game content</a>
</li> <li> <a href="ContentBrowserDatabase.html#Setting up the journal server"> Setting up the journal server</a>
</li> <li> <a href="ContentBrowserDatabase.html#Installing MS SQL Server"> Installing MS SQL Server</a>
</li> <li> <a href="ContentBrowserDatabase.html#Automatic journal server setup (recommended!)"> Automatic journal server setup (recommended!)</a>
</li> <li> <a href="ContentBrowserDatabase.html#Manual journal server setup (only if needed)"> Manual journal server setup (only if needed)</a>
</li> <li> <a href="ContentBrowserDatabase.html#Configure Unreal Editor"> Configure Unreal Editor</a>
</li> <li> <a href="ContentBrowserDatabase.html#Generating thumbnails for assets"> Generating thumbnails for assets</a>
</li> <li> <a href="ContentBrowserDatabase.html#Advanced topics"> Advanced topics</a> <ul>
<li> <a href="ContentBrowserDatabase.html#Offline Mode"> Offline Mode</a> <ul>
<li> <a href="ContentBrowserDatabase.html#Offline Journal Alarm"> Offline Journal Alarm </a>
</li></ul>
</li> <li> <a href="ContentBrowserDatabase.html#Checkpoint commandlet options"> Checkpoint commandlet options</a>
</li> <li> <a href="ContentBrowserDatabase.html#Importing legacy content tags"> Importing legacy content tags</a>
</li> <li> <a href="ContentBrowserDatabase.html#Unverified assets and Ghosts"> Unverified assets and Ghosts</a>
</li></ul>
</li></ul>
</li></ul>
</div>
<p />
<p />
<h2><a name="Overview"></a> Overview </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
The <a href="ContentBrowserReference.html" class="twikiLink">Content Browser</a> uses a special database backend for storing assets, tags and collections.
<p />
We call this system the <strong>Game Asset Database</strong> (or <strong>GAD</strong> for short), but it's really a mixture of several database components:  A <em>journal server</em>, a <em>checkpoint file</em>, <em>thumbnail storage</em> and an <em>in-memory database</em>.  There is also a <em>checkpoint commandlet</em> that is used to update and maintain the database.
<p />
All of this is pretty much transparent to a user working in the Content Browser -- but it adds some nice features.
<p />
<p />
<h2><a name="Why do I need a game asset database?"></a> Why do I need a game asset database? </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
The game asset database certainly adds complexity, but there are important benefits to this system:
<p /> <ul>
<li> All game content is instantly available for browsing, whether it's loaded or not.
</li> <li> Users never have to check out packages to tag assets or add them to collections.
</li> <li> Thumbnails are displayed for all game assets, even assets that aren't loaded.
</li> <li> All tag data is still properly source-controlled (e.g. roll backs are possible.)
</li></ul>
<p />
In the editor, most common interactions with non-loaded assets are supported.  The editor will simply load the asset on demand before the action is executed.  For example, if the user drags and drops an unloaded static mesh into the 3D viewport the Content Browser will automatically load the mesh before placing it.
<p />
<p />
<h2><a name="Content Browser Database Interaction"></a> Content Browser Database Interaction </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
When the editor starts up it first loads all asset names, tags and collections from a read-only <em>checkpoint file</em>.  This file represents the state of all tags in the game at the time the last checkpoint process was run (at least once per day.)  Next the editor connects to the <em>journal server</em> and downloads any recently-applied tags.
<p />
The Content Browser now knows about all assets, packages, groups, tags and collections in the entire game.  The user can browse all game assets (loaded or not) using the graphical interface.  <em>Thumbnails</em> for loaded assets will be generated dynamically, but thumbnails for non-loaded assets will be quickly loaded straight from their <em>asset package</em> files.
<p />
When the user decides to tag an asset, the Content Browser updates it's <em>in-memory database</em> with the change, then immediately connects to the <em>journal server</em> and uploads the tag command.  Note that the <em>checkpoint file</em> is never modified by the Editor -- all changes are routed to the <em>journal server</em> and resolved later on during by the <em>checkpoint commandlet</em>.
<p />
The following chart shows how the Content Browser interacts with the game asset database.
<p />
<img alt="ContentBrowserDatabase_UserFlow.png" src="rsrc/Three/ContentBrowserDatabase/ContentBrowserDatabase_UserFlow.png" />
<p />
Additionally, it's possible to run the editor in "Offline Mode" which allows for limited functionality without using a live server.  See the section near this bottom of this page about "Offline Mode" for more information about that.
<p />
<p />
<h2><a name="Build System Database Interaction"></a> Build System Database Interaction </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
The following chart shows how a script running on a build machine generates and maintains asset database data.  It seems complicated at first but it's actually very straightforward and easy to maintain.
<p />
<img alt="ContentBrowserDatabase_BuildMachineFlow.png" src="rsrc/Three/ContentBrowserDatabase/ContentBrowserDatabase_BuildMachineFlow.png" />
<p />
<p />
<p />
<h2><a name="Database Setup"></a> Database Setup </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
Here is a brief outline of the steps required to setup the Game Asset Database as well as the checkpointing process:
<p /> <ul>
<li> Run a commandlet to create a new Checkpoint file for your game.
</li></ul>
<p /> <ul>
<li> Setup a regular build process to 'checkpoint' the asset database and update the file in source control. (We run this automatically every night.)
</li></ul>
<p /> <ul>
<li> Install and configure the <em>journal server</em>.
</li></ul>
<p /> <ul>
<li> Set the database/branch settings in each game's editor configuration file.
</li></ul>
<p /> <ul>
<li> Optionally, resave all asset packages to automatically generate thumbnails (only if necessary)
</li></ul>
<p />
<p />
<h2><a name="This seems like a lot of work..."></a> This seems like a lot of work... </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
The Content Browser <em>can</em> operate without a checkpoint file or journal server.  We don't recommend it, but here's is what you'll end up with:
<p />
<strong>Without a checkpoint file:</strong> <ul>
<li> Users won't be able to browse the entirety of the game's content.  Only loaded assets will be searchable and interactive.
</li> <li> Some types of meta data won't be available (e.g. the date an asset was added.)
</li> <li> The experience will be similar to that of the Generic Browser, except you'll still see all packages and directories.
</li></ul>
<p />
It's pretty easy and fast to create a checkpoint file, even locally, so you shouldn't have to resort to that.
<p />
<strong>Without a journal server:</strong>
<p /> <ul>
<li> Users won't be able to tag assets or search by tags (except in Offline Mode)
</li> <li> Users can't place assets into collections, even private collections (except in Offline Mode.)
</li> <li> Users can't share tags and collections with others
</li> <li> Various "live" features won't be available
</li></ul>
<p />
No way you'd want to give up all those goodies, right?  Totally worth the effort!  Read on to learn about how to get up and running.
<p />
<p />
<h2><a name="Create a checkpoint file"></a> Create a checkpoint file </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
First you'll need to create a initial <em>checkpoint file</em> for each of your games.
<p />
Games have a single GAD checkpoint file stored as <strong>/MyGame/Content/GameAssetDatabase.checkpoint</strong>.  This is a binary file that stores meta data for all assets in the entire game (including all engine assets.)  The editor will load the checkpoint file into memory at startup where it will be used by the Content Browser to locate assets quickly.
<p />
It's easy to create a checkpoint file:
<p /> <ul>
<li> Make sure you're synced up to the latest game content
</li> <li> Run the checkpoint commandlet: <ul>
<li> <strong>MyGame.exe CheckpointGameAssetDatabase</strong>
</li></ul>
</li> <li> <em>(It will take a few minutes as it digests all of the game content.)</em>
</li> <li> That's it!  You now have a working checkpoint file for this game. <ul>
<li> If you load up the editor you'll now be able to browse all assets in the game using the <a href="ContentBrowserReference.html" class="twikiLink">Content Browser</a>.
</li></ul>
</li> <li> Normally, you should check this file into source control.  You can read more about that in the next section.
</li></ul>
<p />
<p />
The checkpoint commandlet doesn't usually need any extra parameters, but there are some options you may use from time to time.  See the section below for more info.
<p />
<p />
<p />
<h2><a name="Regularly checkpointing game content"></a> Regularly checkpointing game content </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
There is some flexibility as to how you handle this part.  Here's how we have things setup at Epic:
<p /> <ul>
<li> Every night around 3:00 AM, a machine running our build system (<em>Controller</em>) executes a build script (<em>CheckpointGAD.build</em>) that performs the following: <ul>
<li> For each game (or game branch): <ul>
<li> <strong>Syncs</strong> to the <em>last successful</em> <strong>engine build</strong> (including binaries).  Often, the last good build had just completed immediately prior.
</li> <li> <strong>Syncs all game content</strong> (and <em>only</em> game content) to the head revision.  This is so that the asset checkpoint will be as up-to-date as possible, even if we're running a slightly older build of the engine.
</li> <li> <strong>Checks out</strong> the game's <strong>GAD checkpoint file</strong> (<em>GameAssetDatabase.checkpoint</em>)
</li> <li> <strong>Executes</strong> the <strong>checkpoint commandlet</strong> to update the checkpoint file. <ul>
<li> <em>MyGame.exe CheckpointGameAssetDatabase</em>
</li> <li> The commandlet's output is checked for error text by the build system engine.  If something went wrong, the checkpoint fails and the file is reverted, and emails are sent to appropriate folks.
</li></ul>
</li> <li> <strong>Submits</strong> the updated <strong>GAD checkpoint file</strong> (<em>GameAssetDatabase.checkpoint</em>)
</li></ul>
</li></ul>
</li></ul>
<p />
Now, team members will sync the file each day along with the rest of the game's content and have access to the entirety of game assets in the state they were checkpointed in.  Note that there's no harm in running this process even more frequently than once per day if needed.  (We sometimes manually trigger GAD checkpoints in our build system during the day.)
<p />
<p />
<h2><a name="Setting up the journal server"></a> Setting up the journal server </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
This involves installing a SQL server and configuring it so your developers can read and write to it.
<p />
The Content Browser demands on SQL are extremely light so we recommend using the free 'Express Edition' of Microsoft SQL Server, but if you're already using the full version of MS SQL that will work great, too.  Remember, the server is only used as a scratchpad for newly-tagged assets and usually contains no more than a few thousand rows at any point in time.  Most of the actual GAD data is stored in a 'Checkpoint File' on disk.
<p />
<strong>Note:</strong>  If your team has no need for asset tags, collections and certain types of asset meta data (e.g. Date Added), you could skip the Journal server setup and rebuild the checkpoint file from scratch whenever you want to freshen your asset database.  It's up to you.
<p />
<p />
<p />
<h2><a name="Installing MS SQL Server"></a> Installing MS SQL Server </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
(Note: You can skip this step if the computer that's going to host your journal server already has a version of MS SQL Server install already.  For example, if your team has already purchased a copy of the unrestricted version of MS SQL Server you should probably use that instead.)
<p />
We recommend you install the free version of MS SQL Server Express Edition.  (We used the 2008 version, but 2005 should also work.)
<p /> <ul>
<li> The installer may warn you about some prerequisites that must be installed first (e.g. Windows Installer, Windows Powershell.)  Go ahead and install those first if prompted.
</li></ul>
<p /> <ul>
<li> For MS SQL Server Express 2008, you can use the default installation settings the entire way through.  If your using a different version of the application, make sure that MS SQL Server Management Studio is installed along with the server so you can easily edit/audit settings.
</li></ul>
<p /> <ul>
<li> If prompted for a Server Admin name you can you your own user name, or check with your IT department for what to use there.
</li></ul>
<p /> <ul>
<li> You can name the database whatever you'd like, just take note of it because we'll need that name later on when configuring Unreal Editor. <ul>
<li> The examples here will use the default database name:  <strong>SQLEXPRESS</strong>
</li></ul>
</li></ul>
<p />
<p />
<p />
<h2><a name="Automatic journal server setup (recommended!)"></a> Automatic journal server setup (recommended!) </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p /> <ul>
<li> Use the <strong>CreateContentJournal.sql</strong> script to create a journal server instance <ul>
<li> The script can be found in the UE3 source drop:  <strong>/Development/Src/Engine/SQL/CreateContentJournal.sql</strong>
</li> <li> Use the <strong>sqlcmd.exe</strong> command-line application to execute this script. <ul>
<li> You'll need to pass in the name of the computer running the server along with the server's name (unless it's the default server instance.)
</li> <li> You'll also pass in the path and file name of the <strong>CreateContentJournal.sql</strong> file from UDN
</li> <li> For example:  <em>sqlcmd -S Computer_Name\Server_Name -i CreateContentJournal.sql</em>
</li></ul>
</li> <li> If everything goes well you won't see any error messages, and your journal server is ready to rock!
</li></ul>
</li></ul>
<p /> <ul>
<li> Note:  Normal Windows authentication should be enabled by default on your new server, but you may need to talk to your IT department to make sure everything is configured such that your team member's computers can communicate with it directly.
</li></ul>
<p /> <ul>
<li> If for some reason you need to create the server instance manually, follow the steps in the next section.
</li></ul>
<p />
<p />
<h2><a name="Manual journal server setup (only if needed)"></a> Manual journal server setup (only if needed) </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
You only need to follow these steps in the unlikely case that the <strong>CreateContentJournal.sql</strong> script didn't work for you.  If you ran the script successfully, the database is already created and you can skip this entire section!
<p /> <ul>
<li> Load up MS SQL Server Management Studio and connect to your database.
</li></ul>
<p /> <ul>
<li> In the Object Explorer on the left, right click no "Databases" and click "New Database...".  The "New Database" dialog window will pop up. <ul>
<li> Set the "Database name" to:  <strong>ContentJournal</strong>
</li> <li> Click "OK" to close the dialog and save the new database.
</li></ul>
</li></ul>
<p /> <ul>
<li> Under "Databases" in the Object Explorer, expand "ContentJournal" so that you can see it's compnents (Tables, Views, etc.)
</li></ul>
<p /> <ul>
<li> Under "ContentJournal" in the Object Explorer, right click on "Tables" and click "New Table...".  The table designer will open up in the content area of the application. <ul>
<li> Configure the table's columns as such: <ul>
<li> First column: <ul>
<li> Set "Column Name" to:  <strong>DatabaseIndex</strong>
</li> <li> Set "Data Type" to:  <strong>int</strong>
</li> <li> Set "Allow Nulls" to:  <strong>No</strong> (Unchecked)
</li></ul>
</li> <li> First column's properties: <ul>
<li> Set "Identity Specification -&gt; (Is Identity)" to:  <strong>Yes</strong>
</li></ul>
</li> <li> Right click on the first column ("DatabaseIndex") and click "Set Primary Key"
</li> <li> Second column: <ul>
<li> Set "Column Name" to:  <strong>Text</strong>
</li> <li> Set "Data Type" to:  <strong>nvarchar(MAX)</strong>
</li> <li> Set "Allow Nulls" to:  <strong>No</strong> (Unchecked)
</li></ul>
</li></ul>
</li> <li> Press <em>Ctrl+S</em> to save the new table.  The save dialog will pop up. <ul>
<li> Save the new table with the following name:  <strong>Entries</strong>
</li></ul>
</li></ul>
</li></ul>
<p /> <ul>
<li> Great!  The journal server is now alive and kicking.
</li></ul>
<p /> <ul>
<li> Note:  Normal Windows authentication should be enabled by default on your new server, but you may need to talk to your IT department to make sure everything is configured such that your team member's computers can communicate with it directly.
</li></ul>
<p />
<h2><a name="Configure Unreal Editor"></a> Configure Unreal Editor </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
Okay, you're almost done!
<p />
After the journal server is setup, you'll need to tell UnrealEd where to find it.  Also you need to set the "branch name" for the particular source control branch of the game the editor is running from.
<p />

<p /> <ul>
<li> Open <strong>BaseEditor.ini</strong> in a text editor. (<strong>/Engine/Config/BaseEditor.ini</strong>) <ul>
<li> If you need a game-specific settings, you can make these changes in <strong>/MyGame/Config/DefaultEditor.ini</strong> instead
</li></ul>
</li></ul>
<p /> <ul>
<li> Locate the <strong>[GameAssetDatabase]</strong> section in the .ini file.  If it doesn't exist yet, then go ahead and create this section.
</li></ul>
<p /> <ul>
<li> Set <strong>JournalServer</strong> to the path to the journal SQL server (Computer_Name\SQL_Server_Name) <ul>
<li> For example:  <em>JournalServer=ServerComputer\MYSERVERNAME</em>
</li> <li> If your server is the <em>default SQL server instance</em> on the remote computer, then you can omit the server name <ul>
<li> For example:  <em>JournalServer=ServerComputer</em>
</li></ul>
</li></ul>
</li></ul>
<p /> <ul>
<li> Set <strong>BranchName</strong> appropriately for your game's <em>depot path</em>. <ul>
<li> For example:  <em>BranchName=Main</em>
</li> <li> You can use whatever name for your branch you think is appropriate, but you must use only alpha-numeric characters.
</li> <li> Try to keep the branch name somewhat short as it will be attached to every single journal entry.
</li></ul>
</li></ul>
<p /> <ul>
<li> While we're on the subject of .ini settings, there are a few user preferences that can be set for the Content Browser to allow or disallow creation and deletion of tags and collections.  You should have your art leads and tech artists enable tag creation by setting the following: <ul>
<li> In <strong>MyGameEditorUserSettings.ini</strong>, add a section for <strong>[ContentBrowserSecurity]</strong>
</li> <li> Under this section, set <strong>bIsUserTagAdmin=True</strong> and <strong>bIsUserCollectionsAdmin=true</strong>
</li> <li> Note that this isn't really supposed to be a security system -- it just helps to prevent people from accidentally destroying data.
</li></ul>
</li></ul>
<p />
<strong>Important:</strong>  The branch name must be set appropriately in all source control branches of your game, otherwise asset and tag data will collide between branches (which can be really, really bad.)  If you branch your game and have artists/LDs working in either branch, it's critical to update the BranchName in the new branch.
<p />
<p />
<h2><a name="Generating thumbnails for assets"></a> Generating thumbnails for assets </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
When the Content Browser needs to display a thumbnail for an asset that isn't currently loaded, it will check the asset's package to see if it has a thumbnail and quickly loads then displays it.  This happens without actually loading the asset's package or any of it's data.
<p />
Thumbnails are generated automatically for most asset types by UnrealEd.  You simply need load and <strong>save the package</strong> and the editor will make sure that thumbnails are rendered for all of the supported asset types.
<p />
If you're seeing a lot of assets in the Content Browser <em>missing thumbnails</em>, it probably means that the packages <strong>need to be resaved in UnrealEd</strong>.  Note that there are many asset types that don't support custom thumbnails yet (e.g. Sounds, CameraAnims, etc.)  Also note that you must save the packages in the editor to update the thumbnails.  Commandlets (such as ResavePackages) are unable to generate thumbnails as a renderer is required for this.
<p />
For loaded assets, the editor will generate their thumbnail in real-time (we don't load them from a package file.)
<p />
All thumbnails are cached in memory for a short while to improve performance, but most are evicted quickly to keep memory usage light.
<p />
<p />
<h2><a name="Advanced topics"></a> Advanced topics </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
<h3><a name="Offline Mode"></a> Offline Mode </h3>
<p />
It's possible to run the Content Browser in "Offline Mode", where no SQL connection is required but you can still make use of tagging and collections.
<p />
To use Offline Mode, set the following in your <Game>EditorUserSetings.ini file:
<p />
[GameAssetDatabase]
OfflineMode=true
<p />
Now, the editor won't bother trying to connect to a SQL database at startup.  Instead it will create a journal file on disk where your tagging and collection actions will be stored.
<p />
When working with tags and collections from a different PC, you'll need to make sure that your user name matches up.  For example if you're working from home through a VPN connection and want to interact with your private collections that you created at work, you'll need to set the "override user name" in your preferences file.
<p />
To set the "override user name", open <Game>EditorUserSettings.ini and set the following:
<p />
[GameAssetDatabase]
OverrideUserName=MyUserName
<p />
Note that in Offline Mode, you won't be able to share your tags or collections with other users.  However, if you eventually disable Offline Mode after a SQL database is available, the editor will automatically upload your accumulated tagging changes.
<p />
<p />
<h4><a name="Offline Journal Alarm"></a> Offline Journal Alarm </h4>
<p />
The first time the Editor is run, the date field "UserJournalUpdateAlarm" is added to UTEditorUserSettings.ini and set to 7 days in the future. This represents the next time the alarm will go off (Note - this is saved when the app closes).
<p />
To test: <ul>
<li> Set the time for this entry to a date prior to your next execution time to ensure the alarm will go off.
</li> <li> Restart the Editor.
</li> <li> Upon startup, you will see the following dialog:
</li></ul>
<img alt="JournalUpdateAlarm.png" src="rsrc/Three/ContentBrowserDatabase/JournalUpdateAlarm.png" />
<p /> <ul>
<li> "Check Now" will run the check point updating process, make a back up of the journal file, delete the original journal file, and set the alarm to 7 days in the future.
</li> <li> "Next Run" does nothing as the alarm time is properly set to go off for the next run.
</li> <li> "Wait a Day" and "Wait a Week" set the alarm time forward the expected amount of time from the current time.
</li></ul>
<p />
This can be enabled for Online builds by setting "[GameAssetDatabase]OfflineMode" to TRUE in UTEditor.ini and ensuring that "[GameAssetDatabase]UseJournalUpdateAlarm" is TRUE (it's the default). This should only be used for testing, as Epic and licensees should be using a content server. Similarly, setting "[GameAssetDatabase]UseJournalUpdateAlarm" to FALSE will disable the Asset Database Maintenance feature.
<p />
<p />
<h3><a name="Checkpoint commandlet options"></a> Checkpoint commandlet options </h3>
<p />
The commandlet has some additional options that you really shouldn't need to use except when debugging problems:
<p /> <ul>
<li> <strong>-NoDeletes</strong> tells the commandlet not to delete any expired journal entries from the SQL server.  Any entries that are older than the built-in threshold will be left in the database.  Note that if you always use this option your SQL database will grow very large and your editor startup performance will diminish.  The next time you run the checkpoint process <em>without</em> this argument it will go and the delete expired assets as per usual.
</li> <li> <strong>-ImportOldTags</strong> (<em>Removed in May 2009 QA Build, changelist 33172</em>) Imports legacy Content Tag data from all packages and merges that into the game asset database.  See the section below on importing legacy content tags for more information.
</li> <li> <strong>-PurgeGhosts</strong> forces the commandlet to immediately expire (delete) any Ghost asset entries from the database.  Normally ghost assets are automatically expired after a fixed number of days, unless the asset materializes in a package before then.
</li> <li> <strong>-Repair</strong> will attempt to repair any errors in the database.  Note that for errors, a repair constitutes eradicating the problematic entry from the database.
</li> <li> <strong>-Reset</strong> will build a fresh checkpoint file from scratch.  It will ignore all of the existing tags, collections, journal server data and meta data and wipe the slate clean.  You probably shouldn't use this unless you know what you're doing.
</li> <li> <strong>-Verify</strong> will only check the state of the database and report warnings.  It won't actually change anything or save state.
</li> <li> <strong>-DeleteCollections</strong> will delete both public and private collections
</li></ul>
<p />
<p />
<h3><a name="Importing legacy content tags"></a> Importing legacy content tags </h3>
<p />
The old Content Tag Browser and all related functionality, including the data in package files, was removed from UE3 in the May 2009 QA Build (changelist # 333172.)  If you already have a lot of content tags set on your assets and want to convert those to the new system, you'll have to follow the steps below:
<p /> <ul>
<li> Be careful not to resave any content packages using the May 09 QA build (changelist 333172) or later yet!  Resaving packages will <strong>destroy your content tags</strong>.
</li> <li> Either sync to the April 09 QA build, or sync the May 09 QA build <strong>except</strong> changelist 333172.
</li> <li> For each game, run the GAD commandlet to convert old content tags: <ul>
<li> MyGame.exe CheckpointGameAssetDatabase -ImportOldTags
</li></ul>
</li> <li> This will create a file (GameAssetDatabase.checkpoint) with all of your tags <ul>
<li> The Content Browser always loads tag data from this file
</li></ul>
</li> <li> Now you can sync up to a later QA build (all changelists) and you're good to go!
</li></ul>
<p />
<p />
<h3><a name="Unverified assets and Ghosts"></a> Unverified assets and Ghosts </h3>
<p />
From time to time you may see an asset in the Content Browser visually marked as <strong>Unverified</strong>.  This just means that the asset's information was downloaded from the journal server and has not yet been "blessed" by the checkpoint commandlet yet.
<p />
When the checkpoint process runs it will download the <em>unverified</em> assets from the journal server, then check to make sure these assets actually exist in game content. (Usually, your build system is performing the checkpointing, so this would mean the assets were submitted to source control.)
<p />
Assuming the asset was found by the checkpoint commandlet, the next time a user syncs to the latest checkpoint file, the assets will no longer be marked as <em>unverified</em>.
<p />
If, however, the asset wasn't found (because perhaps a user hasn't checked in a newly-created asset yet, or maybe never even saved it at all), the checkpoint tool will mark the asset as a <strong>Ghost</strong>.  Ghost assets don't exist on disk so are never displayed in the Content Browser, so most users will never even know about this feature.
<p />
Asset ghosts are still kept around in the database for a fixed number of days in case a user does end up checking in the asset.  This is important because the asset may already have tags or other metadata assigned to it, even though it hasn't been submitted to source control yet.  Eventually the ghost will expire and be deleted from the database.
<p />
If you never want to see other user's Unverified assets in the editor you can use the <strong>-NoLiveTags</strong> command-line parameter which tells the editor to only download information about assets that you created.
<p />
</noautolink>
<p />
<p />
<p />
<p />
<p />
<p />


<!-- BEGIN UE4 NOTICE -->



<div id="version_message" style="display:none;">

    <div style="position:fixed;top:0px;left:0px;width:100%;height:100%;background:#000;opacity:0.5;">

    </div>

    <div style="position:fixed;top:50%;left:50%;margin:-70px 0px 0px -240px;background:#FFF;border-radius:6px;width:480px;box-shadow:0px 5px 30px -5px rgba(0,0,0,0.9);">

        <div style="font-size:16px;font-weight:bold;background: url(rsrc/Three/warning.png) no-repeat scroll 5px 5px;padding:4px 10px 5px 25px;height:21px;width:440px;">

            Important!

        </div>

        <div style="font-size:11px;padding:5px 10px 10px;width:460px;">

            <p>You are viewing documentation for the <strong>Unreal Development Kit (UDK)</strong>.</p>



            <p>If you are looking for the Unreal Engine 4 documentation, please visit the <a style="color:#000;" href="https://docs.unrealengine.com">Unreal Engine 4 Documentation</a> site.</p>

        </div>

        <div style="height:20px;padding:4px;margin:6px;border-top:1px solid #a0a0a0;">

            <form onsubmit="return closeVersionMessage();">

                <input type="checkbox" id="dismiss" value="dismiss" />

                <label for="dsimiss">Don't show me this again</label>

                <input type="submit" value="Close" style="cursor:pointer;float:right;width:60px;color:#f0f0f0;font-weight:bold;background:#882222;height:24px;padding:2px 3px 3px;text-align:center;border:1px outset #000;" />

            </form>

        </div>

    </div>

</div>



<script type="text/javascript">

    window.onload = function () {

        LoadVersionMessage();

    }



    function LoadVersionMessage()

    {

        var showMessage = "false";
        if(showMessage != "false")

        {

            showVersionMessage();

        }

    }



    function showVersionMessage()

    {

        var message = document.getElementById("version_message");

        if(message)

        {

            message.style.display = "block";

        }

    }



    function closeVersionMessage() {

        var dismiss = document.getElementById("dismiss");

        var message = document.getElementById("version_message");

        if (message) {

            message.style.display = "none";

        }

        if (dismiss.checked) {

            eraseCookie("doc_version_message");

            createCookie("doc_version_message", "false", 365);

            dismiss.checked = false;

        }

        return false;

    }



    function createCookie(name, value, days) {

        if (days) {

            var date = new Date();

            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));

            var expires = "; expires=" + date.toGMTString();

        }

        else var expires = "";

        document.cookie = name + "=" + value + expires + "; path=/";

    }



    function readCookie(name) {

        var nameEQ = name + "=";

        var ca = document.cookie.split(';');

        for (var i = 0; i < ca.length; i++) {

            var c = ca[i];

            while (c.charAt(0) == ' ') c = c.substring(1, c.length);

            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);

        }

        return null;

    }



    function eraseCookie(name) {

        createCookie(name, "", -1);

    }

</script>



<!-- END UE4 NOTICE -->



</div></div><div id="footer"><div style="BACKGROUND-COLOR: transparent; margin: 0; padding: 0; width: 100%;"><div>&nbsp;</div><div style="float: left; text-align: left; vertical-align: bottom; width: 50%;"><a href="http://www.videogamevoters.org"><img src="rsrc/vgvn.jpg" border="0" width="234" height="60" alt="Video Game Voters Network" /></a></div><div style="float: right; text-align: right; vertical-align: bottom; width: 50%;">Copyright &copy; 2001-2012 <a href="http://www.epicgames.com" target="_top">Epic Games, Inc.</a><br /><a href="../Main/TermsAndConditions.html" class="twikiLink">Terms and Conditions</a><br /><a href="http://epicgames.com/privacynotice" target="_top">Privacy Notice</a></div></div></div></div>
<p />
</html></body>
