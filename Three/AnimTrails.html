<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title> UDK | AnimTrails    </title>

<style type="text/css" media="all">@import "rsrc/twiki_webs.css";</style>
<style type="text/css" media="all">@import "rsrc/udn_new.css";</style>
<link rel="icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />


<!-- view.static_udn3.tmpl  -->
<script language="JavaScript" type="text/javascript" src="rsrc/udn.js"></script>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

</head>
<p />
<body id="webbgThree">
<p />

<p />
<div id="webThree"><div id="head">
<!--
<div class="header">
 -->
<div style="background: url(/pub/webbg_udn.jpg); background-repeat: no-repeat; height:140px; width: 100%;" >
<!--
<div style="background: transparent url(/pub/udn_header_bg.jpg); background-repeat: repeat-x; height:140px; width: 100%; margin-left: 991px;">
 -->
<p />
<div id="nav">
<ul class="nav">
<font color=black>|</font>&nbsp;&nbsp;<li class=nav_Three><a href="../Main/WebHome.html" class="twikiLink">Main</a></li><font color=black>|</font><li class=nav_Three><a href="../Two/WebHome.html" class="twikiLink">UnrealEngine2</a></li><font color=black>|</font><li class=nav_Three><a href="WebHome.html" class="twikiLink">UnrealEngine3</a></li><font color=black>|</font><li class=nav_Three><a href="https://docs.unrealengine.com" class="twikiLink">UnrealEngine4</a></li><font color=black>|</font><li class=nav_Three><a href="../Main/BusinessAndLegal.html" class="twikiLink">Business &amp; Legal</a></li><font color=black>|</font>
</ul><br><br><br>
</div>
</div>
</div> <!-- end head -->
<div id="pagedefault">
<div id="maincol">
<div id="tool">
<div id="tooltop">UDN</div>
<div id="tooltext" style="padding: 10px 10px 10px 10px;">
Search public documentation: <br>
<form ACTION="/search/index.php" METHOD="GET" NAME="main" ID="main">
<input TYPE="TEXT" NAME="q" SIZE="15" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;">
<input TYPE="SUBMIT" VALUE="Search" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;"><br>
</form>
</div>
<div id="toolband">AnimTrails  </b></div>
<div id="tooltext">
<a href="AnimTrailsJP.html" class="twikiLink">日本語訳</a><br><a href="AnimTrailsCH.html" class="twikiLink">中国翻译</a><br><a href="AnimTrailsKR.html" class="twikiLink">한국어</a><br>

<!-- Three/AnimTrails -->
<hr size="1" noshade="noshade" />
Interested in the Unreal Engine? <br>
Visit the <a href="http://www.unrealtechnology.com" target="_top">Unreal Technology</a> site.<br>
<br>
Looking for jobs and company info? <br>
Check out the <a href="http://www.epicgames.com" target="_top">Epic games</a> site.<br>
<br>
Questions about support via UDN? <br>
Contact the <a href="../Main/ContactUDNStaff.html" class="twikiLink">UDN Staff</a> <br>
<br>
</div> <!-- end toolbox content -->
<div id="toolbottom"></div>
</div> <!-- end tool -->
<p />
<noautolink>
<p />
<div style="padding:0px 0px 0px 4px;font:10px Verdana;">
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="ParticlesAndEffectsHome.html" class="twikiLink">Particle &amp; Effects</a></b> &gt; <b><a href="ParticleSystemsHome.html" class="twikiLink">Particles Systems</a></b> &gt; Particles AnimTrails Tutorial <br/>
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="FXArtistHome.html" class="twikiLink">FX Artist</a></b> &gt; Particles AnimTrails Tutorial
</div>
<hr size="1" noshade="noshade">
<h1><a name="Particles _AnimTrails Tutorial"></a> Particles AnimTrails Tutorial </h1>
<hr size="1" noshade="noshade">
<p />
<div class="twikiToc"> <ul>
<li> <a href="AnimTrails.html#Particles _AnimTrails Tutorial"> Particles AnimTrails Tutorial</a> <ul>
<li> <a href="AnimTrails.html#Overview"> Overview</a>
</li> <li> <a href="AnimTrails.html#Sample _AnimTrail Emitters"> Sample AnimTrail Emitters</a> <ul>
<li> <a href="AnimTrails.html#Creating an _AnimTrail Particle Emitter"> Creating an AnimTrail Particle Emitter</a> <ul>
<li> <a href="AnimTrails.html#Create a new _ParticleSystem"> Create a new ParticleSystem</a>
</li> <li> <a href="AnimTrails.html#Setting up Sockets"> Setting up Sockets</a>
</li> <li> <a href="AnimTrails.html#Adding _AnimNotifies"> Adding AnimNotifies</a>
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</div>
<p />
<h2><a name="Overview"></a> Overview </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
 AnimTrails allow for displaying a trail or streak behind an animation using data sampled directly from the animation itself. By sampling at a user-set framerate, they provide a framerate-independent way to generate effects such as weapon trails.
<p />
This document assumes you are familiar with the basics of Cascade, the Content Browser, and with creating packages and objects within those packages.
<p />
<p />
<h2><a name="Sample _AnimTrail Emitters"></a> Sample AnimTrail Emitters </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
In this example, we will be adding a particle trail to the arms of our character, that are triggered at a certain place during an animation.
<p />
<h3><a name="Creating an _AnimTrail Particle Emitter"></a> Creating an AnimTrail Particle Emitter </h3>
<p />
<h4><a name="Create a new _ParticleSystem"></a> Create a new ParticleSystem </h4>
<p />
Start the editor, right-click in the Content Browser, and select "New ParticleSystem". The New window will pop-up, prompting you for a package name, object name, and the factory. After naming the new Particle System, Cascade will open. Add a new AnimTrail Data node to the emitter.
<p />
<img alt="particle_data.jpg" src="rsrc/Three/AnimTrails/particle_data.jpg" />
<p />
In the 'Control Edge Name' field type 'Right_Control'. This is the name for the socket we will be adding to our skeletal mesh later on.
<p />
<img alt="particle_control.jpg" src="rsrc/Three/AnimTrails/particle_control.jpg" />
<p />
On the 'Required' node, assign a material to be used for the particle. (We used a translucent unlit material that pans to the right with some noise)
<p />
Since we want an AnimTrial on each arm, duplicate the emitter and rename the 'Control Edge Name' of the new emitter to 'Left_Control'.
<p />
<img alt="particle_final.jpg" src="rsrc/Three/AnimTrails/particle_final.jpg" />
<p />
<h4><a name="Setting up Sockets"></a> Setting up Sockets </h4>
<p />
Setup animation sockets on the arms of the skeletal mesh. There needs to be three sockets for each trail. One for the first edge, one for the second edge, and one for the control point. The first and second edge sockets define the two edges of the trail that is rendered. The control point is used to determine the texture coordinate value along the trail. For reference on how to add sockets see SkeletalMeshSockets.
<p />
In this example we will be using the WeaponPoint sockets for the first edge. We then created sockets for the second edge and control point for each arm. The end result is below.
<p />
<img alt="Sockets.jpg" src="rsrc/Three/AnimTrails/Sockets.jpg" />
<p />
<h4><a name="Adding _AnimNotifies"></a> Adding AnimNotifies </h4>
<p />
We will need two AnimNotifies. One for each arm. These are added on the AnimSequence tab of the AnimSet editor. Add a new Notify, then click on the blue arrow and add a AnimNotify_Trails.
<p />
<img alt="AnimSequence.jpg" src="rsrc/Three/AnimTrails/AnimSequence.jpg" />
<p />
You will need to have an AnimNotify for each arm. Set the start time and duration for each notify as it fits with the AnimSequence. For this example, we are using a jump up and slam the ground animation. We want the AnimTrails to start at the top of the jump and stop when the character lands.
<p />
Next, fill in the names for the sockets you have created. It should look like this:
<p />
<img alt="Notifies.jpg" src="rsrc/Three/AnimTrails/Notifies.jpg" />
<p />
To view the trails, turn on PSys Previews by selecting 'Enable all PSys Previews' from the 'Notifies' menu in the AnimSet editor and play the AnimSequence.
<p />
Alternatively, place your skeletal mesh in a level and set up the character to play the AnimNodeSequence. Run PIE to view the effect.
<p />
<img alt="final_effect.jpg" src="rsrc/Three/AnimTrails/final_effect.jpg" />
<p />
</noautolink>
<p />
<p />
<p />
<p />
<p />
<p />


<!-- BEGIN UE4 NOTICE -->



<div id="version_message" style="display:none;">

    <div style="position:fixed;top:0px;left:0px;width:100%;height:100%;background:#000;opacity:0.5;">

    </div>

    <div style="position:fixed;top:50%;left:50%;margin:-70px 0px 0px -240px;background:#FFF;border-radius:6px;width:480px;box-shadow:0px 5px 30px -5px rgba(0,0,0,0.9);">

        <div style="font-size:16px;font-weight:bold;background: url(rsrc/Three/warning.png) no-repeat scroll 5px 5px;padding:4px 10px 5px 25px;height:21px;width:440px;">

            Important!

        </div>

        <div style="font-size:11px;padding:5px 10px 10px;width:460px;">

            <p>You are viewing documentation for the <strong>Unreal Development Kit (UDK)</strong>.</p>



            <p>If you are looking for the Unreal Engine 4 documentation, please visit the <a style="color:#000;" href="https://docs.unrealengine.com">Unreal Engine 4 Documentation</a> site.</p>

        </div>

        <div style="height:20px;padding:4px;margin:6px;border-top:1px solid #a0a0a0;">

            <form onsubmit="return closeVersionMessage();">

                <input type="checkbox" id="dismiss" value="dismiss" />

                <label for="dsimiss">Don't show me this again</label>

                <input type="submit" value="Close" style="cursor:pointer;float:right;width:60px;color:#f0f0f0;font-weight:bold;background:#882222;height:24px;padding:2px 3px 3px;text-align:center;border:1px outset #000;" />

            </form>

        </div>

    </div>

</div>



<script type="text/javascript">

    window.onload = function () {

        LoadVersionMessage();

    }



    function LoadVersionMessage()

    {

        var showMessage = "false";
        if(showMessage != "false")

        {

            showVersionMessage();

        }

    }



    function showVersionMessage()

    {

        var message = document.getElementById("version_message");

        if(message)

        {

            message.style.display = "block";

        }

    }



    function closeVersionMessage() {

        var dismiss = document.getElementById("dismiss");

        var message = document.getElementById("version_message");

        if (message) {

            message.style.display = "none";

        }

        if (dismiss.checked) {

            eraseCookie("doc_version_message");

            createCookie("doc_version_message", "false", 365);

            dismiss.checked = false;

        }

        return false;

    }



    function createCookie(name, value, days) {

        if (days) {

            var date = new Date();

            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));

            var expires = "; expires=" + date.toGMTString();

        }

        else var expires = "";

        document.cookie = name + "=" + value + expires + "; path=/";

    }



    function readCookie(name) {

        var nameEQ = name + "=";

        var ca = document.cookie.split(';');

        for (var i = 0; i < ca.length; i++) {

            var c = ca[i];

            while (c.charAt(0) == ' ') c = c.substring(1, c.length);

            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);

        }

        return null;

    }



    function eraseCookie(name) {

        createCookie(name, "", -1);

    }

</script>



<!-- END UE4 NOTICE -->



</div></div><div id="footer"><div style="BACKGROUND-COLOR: transparent; margin: 0; padding: 0; width: 100%;"><div>&nbsp;</div><div style="float: left; text-align: left; vertical-align: bottom; width: 50%;"><a href="http://www.videogamevoters.org"><img src="rsrc/vgvn.jpg" border="0" width="234" height="60" alt="Video Game Voters Network" /></a></div><div style="float: right; text-align: right; vertical-align: bottom; width: 50%;">Copyright &copy; 2001-2012 <a href="http://www.epicgames.com" target="_top">Epic Games, Inc.</a><br /><a href="../Main/TermsAndConditions.html" class="twikiLink">Terms and Conditions</a><br /><a href="http://epicgames.com/privacynotice" target="_top">Privacy Notice</a></div></div></div></div>
<p />
</html></body>
