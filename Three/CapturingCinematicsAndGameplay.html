<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title> UDK | CapturingCinematicsAndGameplay    </title>

<style type="text/css" media="all">@import "rsrc/twiki_webs.css";</style>
<style type="text/css" media="all">@import "rsrc/udn_new.css";</style>
<link rel="icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />


<!-- view.static_udn3.tmpl  -->
<script language="JavaScript" type="text/javascript" src="rsrc/udn.js"></script>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

</head>
<p />
<body id="webbgThree">
<p />

<p />
<div id="webThree"><div id="head">
<!--
<div class="header">
 -->
<div style="background: url(/pub/webbg_udn.jpg); background-repeat: no-repeat; height:140px; width: 100%;" >
<!--
<div style="background: transparent url(/pub/udn_header_bg.jpg); background-repeat: repeat-x; height:140px; width: 100%; margin-left: 991px;">
 -->
<p />
<div id="nav">
<ul class="nav">
<font color=black>|</font>&nbsp;&nbsp;<li class=nav_Three><a href="../Main/WebHome.html" class="twikiLink">Main</a></li><font color=black>|</font><li class=nav_Three><a href="../Two/WebHome.html" class="twikiLink">UnrealEngine2</a></li><font color=black>|</font><li class=nav_Three><a href="WebHome.html" class="twikiLink">UnrealEngine3</a></li><font color=black>|</font><li class=nav_Three><a href="https://docs.unrealengine.com" class="twikiLink">UnrealEngine4</a></li><font color=black>|</font><li class=nav_Three><a href="../Main/BusinessAndLegal.html" class="twikiLink">Business &amp; Legal</a></li><font color=black>|</font>
</ul><br><br><br>
</div>
</div>
</div> <!-- end head -->
<div id="pagedefault">
<div id="maincol">
<div id="tool">
<div id="tooltop">UDN</div>
<div id="tooltext" style="padding: 10px 10px 10px 10px;">
Search public documentation: <br>
<form ACTION="/search/index.php" METHOD="GET" NAME="main" ID="main">
<input TYPE="TEXT" NAME="q" SIZE="15" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;">
<input TYPE="SUBMIT" VALUE="Search" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;"><br>
</form>
</div>
<div id="toolband">CapturingCinematicsAndGameplay  </b></div>
<div id="tooltext">
<a href="CapturingCinematicsAndGameplayJP.html" class="twikiLink">日本語訳</a><br><a href="CapturingCinematicsAndGameplayCH.html" class="twikiLink">中国翻译</a><br><a href="CapturingCinematicsAndGameplayKR.html" class="twikiLink">한국어</a><br>

<!-- Three/CapturingCinematicsAndGameplay -->
<hr size="1" noshade="noshade" />
Interested in the Unreal Engine? <br>
Visit the <a href="http://www.unrealtechnology.com" target="_top">Unreal Technology</a> site.<br>
<br>
Looking for jobs and company info? <br>
Check out the <a href="http://www.epicgames.com" target="_top">Epic games</a> site.<br>
<br>
Questions about support via UDN? <br>
Contact the <a href="../Main/ContactUDNStaff.html" class="twikiLink">UDN Staff</a> <br>
<br>
</div> <!-- end toolbox content -->
<div id="toolbottom"></div>
</div> <!-- end tool -->
<p />
<noautolink>
<p />
<div style="padding:0px 0px 0px 4px;font:10px Verdana;">
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="MatineeAndCinematicsHome.html" class="twikiLink">Matinee &amp; Cinematics</a></b> &gt; Capturing Cinematics and Gameplay <br/>
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="CinematicArtistHome.html" class="twikiLink">Cinematic Artist</a></b> &gt; Capturing Cinematics and Gameplay
</div>
<hr size="1" noshade="noshade">
<h1><a name="Capturing Cinematics and Gameplay"></a> Capturing Cinematics and Gameplay </h1>
<hr size="1" noshade="noshade">
<p />
<div class="twikiToc"> <ul>
<li> <a href="CapturingCinematicsAndGameplay.html#Capturing Cinematics and Gameplay"> Capturing Cinematics and Gameplay</a> <ul>
<li> <a href="CapturingCinematicsAndGameplay.html#Overview"> Overview</a>
</li> <li> <a href="CapturingCinematicsAndGameplay.html#Rendering Frames"> Rendering Frames</a> <ul>
<li> <a href="CapturingCinematicsAndGameplay.html#Capturing Frames"> Capturing Frames</a>
</li> <li> <a href="CapturingCinematicsAndGameplay.html#Capturing Sound"> Capturing Sound</a>
</li> <li> <a href="CapturingCinematicsAndGameplay.html#Editing Sound"> Editing Sound</a>
</li> <li> <a href="CapturingCinematicsAndGameplay.html#Compositing Frames and Sound"> Compositing Frames and Sound</a>
</li></ul>
</li> <li> <a href="CapturingCinematicsAndGameplay.html#Realtime Capturing"> Realtime Capturing</a> <ul>
<li> <a href="CapturingCinematicsAndGameplay.html#Software Capturing"> Software Capturing</a>
</li> <li> <a href="CapturingCinematicsAndGameplay.html#Hardware Capturing"> Hardware Capturing</a>
</li></ul>
</li> <li> <a href="CapturingCinematicsAndGameplay.html#Encoding"> Encoding</a>
</li></ul>
</li></ul>
</div>
<p />
<h2><a name="Overview"></a> Overview </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
An important aspect in the game development process that often goes overlooked is the ability to capture in-game footage to be used in promoting your game the public, as pre-recorded cinematics played as videos in-game to provide a consistent playback experience, or just to show off cool features you have added. Knowing what features are provided by the engine itself, having a solid workflow, and knowing what gotcha's to avoid will make the entire process much smoother and save you both time and headaches along the way. There are a few options available to capture game footage. Which one you choose to go with will ultimately depend on the end use of the video and the resources, both hardware and software, you have at your disposal.
<p />
<h2><a name="Rendering Frames"></a> Rendering Frames </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
Rendering out individual frames allows you to capture high-quality images regardless of the complexity of the scene being rendered. Unless you have a hardware capturing solution, this is by far the best way to obtain high-quality high-resolution footage for use as promotional videos, trailers, etc. Rendering frames is also a viable solution if your system simply cannot keep up with rendering the scene at an acceptable framerate for capturing.
<p />
There are drawbacks to this method, however. For one, this method does not allow for capturing the audio along with the video. This means you have to capture the audio separately which can often make syncing up the audio with the video a challenge. It also does not lend itself to capturing live in-game footage of gameplay controlled by the player because it is not rendering in realtime in most cases. Since the engine will take as long as it needs to render each frame out according to the target framerate, it may take several seconds or more to render each frame. This obviously would make trying to control a player in-game impossible. Subsequently, this method is mainly geared toward capturing cinematics and possibly pre-recorded demos.
<p />
<h3><a name="Capturing Frames"></a> Capturing Frames </h3>
<p />
Capturing individual frames in Unreal is simply a matter of using the right combination of command line arguments when running the game. The engine has the ability to force the game to run at a specified framerate and output each rendered frame as an uncompressed .BMP image. Combine this ability with commands to set the resolution and specify a particular map to run on start-up and you have the ability to render out footage from your game at extremely high resolutions while running perfectly smoothly.
<p />
In order to force the game to run a particular map, you need to pass the map's name to the executable. You will also want to make sure that the sequence of events you want to capture are set to run automatically when the level begins if you are capturing a cinematic sequence or you are planning to capture at a resolution higher than what your system can keep up with while rendering at the desired framerate. For instance, if you have a map named UDN_FeaturesDemo.udk containing a cinematic sequence you want to capture, you would use the following command line to run it:
<p />
<pre>
UDK.exe UDN&#95;FeaturesDemo
</pre>
<p />
The <a href="CommandLineArguments.html" class="twikiLink">Command Line Arguments</a> that are used in this process are:
<p /> <ul>
<li> <strong>ResX=</strong> - Set horizontal resolution for game window.
</li> <li> <strong>ResY=</strong> - Set vertical resolution for game window.
</li> <li> <strong>BENCHMARK</strong> - Run game at fixed-step in order to process each frame without skipping any frames. This is useful in conjunction with DUMPMOVIE options.
</li> <li> <strong>DUMPMOVIE</strong> - Dump rendered frames to files using current resolution of game.
</li> <li> <strong>DUMPMOVIE_TILEDSHOT=X</strong> - Similar to "DUMPMOVIE", but captures each frame as a tiled shot for very high resolution frames (files will be very large, try starting with 2)
</li> <li> <strong>NOTEXTURESTREAMING</strong> - Disable texture streaming. Highest quality textures are always loaded.
</li> <li> <strong>MAXQUALITYMODE</strong> - Forcibly overrides certain system settings to their highest quality regardless of performance impact.
</li></ul>
<p />
Using these, you can force Unreal to run at the highest quality at any resolution at a fixed framerate while dumping out each frame to individual image files. The command line to run the aforementioned map at 30 frames per second and 1280x720 would be:
<p />
<pre>
UDK.exe UDN&#95;FeaturesDemo -BENCHMARK -MAXQUALITYMODE -NOTEXTURESTREAMING -DUMPMOVIE -FPS&#61;30 -ResX&#61;1280 -ResY&#61;720
</pre>
<p />
You may notice when running the game like this that you get a few unwanted frames at the beginning and ending of the sequence. This is nothing to worry about since they are individual image files. You can simply delete any unwanted files when the rendering is finished.
<p />
The resulting image files will be located in the Screenshots directory of your game's installation folder, by default. For UDK users, this would be something like:
<p />
<pre>
C:\UDK\UDK-2010-08\UDKGame\ScreenShots
</pre>
<p />
The output path can be set in the [Core.System] section of the the *Engine.ini. For example, for UDK the UDKEngine.ini has:
<p />
<pre>
ScreenShotPath&#61;..\..\UDKGame\ScreenShots
</pre>
<p />
That is actually built from the BaseEngine.ini which has the generic version. If you wanted to make a permanent change to the output directory for frames and screenshots, the BaseEngine.ini would be the file to change. For temporary changes, the [YourGame]Engine.ini can be modified.
<p />
The files will be named MovieFrame*.bmp, where * is a five digit number representing the frame number of that image. Since the files will always be named the same, you should move these images to a new directory as soon as the capture is complete so there is no risk of getting them confused or overwritten.
<p />
<strong>WARNING:</strong> This method will require a great deal of free disk space as it deals with uncompressed files. Depending on the length of the sequence to be captured, you could be looking at 10's of GB of image files and video files.
<p />
<a name="CapturingSound"></a>
<h3><a name="Capturing Sound"></a> Capturing Sound </h3>
<p />
In order to capture the audio, you will need to use one of the realtime methods of capturing, software or hardware. Then you can simply re-play the cinematic a second time to capture the audio. The concerns of the game being able to keep up will not be an issue since you can run the game at a very small resolution this time through as you are only interested in the audio. For out example, we could use the following command line:
<p />
<pre>
UDK.exe UDN&#95;FeaturesDemo -ResX&#61;320 -ResY&#61;180
</pre>
<p />
There are applications, Audacity being one, which can simply capture only the audio from your computer which would be ideal in this situation. However, you can also use a regular screen capture program to record a video file with audio and rip the audio from the resulting video file afterward if need be. We will use Audacity as an example here.
<p />
First, make sure you have Audacity installed. It can be downloaded <a href="http://audacity.sourceforge.net/">here</a>. Once Audacity is installed, run the program.
<p />
<img alt="audacity.jpg" src="rsrc/Three/CapturingCinematicsAndGameplay/audacity.jpg" />
<p />
Open the <em>Preferences</em> dialog from the <em>Edit</em> menu and select the <em>Audio I/O</em> tab. Set the Recording Device to point to your speakers, <em>Stereo Mix (Realtek high Definition)</em> in the example, and set the number of Channels to <em>2 (Stereo)</em>. This tells Audacity to record from the sound card in stereo. Then press <em>OK</em> to save the changes.
<p />
<img alt="audacity_audio_io.jpg" src="rsrc/Three/CapturingCinematicsAndGameplay/audacity_audio_io.jpg" />
<p />
Now just press the <img alt="audacity_record.jpg" src="rsrc/Three/CapturingCinematicsAndGameplay/audacity_record.jpg" /> button to begin capturing the sound card's audio. A 2-channel audio track in the workspace of Audacity should appear and begin scrolling as it captures the audio.
<p />
<img alt="audacity_audio_capture.jpg" src="rsrc/Three/CapturingCinematicsAndGameplay/audacity_audio_capture.jpg" />
<p />
Use the command line from above to begin playing the low-resolution scene to be captured.
<p />
<img alt="small_video.jpg" src="rsrc/Three/CapturingCinematicsAndGameplay/small_video.jpg" />
<p />
Press the <img alt="audacity_stop.jpg" src="rsrc/Three/CapturingCinematicsAndGameplay/audacity_stop.jpg" /> button after the scene has finished playing to end the audio capture. You should end up with the full captured audio track in the workspace of Audacity.
<p />
<img alt="audacity_audio_full.jpg" src="rsrc/Three/CapturingCinematicsAndGameplay/audacity_audio_full.jpg" />
<p />
Now, select <em>Export As WAV</em> from the <em>File</em> menu, select a location and filename, and press <em>Save</em> to save the captured audio to a file.
<p />
<h3><a name="Editing Sound"></a> Editing Sound </h3>
<p />
Since the audio had to be captured separately, the resulting audio file is not likely to be in sync with the video that was captured. Also, you will most likely have some unwanted audio at the beginning and/or ending of the audio capture that will need to be removed. Editing the audio file is a fairly straightforward process using an editing program, such as Audacity. There are many audio editing programs available that will do the job. Since we have already used Audacity to capture the audio and it happens to be free, we will focus on it.
<p />
The basic idea here is to find the point in the audio capture file where the actual sound of our video begins. Then we can extrapolate how long the audio should be from the number of frames of video that were captured. In our example 2457 frames were captured, meaning at 30 frames per second we have 1 minute 21.9 seconds of video. So, we need to have 1 minute 21.9 seconds of audio.
<p />
You can select a section of audio in Audacity by left-clicking and dragging the mouse on the waveform. Once you have found the starting point of your audio, left-click and begin dragging to the right. You will notice in the <em>status Bar</em> at the bottom it tells you the selection range as well as the total length of the selection. You can use that to tell when you have selected the full audio clip.
<p />
<img alt="audacity_audio_selection.jpg" src="rsrc/Three/CapturingCinematicsAndGameplay/audacity_audio_selection.jpg" />
<p />
With the audio selected, press <em>Ctrl + C</em> to copy the selection. Then click down below the existing track in the workspace and press <em>Ctrl + V</em> to paste the selection into a new track.
<p />
<img alt="audacity_audio_trimmed.jpg" src="rsrc/Three/CapturingCinematicsAndGameplay/audacity_audio_trimmed.jpg" />
<p />
You can now, delete the original track by clicking the <img alt="audacity_track_delete.jpg" src="rsrc/Three/CapturingCinematicsAndGameplay/audacity_track_delete.jpg" /> button for that track.
<p />
Now, select <em>Export As WAV</em> from the <em>File</em> menu, select a location and filename, and press <em>Save</em> to save the trimmed audio to a file. Use a different name for this file so that you still have the original full capture around if you need to go back and do the process again.
<p />
<h3><a name="Compositing Frames and Sound"></a> Compositing Frames and Sound </h3>
<p />
In order to composite the image frames into a single video file, and also to merge the audio capture with the video, a compositing or video editing program will be needed. There are lots of video editing suites out there; most of which are fairly expensive. A nice non-linear editing application would be ideal for putting together the video as it will allow you to position the audio and video separately on a timeline and drag them around to match them up. However, a simple and free alternative is to use VirtualDub. This is a powerful compositing application that will do exactly what we need it to do, composite our image sequence and audio into a single video file, and can even be used to encode the video using a variety of codecs later on if you so choose.
<p />
First, make sure your have VirtualDub installed. You can download it from <a href="http://virtualdub.sourceforge.net/">here</a>.
<p />
Once it is installed, run the application.
<p />
<img alt="vdub.jpg" src="rsrc/Three/CapturingCinematicsAndGameplay/vdub.jpg" />
<p />
From the <em>File</em> menu, choose <em>Open Video File</em>. In the file dialog that appears, locate and select the first image in the sequence of rendered frames, for this example it is <em>MoveiFrame00003.bmp</em>.
<p />
<img alt="vdub_open.jpg" src="rsrc/Three/CapturingCinematicsAndGameplay/vdub_open.jpg" />
<p />
Click <em>Open</em> and the entire sequence should be loaded into VirtualDub. You can scrub through the timeline to confirm this is the case.
<p />
<img alt="vdub_scrub.jpg" src="rsrc/Three/CapturingCinematicsAndGameplay/vdub_scrub.jpg" />
<p />
Now, in the <em>Audio</em> menu, select <em>Audio from another file</em>. Find and select the trimmed audio capture file and click <em>Open</em> to load it.
<p />
You can play back the video in VirtualDub and see that your audio is lining up well with the video at this point. If it isn't you may need to do further editing in Audacity to get it just right.
<p />
The Audio should already be set to <em>Direct Stream Copy</em>. This means that no compression or anything will be performed. It simply copies the audio from the file into the new saved video file. However, the video will need to use <em>Full processing mode</em>, which it will default to. The compression also defaults to creating an uncompressed video file which is exactly what we want so these settings are all perfect.
<p />
When you are ready to save the video file, choose <em>Save as AVI</em> from the <em>File</em> menu. Choose a destination and name for the file and click <em>Save</em>. The status window will appear to show you the progress of the conversion.
<p />
<img alt="vdub_processing.jpg" src="rsrc/Three/CapturingCinematicsAndGameplay/vdub_processing.jpg" />
<p />
When the process is complete, you can located and play the video file, assuming your PC can handle it since it is uncompressed at this point. You can skip to the <a href="#Encoding">Encoding</a> section now if you wish to compress the video to a more manageable size.
<p />
<h2><a name="Realtime Capturing"></a> Realtime Capturing </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
Realtime capturing is a quick and efficient method of capturing footage from your game. It does exactly what the name implies: captures the screen as the game runs. When capturing in realtime, there are no limitations as far as being able to control the player while capturing. This method also allows you to capture the audio along with the video so that there are no syncing issues and you only have to make one pass to get both. These benefits often make this a good way to go, assuming your system can handle running the game at the resolution and framerate you desire.
<p />
<h3><a name="Software Capturing"></a> Software Capturing </h3>
<p />
Screen capturing software can be a cost-effective method of capturing footage. There are several free programs out there that will allow you to capture the audio and video of your game directly to a video file. Some even have added features for encoding to particular formats while capturing, converting to other formats after capturing, and even directly uploading to Youtube or other video sites from within the software.
<p />
One major drawback of screen capturing software is that the software takes processing power to do what it does. Unless you are running the game and software on a monster system, the odds that you can capture a high-resolutions without dropping frames is very slim. This may be acceptable for internal videos, but for promotional purposes where the video will be shown to the public or the media, it is unlikely that you will want a video with any noticeable hitching, jumps in animations, etc.
<p />
<a href="http://www.techsmith.com/camtasia.asp">Camtasia</a> is a professional screen capturing software that has tons of features. It can do pretty much anything you might want to do as far as capturing footage is concerned. It does come with a fairly hefty price tag, though, so that is something to keep in mind. A free alternative to Camtasia is <a href="http://camstudio.org/">CamStudio</a>. It is an open source project that is very similar to Camtasia's recorder using an almost identical interface. This is a good alternative when developing a game on a tight budget. As such, this is the software we will focus on when going through the process of capturing footage with screen capturing software.
<p />
Make sure you have CamStudio installed. You can download it <a href="http://camstudio.org/">here</a>.
<p />
Once installed, open CamStudio.
<p />
<img alt="cam.jpg" src="rsrc/Three/CapturingCinematicsAndGameplay/cam.jpg" />
<p />
In the <em>Region</em> menu, choose <em>Region</em>. This will allow us to specify a region for capturing when we are ready to record.
<p />
<img alt="cam_region.jpg" src="rsrc/Three/CapturingCinematicsAndGameplay/cam_region.jpg" />
<p />
Select <em>Video Options</em> from the <em>Options</em> menu to open the <em>Video Options</em> dialog. The Compressor you choose is up to you. We will leave it on <em>Microsoft Video 1</em> and turn the <em>Quality</em> all the way up to <em>100</em>. Under <em>Framerates</em>, set <em>Capture Frames Every</em> to 33 milliseconds and set <em>Playback Rate</em> to 30 frames/second. This should give you a 30 frames per second capture instead of the 200 fps that it defaults to.
<p />
<img alt="cam_video.jpg" src="rsrc/Three/CapturingCinematicsAndGameplay/cam_video.jpg" />
<p />
You may be able to get the <em>Record audio from speakers</em> option to work on your system; however, it seems to have issues with Windows 7 machines so we will use an alternative method to set up the speakers to be used as the microphone instead.
<p />
Open the <em>Recording</em> devices for sound in Windows.
<p />
<img alt="cam_sound_properties.jpg" src="rsrc/Three/CapturingCinematicsAndGameplay/cam_sound_properties.jpg" />
<p />
Find your sound device, "Stereo Mix (Realtek High Definition Audio)_ in the example, and select it. If you do not see your sound device listed, right click and make sure <em>Show Disable Devices</em> and <em>Show Disconnected Devices</em> are both enabled.
<p />
<img alt="cam_show_disabled.jpg" src="rsrc/Three/CapturingCinematicsAndGameplay/cam_show_disabled.jpg" />
<p />
Set the selected sound device as the default.
<p />
<img alt="cam_set_default.jpg" src="rsrc/Three/CapturingCinematicsAndGameplay/cam_set_default.jpg" />
<p />
Press the <img alt="cam_properties_button.jpg" src="rsrc/Three/CapturingCinematicsAndGameplay/cam_properties_button.jpg" /> to open the properties dialog for the sound device. Select the <em>listen</em> tab and set <em>Playback through this device</em> to point to your speakers.
<p />
<img alt="cam_playback_device.jpg" src="rsrc/Three/CapturingCinematicsAndGameplay/cam_playback_device.jpg" />
<p />
Click <em>OK</em> and close the dialogs. Back in CamStudio, select <em>Audio Options for Microphone</em> from the <em>Options &gt; Audio Options</em> menu.
<p />
<img alt="cam_mic_properties.jpg" src="rsrc/Three/CapturingCinematicsAndGameplay/cam_mic_properties.jpg" />
<p />
Set the <em>Audio Capture Device</em> to point to your sound device.
<p />
<img alt="cam_mic_device.jpg" src="rsrc/Three/CapturingCinematicsAndGameplay/cam_mic_device.jpg" />
<p />
Then set the <em>Recording Format</em> to <em>44.1 kHz, stereo, 16-bit</em>.
<p />
<img alt="cam_mic_format.jpg" src="rsrc/Three/CapturingCinematicsAndGameplay/cam_mic_format.jpg" />
<p />
Make sure <em>Record audio from microphone</em> is selected in the <em>Options menu</em>.
<p />
<img alt="cam_mic_record.jpg" src="rsrc/Three/CapturingCinematicsAndGameplay/cam_mic_record.jpg" />
<p />
CamStudio is now set up and ready to capture. Start up Unreal with the map you want to capture from. Then press the <img alt="cam_record_button.jpg" src="rsrc/Three/CapturingCinematicsAndGameplay/cam_record_button.jpg" /> button. Recording will not start until after you have selected a region to record. Click in the very top-left corner of the Unreal viewport and drag down to the bottom-right corner. You can see the size of the region you have selected while dragging.
<p />
<img alt="cam_region_select.jpg" src="rsrc/Three/CapturingCinematicsAndGameplay/cam_region_select.jpg" />
<p />
Recording will begin immediately so once the selection is made, you should trigger the cinematic you want to record or begin the gameplay. When you are finished recording you can stop the recording by pressing the <img alt="cam_stop_button.jpg" src="rsrc/Three/CapturingCinematicsAndGameplay/cam_stop_button.jpg" /> button.  You will then be asked to choose a filename to save the video to.
<p />
<img alt="cam_save_file.jpg" src="rsrc/Three/CapturingCinematicsAndGameplay/cam_save_file.jpg" />
<p />
The video will take a moment to process and then it will open up in the CamStudio player so you can review the capture.
<p />
<img alt="cam_preview.jpg" src="rsrc/Three/CapturingCinematicsAndGameplay/cam_preview.jpg" />
<p />
If you are not happy with the result, you can perform another capture. Or if you need to edit parts out of the video, you can take the video into a video editing application and edit as necessary.
<p />
<h3><a name="Hardware Capturing"></a> Hardware Capturing </h3>
<p />
Hardware capturing refers to using a hardware capture card or system to capture the audio and video output. This has a clear advantage over software screen capturing in that it doesn't rely on software running on the same PC which has to grab and/or encode the video and audio as that will eat up resources. Hardware capturing is a great way to get high-quality audio and video captures of real gameplay controlled by a human.
<p />
As with the other methods, there is always a drawback. The drawbacks here are two-fold. For one, You still need a system capable of playing your game at the resolution and framerate you desire. You may even want two systems so that all the capturing can happen on a completely separate machine. The second drawback is price. Professional capture cards and systems can be very expensive. That said, you usually get what you pay for in this area.
<p />
There are many hardware solutions available. Currently, Epic uses an <a href="http://www.aja.com/products/io/">Aja IO</a> board for capturing straight HDMI, which avoids the need for additional video processing.
<p />
<h2><a name="Encoding"></a> Encoding </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
What format you encode your videos to depends on what the end use of the video will be. One of the most popular formats on the web today is h264 encoded .mp4 videos with AAC encoded audio. This is a good format for a variety of uses and gives a very good ratio of video quality to file size. Also, this format is supported for uploading to <a href="http://www.youtube.com/">Youtube</a>, <a href="http://vimeo.com/">Vimeo</a>, and other video sharing sites.
<p />
In general, you will want your video to be 30 frames per second (USA, Canada, and Japan) or 25 frames per second (rest of the world) and you will want to make sure it is de-interlaced. This shouldn't be an issue when capturing or rendering frames, but if you are using footage from a video camera it is important to make sure it is de-interlaced.
<p />
Data rate of the target video is very important. You have a data rate for the video and a data rate for the audio. The higher the data rate, the better the quality and the larger the resulting file size. Again, this really depends on what the video will be used for in the end and you may want to do some testing with short videos until you have some values you are happy with.
<p />
Some suggestions for data rates from Vimeo's <a href="http://vimeo.com/help/compression">Compression Guidelines</a> are:
<p />
<table cellspacing="1" cellpadding="5" style="background:#909090;">
	<tr>
		<th>Format</th>
		<th>Video</th>
		<th>Audio</th>
	</tr>
	<tr>
		<td>SD (640x480)</td>
		<td>2000 kbps</td>
		<td>320 kbps / 44.100 kHz</td>
	</tr>
	<tr>
		<td>SD (863x480)</td>
		<td>3000 kbps</td>
		<td>320 kbps / 44.100 kHz</td>
	</tr>
	<tr>
		<td>HD (1280x720)</td>
		<td>5000 kbps</td>
		<td>320 kbps / 44.100 kHz</td>
	</tr>
</table>
<p />
The number of programs available for converting and encoding videos can be daunting. A very good one that is completely free is <a href="http://handbrake.fr/">Handbrake</a>. It can be used to easily encode the captured videos to a much more efficient file format for uploading or sharing.
<p />
Make sure you have Handbrake installed. You can download it from <a href="http://handbrake.fr/downloads.php">here</a>.
<p />
Once installed, run Handbrake.
<p />
<img alt="handbrake.jpg" src="rsrc/Three/CapturingCinematicsAndGameplay/handbrake.jpg" />
<p />
Click the <img alt="handbrake_source_button.jpg" src="rsrc/Three/CapturingCinematicsAndGameplay/handbrake_source_button.jpg" /> in the toolbar and then choose <em>Video File</em> from the menu.
<p />
<img alt="handbrake_open_file.jpg" src="rsrc/Three/CapturingCinematicsAndGameplay/handbrake_open_file.jpg" />
<p />
Locate and select the video file to encode. Set a destination file to encode to.
<p />
<img alt="handbrake_destination.jpg" src="rsrc/Three/CapturingCinematicsAndGameplay/handbrake_destination.jpg" />
<p />
Now, you need to set the endocding properties. A good starting point is to use one of the <em>Presets</em> in the panel on the right. The <em>normal</em> preset under <em>Regular</em> should be a solid jumping off point from which to modify some properties.
<p />
First, you need to decide what the target video's resolution should be. If the target video will be the same size as the original video, you can leave the <em>Anamorphic</em> setting on <em>Strict</em>. Otherwise, set it to <em>None</em> and then set the <em>Width</em> and <em>Height</em> for the encoded video.
<p />
<img alt="handbrake_picture.jpg" src="rsrc/Three/CapturingCinematicsAndGameplay/handbrake_picture.jpg" />
<p />
Select the <em>Video</em> tab. Here, you can set the codec to use for encoding. h.264 should already be selected. If it is not, select it. Under <em>Quality</em>, you have a choice of several methods. These are:
<p /> <ul>
<li> <strong>Target Size</strong> - Handbrake will attempt to encode the video so that the result will be near that number of MB. The lower the value, the worse the video quality will be.
</li> <li> <strong>Avg Bitrate</strong> - Handbrake will encode the video using the bitrate entered. The higher the value, the better the quality and the larger the filesize. This will result on a constant bitrate in the encoded video.
</li> <li> <strong>Constant Quality</strong> - Handbrake will adjust the bitrate to ensure the desired quality level chosen. The higher the quality, the larger the file in general. This will result in a variable bitratein teh encoded video.
</li></ul>
<p />
For this example, we will choose a constant bitrate of 2000 kbps as the video is being scaled down to 640x360.
<p />
<img alt="handbrake_quality.jpg" src="rsrc/Three/CapturingCinematicsAndGameplay/handbrake_quality.jpg" />
<p />
Select the <em>Audio</em> tab and then select the Track 1 from the list. Change the <em>mixdown</em> to <em>Stereo</em>, the <em>Samplerate</em> to <em>44.1</em>, and the <em>Bitrate</em> should be <em>160</em> as that is the highest allowed.
<p />
<img alt="handbrake_audio.jpg" src="rsrc/Three/CapturingCinematicsAndGameplay/handbrake_audio.jpg" />
<p />
The video is now ready to be encoded. Press the <img alt="handbrake_start.jpg" src="rsrc/Three/CapturingCinematicsAndGameplay/handbrake_start.jpg" /> button to begin the encode. The encoding console window should appear.
<p />
<img alt="handbrake_encoding_console.jpg" src="rsrc/Three/CapturingCinematicsAndGameplay/handbrake_encoding_console.jpg" />
<p />
The length of the encoding process is completely dependent on the encoding settings, the power of the machine doing the encoding, and the length of the video. It shouldn't take to long for shorter videos, though. If you need to abort the encoding process for any reason, simply press the <img alt="handbrake_stop_button.jpg" src="rsrc/Three/CapturingCinematicsAndGameplay/handbrake_stop_button.jpg" /> button.
<p />
Once the encoding process has finished, you can locate the encoded video and play it to test out the quality. If you are not happy with it, simply adjust the encoding settings and start the process again.
<p />
</noautolink>
<p />
<p />
<p />
<p />
<p />
<p />


<!-- BEGIN UE4 NOTICE -->



<div id="version_message" style="display:none;">

    <div style="position:fixed;top:0px;left:0px;width:100%;height:100%;background:#000;opacity:0.5;">

    </div>

    <div style="position:fixed;top:50%;left:50%;margin:-70px 0px 0px -240px;background:#FFF;border-radius:6px;width:480px;box-shadow:0px 5px 30px -5px rgba(0,0,0,0.9);">

        <div style="font-size:16px;font-weight:bold;background: url(rsrc/Three/warning.png) no-repeat scroll 5px 5px;padding:4px 10px 5px 25px;height:21px;width:440px;">

            Important!

        </div>

        <div style="font-size:11px;padding:5px 10px 10px;width:460px;">

            <p>You are viewing documentation for the <strong>Unreal Development Kit (UDK)</strong>.</p>



            <p>If you are looking for the Unreal Engine 4 documentation, please visit the <a style="color:#000;" href="https://docs.unrealengine.com">Unreal Engine 4 Documentation</a> site.</p>

        </div>

        <div style="height:20px;padding:4px;margin:6px;border-top:1px solid #a0a0a0;">

            <form onsubmit="return closeVersionMessage();">

                <input type="checkbox" id="dismiss" value="dismiss" />

                <label for="dsimiss">Don't show me this again</label>

                <input type="submit" value="Close" style="cursor:pointer;float:right;width:60px;color:#f0f0f0;font-weight:bold;background:#882222;height:24px;padding:2px 3px 3px;text-align:center;border:1px outset #000;" />

            </form>

        </div>

    </div>

</div>



<script type="text/javascript">

    window.onload = function () {

        LoadVersionMessage();

    }



    function LoadVersionMessage()

    {

        var showMessage = "false";
        if(showMessage != "false")

        {

            showVersionMessage();

        }

    }



    function showVersionMessage()

    {

        var message = document.getElementById("version_message");

        if(message)

        {

            message.style.display = "block";

        }

    }



    function closeVersionMessage() {

        var dismiss = document.getElementById("dismiss");

        var message = document.getElementById("version_message");

        if (message) {

            message.style.display = "none";

        }

        if (dismiss.checked) {

            eraseCookie("doc_version_message");

            createCookie("doc_version_message", "false", 365);

            dismiss.checked = false;

        }

        return false;

    }



    function createCookie(name, value, days) {

        if (days) {

            var date = new Date();

            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));

            var expires = "; expires=" + date.toGMTString();

        }

        else var expires = "";

        document.cookie = name + "=" + value + expires + "; path=/";

    }



    function readCookie(name) {

        var nameEQ = name + "=";

        var ca = document.cookie.split(';');

        for (var i = 0; i < ca.length; i++) {

            var c = ca[i];

            while (c.charAt(0) == ' ') c = c.substring(1, c.length);

            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);

        }

        return null;

    }



    function eraseCookie(name) {

        createCookie(name, "", -1);

    }

</script>



<!-- END UE4 NOTICE -->



</div></div><div id="footer"><div style="BACKGROUND-COLOR: transparent; margin: 0; padding: 0; width: 100%;"><div>&nbsp;</div><div style="float: left; text-align: left; vertical-align: bottom; width: 50%;"><a href="http://www.videogamevoters.org"><img src="rsrc/vgvn.jpg" border="0" width="234" height="60" alt="Video Game Voters Network" /></a></div><div style="float: right; text-align: right; vertical-align: bottom; width: 50%;">Copyright &copy; 2001-2012 <a href="http://www.epicgames.com" target="_top">Epic Games, Inc.</a><br /><a href="../Main/TermsAndConditions.html" class="twikiLink">Terms and Conditions</a><br /><a href="http://epicgames.com/privacynotice" target="_top">Privacy Notice</a></div></div></div></div>
<p />
</html></body>
