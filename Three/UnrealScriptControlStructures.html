<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title> UDK | UnrealScriptControlStructures    </title>

<style type="text/css" media="all">@import "rsrc/twiki_webs.css";</style>
<style type="text/css" media="all">@import "rsrc/udn_new.css";</style>
<link rel="icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />


<!-- view.static_udn3.tmpl  -->
<script language="JavaScript" type="text/javascript" src="rsrc/udn.js"></script>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

</head>
<p />
<body id="webbgThree">
<p />

<p />
<div id="webThree"><div id="head">
<!--
<div class="header">
 -->
<div style="background: url(/pub/webbg_udn.jpg); background-repeat: no-repeat; height:140px; width: 100%;" >
<!--
<div style="background: transparent url(/pub/udn_header_bg.jpg); background-repeat: repeat-x; height:140px; width: 100%; margin-left: 991px;">
 -->
<p />
<div id="nav">
<ul class="nav">
<font color=black>|</font>&nbsp;&nbsp;<li class=nav_Three><a href="../Main/WebHome.html" class="twikiLink">Main</a></li><font color=black>|</font><li class=nav_Three><a href="../Two/WebHome.html" class="twikiLink">UnrealEngine2</a></li><font color=black>|</font><li class=nav_Three><a href="WebHome.html" class="twikiLink">UnrealEngine3</a></li><font color=black>|</font><li class=nav_Three><a href="https://docs.unrealengine.com" class="twikiLink">UnrealEngine4</a></li><font color=black>|</font><li class=nav_Three><a href="../Main/BusinessAndLegal.html" class="twikiLink">Business &amp; Legal</a></li><font color=black>|</font>
</ul><br><br><br>
</div>
</div>
</div> <!-- end head -->
<div id="pagedefault">
<div id="maincol">
<div id="tool">
<div id="tooltop">UDN</div>
<div id="tooltext" style="padding: 10px 10px 10px 10px;">
Search public documentation: <br>
<form ACTION="/search/index.php" METHOD="GET" NAME="main" ID="main">
<input TYPE="TEXT" NAME="q" SIZE="15" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;">
<input TYPE="SUBMIT" VALUE="Search" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;"><br>
</form>
</div>
<div id="toolband">UnrealScriptControlStructures  </b></div>
<div id="tooltext">
<a href="UnrealScriptControlStructuresJP.html" class="twikiLink">日本語訳</a><br><a href="UnrealScriptControlStructuresCH.html" class="twikiLink">中国翻译</a><br><a href="UnrealScriptControlStructuresKR.html" class="twikiLink">한국어</a><br>

<!-- Three/UnrealScriptControlStructures -->
<hr size="1" noshade="noshade" />
Interested in the Unreal Engine? <br>
Visit the <a href="http://www.unrealtechnology.com" target="_top">Unreal Technology</a> site.<br>
<br>
Looking for jobs and company info? <br>
Check out the <a href="http://www.epicgames.com" target="_top">Epic games</a> site.<br>
<br>
Questions about support via UDN? <br>
Contact the <a href="../Main/ContactUDNStaff.html" class="twikiLink">UDN Staff</a> <br>
<br>
</div> <!-- end toolbox content -->
<div id="toolbottom"></div>
</div> <!-- end tool -->
<p />
<noautolink>
<p />
<div style="padding:0px 0px 0px 4px;font:10px Verdana;">
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="UnrealScriptHome.html" class="twikiLink">UnrealScript</a></b> &gt; <b><a href="UnrealScriptReference.html" class="twikiLink">UnrealScript Language Reference</a></b> &gt; UnrealScript Control Structures
</div>
<hr size="1" noshade="noshade">
<h1><a name="UnrealScript Control Structures"></a> UnrealScript Control Structures </h1>
<hr size="1" noshade="noshade">
<p />
<div class="twikiToc"> <ul>
<li> <a href="UnrealScriptControlStructures.html#UnrealScript Control Structures"> UnrealScript Control Structures</a> <ul>
<li> <a href="UnrealScriptControlStructures.html#Overview"> Overview</a>
</li> <li> <a href="UnrealScriptControlStructures.html#Selection Structures"> Selection Structures</a> <ul>
<li> <a href="UnrealScriptControlStructures.html#If Statements"> If Statements</a>
</li> <li> <a href="UnrealScriptControlStructures.html#Switch Statements"> Switch Statements</a>
</li></ul>
</li> <li> <a href="UnrealScriptControlStructures.html#Repetition Structures"> Repetition Structures</a> <ul>
<li> <a href="UnrealScriptControlStructures.html#For Loops"> For Loops</a>
</li> <li> <a href="UnrealScriptControlStructures.html#Do Loops"> Do Loops</a>
</li> <li> <a href="UnrealScriptControlStructures.html#While Loops"> While Loops</a>
</li></ul>
</li> <li> <a href="UnrealScriptControlStructures.html#Continue"> Continue</a>
</li> <li> <a href="UnrealScriptControlStructures.html#Break"> Break</a>
</li> <li> <a href="UnrealScriptControlStructures.html#Goto"> Goto</a>
</li></ul>
</li></ul>
</div>
<p />
<style type="text/css" media="all">@import "rsrc/UDNCSS_test.css";</style>
<p />
<h2><a name="Overview"></a> Overview </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
Many times you want the ability to have different code executed in different situations depending on certain factors or bits of code repeated. UnrealScript provides support for this through various control structures, such as <a href="UnrealScriptControlStructures.html#RepetitionStructures" class="twikiAnchorLink">loops</a>, <a href="UnrealScriptControlStructures.html#ConditionalStatements" class="twikiAnchorLink">conditional statements</a>, and <a href="UnrealScriptControlStructures.html#SwitchStatements" class="twikiAnchorLink">switch statements</a>.
<p />
In all of the flow control statements, you can either execute a single statement, without brackets, as follows:
<p />
<div class="codesnippet">
<pre>
<span style="color:#008800;">// Example of simple "if".</span>
if( LightBrightness < 20 )
	'log( "My light is dim" );
</pre>
</div>
<p />
Or you can execute multiple statements, surrounded by curly braces, like this:
<p />
<div class="codesnippet">
<pre>
<span style="color:#008800;">// Example of simple "if".</span>
if( LightBrightness < 20 )
{
	'log( "My light is dim" );
	'log( "Brightness ="@LightBrightness );
}
</pre>
</div>
<p />
It is generally recommended to use curly braces regardless of the number of statements. It makes your code easier to read and prevents logic errors from occurring by adding statements and forgetting to add curly braces.
<p />
<h2><a name="Selection Structures"></a> Selection Structures </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
Selection structures allow you to determine which direction the flow of your code takes based on some condition, e.g. the value of a variable, value of an expression, etc.
<p />
<a name="ConditionalStatements"></a>
<h3><a name="If Statements"></a> If Statements </h3>
<p />
An <strong>if statement</strong> lets you execute code if certain conditions are met. The simplest form is an <code><b>if</b></code> statement and a single condition. To check multiple conditions, <code><b>else if</b></code> statements can be used after the initial <code><b>if</b></code> statement, each with their own condition. Finally, a catch-all <strong>else</strong> statement can be used to specify a block of code to execute if none of the preceding conditions are met.
<p />
<div class="codesnippet">
<pre>
<span style="color:#008800;">// Example of simple "if".</span>
if( LightBrightness < 20 )
   log( "My light is dim" );

<span style="color:#008800;">// Example of "if-else".</span>
if( LightBrightness < 20 )
   log( "My light is dim" );
else
   log( "My light is bright" );

<span style="color:#008800;">// Example of "if-else if-else".</span>
if( LightBrightness < 20 )
   log( "My light is dim" );
else if( LightBrightness < 40 )
   log( "My light is medium" );
else if( LightBrightness < 60 )
   log( "My light is kinda bright" );
else
   log( "My light is very bright" );

<span style="color:#008800;">// Example of "if" with brackets.</span>
if( LightType == LT_Steady )
{
   log( "Light is steady" );
}
else
{
   log( "Light is not steady" );
}
</pre>
</div>
<p />
The examples above use conditions all checking the value of the same variable, but the conditions in the if/else if statements do not have to be related to each other in any way. They generally will be as it makes sense to group related items, but it is not a requirement.
<p />
<a name="SwitchStatements"></a>
<h3><a name="Switch Statements"></a> Switch Statements </h3>
<p />
A <strong>switch statement</strong> can be used to execute different code depending on the value of an expression. This structure begins by using the <code><b>switch</b></code> keyword followed by the variable or expression in parentheses. The different possible values are designated using the <code><b>case</b></code> keyword followed by the value and a colon. Each case can have any number of statements associated with it wihch will be executed if the value of the switch expression matches the value of the case. The <code><b><a href="UnrealScriptControlStructures.html#BreakStatements" class="twikiAnchorLink">break</a></b></code> command is used to halt execution and break out of the switch. If no <code><b>break</b></code> command is present, execution will "fall through" to any other cases that are below until continuing the end of the switch is reached. You can specify code to be executed if no case matches the switch expression by using the optional <code><b>default</b></code> keyword in the same manner the cases are specified.
<p />
<div class="codesnippet">
<pre>
<span style="color:#008800;">// Example of switch-case.</span>
function TestSwitch()
{
	<span style="color:#008800;">// Executed one of the case statements below, based on</span>
	<span style="color:#008800;">// the value in LightType.</span>
	switch( LightType )
	{
		case LT_None:
			log( "There is no lighting" );
			break;
		case LT_Steady:
			log( "There is steady lighting" );
			break;
		case LT_Backdrop:
			log( "There is backdrop lighting" );
			break;
		default:
			log( "There is dynamic" );
			break;
	}
}
</pre>
</div>
<p />
An example of allowing execution to fall through is shown below. This is useful for having the same code executed for multiple values without repeating the code.
<p />
<div class="codesnippet">
<pre>
<span style="color:#008800;">// Example of switch-case.</span>
function TestSwitch2()
{
	switch( LightType )
	{
		case LT_None:
			log( "There is no lighting" );
			break;
		case LT_Steady:   <span style="color:#008800;">// will "fall though" to the LT_Backdrop case</span>
		case LT_Backdrop:
			log( "There is lighting" );
			break;
		default:
			log( "Something else" );
			break;
	}
}
</pre>
</div>
<p />
<h2><a name="Repetition Structures"></a> Repetition Structures </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
Repetition structures, or <strong>loops</strong>, provide several different methods for repeating sections of code until some condition is met.
<p />
<a name="ForLoops"></a>
<h3><a name="For Loops"></a> For Loops </h3>
<p />
A <strong>for loop</strong> lets you repeat a block of code as long as some condition is met. In a for loop, you must specify three expressions separated by semicolons. The first expression is for initializing a variable to its starting value. The second expression gives a condition which is checked before each iteration of the loop executes; if this expression is true, the loop executes. If it's false, the loop terminates. Generally, this condition performs a check on the value of the variable initialized in the first expression. The third expression is performed after each loop but before the condition expression is evaluated again. Generally, this modifies the variable initialized in the first expression in some manner
<p />
For example:
<p />
<div class="codesnippet">
<pre>
<span style="color:#008800;">// Example of "for" loop.</span>
function ForExample()
{
	local int i;
	log( "Demonstrating the for loop" );
	for( i=0; i<4; i++ )
	{
		log( "The value of i is " $ i );
	}
	log( "Completed with i=" $ i);
}
</pre>
</div>
<p />
The output of this loop is:
<p />
<div class="codesnippet">
<pre>
Demonstrating the for loop
The value of i is 0
The value of i is 1
The value of i is 2
The value of i is 3
Completed with i&#61;4
</pre>
</div>
<p />
Though most for loop expressions just update a counter, you can also use for loops for more advanced things like traversing linked lists, by using the appropriate initialization, termination, and increment expressions.
<p />
<a name="DoLoops"></a>
<h3><a name="Do Loops"></a> Do Loops </h3>
<p />
A <strong>do loop</strong> lets you repeat a block of code while some ending expression is true. This means the block of code will always be executed at least once since the expression is not evaluated until afterward.
<p />
<strong>Note:</strong> Unreal uses <code><b>do-until</b></code> syntax, which differs from C/Java (which use <code><b>do-while</b></code>).
<p />
<div class="codesnippet">
<pre>
<span style="color:#008800;">// Example of "do" loop.</span>
function DoExample()
{
	local int i;
	log( "Demonstrating the do loop" );
	do
	{
		log( "The value of i is " $ i );
		i = i + 1;
	} until( i == 4 );
	log( "Completed with i=" $ i);
}
</pre>
</div>
<p />
The output of this loop is:
<p />
<div class="codesnippet">
<pre>
Demonstrating the do loop
The value of i is 0
The value of i is 1
The value of i is 2
The value of i is 3
Completed with i&#61;4
</pre>
</div>
<p />
<a name="WhileLoops"></a>
<h3><a name="While Loops"></a> While Loops </h3>
<p />
A <strong>while loop</strong> lets you repeat a block of code while some starting expression is true. The expression is evaluated prior to executing the block of code each time, so it is possible that the loop will never execute if the starting condition is never met.
<p />
<div class="codesnippet">
<pre>
<span style="color:#008800;">// Example of "while" loop.</span>
function WhileExample()
{
	local int i;
	log( "Demonstrating the while loop" );
	while( i < 4 )
	{
		log( "The value of i is " $ i );
		i = i + 1;
	}
	log( "Completed with i=" $ i);
}
</pre>
</div>
<p />
The output of this loop is:
<p />
<div class="codesnippet">
<pre>
Demonstrating the do loop
The value of i is 0
The value of i is 1
The value of i is 2
The value of i is 3
Completed with i&#61;4
</pre>
</div>
<p />
<a name="ContinueStatements"></a>
<h2><a name="Continue"></a> Continue </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
The <strong>continue</strong> command will jump back to the beginning of the loop, so everything after the continue command isn't executed. This can be used to skip the loop code in certain cases.
<p />
<div class="codesnippet">
<pre>
function ContinueExample()
{
   local int i;
   log( &#34;Demonstrating continue&#34; );
   for( i&#61;0; i&#60;4; i++ )
   {
      if( i &#61;&#61; 2 )
         continue;
      log( &#34;The value of i is &#34; $ i );
   }
   log( &#34;Completed with i&#61;&#34; $ i );
}
</pre>
</div>
<p />
The output of this loop is:
<p />
<div class="codesnippet">
<pre>
Demonstrating continue
The value of i is 0
The value of i is 1
The value of i is 3
Completed with i&#61;4
</pre>
</div>
<p />
<a name="BreakStatements"></a>
<h2><a name="Break"></a> Break </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
The <strong>break</strong> command exits out of the nearest loop ("For", "Do", or "While").
<p />
<div class="codesnippet">
<pre>
function BreakExample()
{
   local int i;
   log( &#34;Demonstrating break&#34; );
   for( i&#61;0; i&#60;10; i++ )
   {
      if( i &#61;&#61; 3 )
         break;
      log( &#34;The value of i is &#34; $ i );
   }
   log( &#34;Completed with i&#61;&#34; $ i );
}
</pre>
</div>
<p />
The output of this loop is:
<p />
<div class="codesnippet">
<pre>
Demonstrating break
The value of i is 0
The value of i is 1
The value of i is 2
Completed with i&#61;3
</pre>
</div>
<p />
Note that the "break" command can also be used to skip the remainder of a conditional statement("switch").
<p />
<a name="GotoStatements"></a>
<h2><a name="Goto"></a> Goto </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
The <strong>Goto</strong> command makes it possible to arbitrarily control the flow of code execution by specifying a label somewhere in the current function or state to "goto" and continue execution from that location.
<p />
<div class="codesnippet">
<pre>
<span style="color:#008800;">// Example of "goto".</span>
function GotoExample()
{
	log( "Starting GotoExample" );
	goto Hither;
Yon:
	log( "At Yon" );
	goto Elsewhere;
Hither:
	log( "At Hither" );
	goto Yon;
Elsewhere:
	log( "At Elsewhere" );
}
</pre>
</div>
<p />
The output is:
<p />
<div class="codesnippet">
<pre>
Starting GotoExample
At Hither
At Yon
At Elsewhere
</pre>
</div>
<p />
This can be useful in certain circumstances, especially within <a href="UnrealScriptStates.html" class="twikiLink">states</a>, but it can also present certain problems since the order of execution of your code is not immediately obvious. You will seldom, if ever, see this method of controlling code flow used anywhere other than in state code as most other situations lend themselves better to other control structures.
<p />
</noautolink>
<p />
<p />
<p />
<p />
<p />
<p />


<!-- BEGIN UE4 NOTICE -->



<div id="version_message" style="display:none;">

    <div style="position:fixed;top:0px;left:0px;width:100%;height:100%;background:#000;opacity:0.5;">

    </div>

    <div style="position:fixed;top:50%;left:50%;margin:-70px 0px 0px -240px;background:#FFF;border-radius:6px;width:480px;box-shadow:0px 5px 30px -5px rgba(0,0,0,0.9);">

        <div style="font-size:16px;font-weight:bold;background: url(rsrc/Three/warning.png) no-repeat scroll 5px 5px;padding:4px 10px 5px 25px;height:21px;width:440px;">

            Important!

        </div>

        <div style="font-size:11px;padding:5px 10px 10px;width:460px;">

            <p>You are viewing documentation for the <strong>Unreal Development Kit (UDK)</strong>.</p>



            <p>If you are looking for the Unreal Engine 4 documentation, please visit the <a style="color:#000;" href="https://docs.unrealengine.com">Unreal Engine 4 Documentation</a> site.</p>

        </div>

        <div style="height:20px;padding:4px;margin:6px;border-top:1px solid #a0a0a0;">

            <form onsubmit="return closeVersionMessage();">

                <input type="checkbox" id="dismiss" value="dismiss" />

                <label for="dsimiss">Don't show me this again</label>

                <input type="submit" value="Close" style="cursor:pointer;float:right;width:60px;color:#f0f0f0;font-weight:bold;background:#882222;height:24px;padding:2px 3px 3px;text-align:center;border:1px outset #000;" />

            </form>

        </div>

    </div>

</div>



<script type="text/javascript">

    window.onload = function () {

        LoadVersionMessage();

    }



    function LoadVersionMessage()

    {

        var showMessage = "false";
        if(showMessage != "false")

        {

            showVersionMessage();

        }

    }



    function showVersionMessage()

    {

        var message = document.getElementById("version_message");

        if(message)

        {

            message.style.display = "block";

        }

    }



    function closeVersionMessage() {

        var dismiss = document.getElementById("dismiss");

        var message = document.getElementById("version_message");

        if (message) {

            message.style.display = "none";

        }

        if (dismiss.checked) {

            eraseCookie("doc_version_message");

            createCookie("doc_version_message", "false", 365);

            dismiss.checked = false;

        }

        return false;

    }



    function createCookie(name, value, days) {

        if (days) {

            var date = new Date();

            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));

            var expires = "; expires=" + date.toGMTString();

        }

        else var expires = "";

        document.cookie = name + "=" + value + expires + "; path=/";

    }



    function readCookie(name) {

        var nameEQ = name + "=";

        var ca = document.cookie.split(';');

        for (var i = 0; i < ca.length; i++) {

            var c = ca[i];

            while (c.charAt(0) == ' ') c = c.substring(1, c.length);

            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);

        }

        return null;

    }



    function eraseCookie(name) {

        createCookie(name, "", -1);

    }

</script>



<!-- END UE4 NOTICE -->



</div></div><div id="footer"><div style="BACKGROUND-COLOR: transparent; margin: 0; padding: 0; width: 100%;"><div>&nbsp;</div><div style="float: left; text-align: left; vertical-align: bottom; width: 50%;"><a href="http://www.videogamevoters.org"><img src="rsrc/vgvn.jpg" border="0" width="234" height="60" alt="Video Game Voters Network" /></a></div><div style="float: right; text-align: right; vertical-align: bottom; width: 50%;">Copyright &copy; 2001-2012 <a href="http://www.epicgames.com" target="_top">Epic Games, Inc.</a><br /><a href="../Main/TermsAndConditions.html" class="twikiLink">Terms and Conditions</a><br /><a href="http://epicgames.com/privacynotice" target="_top">Privacy Notice</a></div></div></div></div>
<p />
</html></body>
