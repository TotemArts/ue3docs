<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title> UDK | CLIKIconScrollList    </title>

<style type="text/css" media="all">@import "rsrc/twiki_webs.css";</style>
<style type="text/css" media="all">@import "rsrc/udn_new.css";</style>
<link rel="icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />


<!-- view.static_udn3.tmpl  -->
<script language="JavaScript" type="text/javascript" src="rsrc/udn.js"></script>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

</head>
<p />
<body id="webbgThree">
<p />

<p />
<div id="webThree"><div id="head">
<!--
<div class="header">
 -->
<div style="background: url(/pub/webbg_udn.jpg); background-repeat: no-repeat; height:140px; width: 100%;" >
<!--
<div style="background: transparent url(/pub/udn_header_bg.jpg); background-repeat: repeat-x; height:140px; width: 100%; margin-left: 991px;">
 -->
<p />
<div id="nav">
<ul class="nav">
<font color=black>|</font>&nbsp;&nbsp;<li class=nav_Three><a href="../Main/WebHome.html" class="twikiLink">Main</a></li><font color=black>|</font><li class=nav_Three><a href="../Two/WebHome.html" class="twikiLink">UnrealEngine2</a></li><font color=black>|</font><li class=nav_Three><a href="WebHome.html" class="twikiLink">UnrealEngine3</a></li><font color=black>|</font><li class=nav_Three><a href="https://docs.unrealengine.com" class="twikiLink">UnrealEngine4</a></li><font color=black>|</font><li class=nav_Three><a href="../Main/BusinessAndLegal.html" class="twikiLink">Business &amp; Legal</a></li><font color=black>|</font>
</ul><br><br><br>
</div>
</div>
</div> <!-- end head -->
<div id="pagedefault">
<div id="maincol">
<div id="tool">
<div id="tooltop">UDN</div>
<div id="tooltext" style="padding: 10px 10px 10px 10px;">
Search public documentation: <br>
<form ACTION="/search/index.php" METHOD="GET" NAME="main" ID="main">
<input TYPE="TEXT" NAME="q" SIZE="15" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;">
<input TYPE="SUBMIT" VALUE="Search" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;"><br>
</form>
</div>
<div id="toolband">CLIKIconScrollList  </b></div>
<div id="tooltext">
<a href="CLIKIconScrollListJP.html" class="twikiLink">日本語訳</a><br><a href="CLIKIconScrollListCH.html" class="twikiLink">中国翻译</a><br><a href="CLIKIconScrollListKR.html" class="twikiLink">한국어</a><br>

<!-- Three/CLIKIconScrollList -->
<hr size="1" noshade="noshade" />
Interested in the Unreal Engine? <br>
Visit the <a href="http://www.unrealtechnology.com" target="_top">Unreal Technology</a> site.<br>
<br>
Looking for jobs and company info? <br>
Check out the <a href="http://www.epicgames.com" target="_top">Epic games</a> site.<br>
<br>
Questions about support via UDN? <br>
Contact the <a href="../Main/ContactUDNStaff.html" class="twikiLink">UDN Staff</a> <br>
<br>
</div> <!-- end toolbox content -->
<div id="toolbottom"></div>
</div> <!-- end tool -->
<p />
<noautolink>
<style type="text/css" media="all">@import "rsrc/UDNCSS_test.css";</style>
<div style="padding:0px 0px 0px 4px;font:10px Verdana;">
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="UIAndHUDHome.html" class="twikiLink">User Interfaces &amp; HUDs</a></b> &gt; <b><a href="Scaleform.html" class="twikiLink">Scaleform GFx</a></b> &gt; How to display icons in a scrolling list
</div>
<hr size="1" noshade="noshade">
<p />
<h1><a name="How to display icons in a scrolling list"></a> How to display icons in a scrolling list </h1>
<hr size="1" noshade="noshade">
<p />
<div class="twikiToc"> <ul>
<li> <a href="CLIKIconScrollList.html#How to display icons in a scrolling list"> How to display icons in a scrolling list</a> <ul>
<li> <a href="CLIKIconScrollList.html#Overview"> Overview</a>
</li> <li> <a href="CLIKIconScrollList.html#Create a Custom _ListItemRenderer _ActionScript Class"> Create a Custom ListItemRenderer ActionScript Class</a>
</li> <li> <a href="CLIKIconScrollList.html#Create a Custom _ListItemRenderer FLA file"> Create a Custom ListItemRenderer FLA file</a>
</li> <li> <a href="CLIKIconScrollList.html#Create a configuration file containing Data Used to Populate the Scrolling List"> Create a configuration file containing Data Used to Populate the Scrolling List</a>
</li> <li> <a href="CLIKIconScrollList.html#Setup the Scrolling List in _UnrealScript"> Setup the Scrolling List in UnrealScript</a>
</li></ul>
</li></ul>
</div>
<p />
<h2><a name="Overview"></a> Overview </h2>
<hr size="1" noshade="noshade">
Want to display text and an icon in your CLIK Scrolling Lists and Drop Downs? This tutorial assumes you already have a working Menu class, with a CLIK Scrolling List in it.
<p />
The first thing to do is to create your own ListItemRender. The ListItemRenderer (gfx.controls.ListItemRenderer) derives from the CLIK Button class and extends it to include list-related properties that are useful for its container components. In other words, a ListItemRenderer is essentially a button used by Scrolling Lists and Drop Downs to display each option in the list/drop down. Modifying this component means modifying what/how each option is displayed.
<p />
<p />
<h2><a name="Create a Custom _ListItemRenderer _ActionScript Class"></a> Create a Custom ListItemRenderer ActionScript Class </h2>
<hr size="1" noshade="noshade">
Rather than modify the original ListItemRenderer, it is always a better idea to "extend" the class by creating a new version with modified code. Here's the full ActionScript code for our new ListItemRenderer.
<p />
<div class="codetitlebar">
MyListItemRenderer.as
</div>
<div class="codesnippet">
<pre>
import gfx.controls.ListItemRenderer;
import gfx.controls.UILoader;

class gfx.controls.MyListItemRenderer extends ListItemRenderer
{
  public var textField:TextField;
  public var imageLoader:UILoader;

  public function MyListItemRenderer()
  {
    super();
  }

  public function setData(data:Object):Void
  {
    this.data &#61; data;

    textField.text &#61; data ? data.label : &#34;&#34;;
    imageLoader.source &#61; data ? data.iconimage : &#34;&#34;;
  }

  private function updateAfterStateChange():Void
  {
    textField.text &#61; data ? data.label : &#34;&#34;;
    imageLoader.source &#61; data ? data.iconimage : &#34;&#34;;
  }
}
</pre>
</div>
<p />
Save this class as: C:\UDK\UDK-2011-09\Development\Flash\CLIK\gfx\controls\MyListItemRenderer.as
<p />
<p />
<h2><a name="Create a Custom _ListItemRenderer FLA file"></a> Create a Custom ListItemRenderer FLA file </h2>
<hr size="1" noshade="noshade">
Now that we've created the backend of our new ListItemRenderer, we need the front end, or the visual representation of it. The easiest way to do that is to modify the pre-existing ListItemRenderer Flash file, saving it as a new file.
<p /> <ul>
<li> Open C:\UDK\UDK-2011-09\Development\Flash\CLIK\components\ListItemRenderer.FLA
</li> <li> Now save the file with a new name (Save As) - and name it MyListItemRenderer.FLA
</li> <li> Open C:\UDK\UDK-2011-09\Development\Flash\CLIK\components\UILoader.FLA
</li> <li> Go into the Library panel, and right click UILoader.
</li> <li> Select Copy.
</li> <li> Return to MyListItemRenderer.FLA.
</li> <li> Go into the Library panel, and right click on a blank space.
</li> <li> Select Paste to paste the UILoader into the library.
</li> <li> Right click ListItemRenderer in the Library panel and select Properties.
</li> <li> Change the Name to: MyListItemRenderer
</li> <li> Change the Identifier to: MyListItemRenderer
</li> <li> Change the Class to: gfx.controls.MyListItemRenderer
</li> <li> Press OK.
</li> <li> Right click MyListItemRenderer (again) and choose Component Definition.
</li> <li> Change Class to: gfx.controls.MyListItemRenderer
</li> <li> Press OK.
</li> <li> Double click the MyListItemRenderer component on the stage to enter its timeline.
</li> <li> Add a new layer above the item layer and name it 'icon'.
</li> <li> Select the icon layer.
</li> <li> Drag and drop a UILoader from the Library panel to the stage, and position/scale it so it fits how you like it.
</li> <li> Give the UILoader component an instance name of 'imageLoader'.
</li> <li> Save &amp; Publish this file (MyListItemRenderer).
</li> <li> Now open your Menu file which contains a Scrolling List or Drop Down.
</li> <li> Copy MyListItemRenderer from the MyListItemRenderer Library into the Library of your Menu file.
</li> <li> Select your Scrolling List or Drop Down CLIK component (on the stage).
</li> <li> Open the Component Parameters and set the itemRenderer field to: MyListItemRenderer
</li> <li> Save and Publish this file.
</li> <li> Reimport the file into UDK.
</li></ul>
<p />
<p />
<h2><a name="Create a configuration file containing Data Used to Populate the Scrolling List"></a> Create a configuration file containing Data Used to Populate the Scrolling List </h2>
<hr size="1" noshade="noshade">
There are a number of ways we could populate our scrolling list with options. One way is to use a config file that defines each option.
<p />
Create a config file, and name it DefaultScaleformMenu.ini (saved in C:\UDK\UDK-2011-09\UDKGame\Config\)
<p />
<div class="codesnippet">
<pre>
&#91;Configuration]
BasedOn&#61;..\Engine\Config\BaseUI.ini

&#91;SFTutorial.SFMenu]
+ListOptions&#61;(OptionName&#61;&#34;Option 1&#34;,OptionLabel&#61;&#34;Tame&#34;,OptionDesc&#61;&#34;Easy&#34;,OptionImage&#61;&#34;img://MyIconPackage.icon1&#34;)
+ListOptions&#61;(OptionName&#61;&#34;Option 2&#34;,OptionLabel&#61;&#34;Wild&#34;,OptionDesc&#61;&#34;Medium&#34;,OptionImage&#61;&#34;img://MyIconPackage.icon2&#34;)
+ListOptions&#61;(OptionName&#61;&#34;Option 3&#34;,OptionLabel&#61;&#34;Crazy&#34;,OptionDesc&#61;&#34;Hard&#34;,OptionImage&#61;&#34;img://MyIconPackage.icon3&#34;)
+ListOptions&#61;(OptionName&#61;&#34;Option 4&#34;,OptionLabel&#61;&#34;Insane&#34;,OptionDesc&#61;&#34;Very hard&#34;,OptionImage&#61;&#34;img://MyIconPackage.icon4&#34;)
</pre>
</div>
<p />
Now, ensure you have icon images in a UDK package. The path to these images must match whatever you put in the OptionImage part of each ListOption above.
<p />
<img src="rsrc/TWiki/TWikiDocGraphics/warning.gif" alt="ALERT!" title="ALERT!" width="16" height="16" border="0" /> <strong>Note:</strong> These images must be PNGs.
<p />
<p />
<h2><a name="Setup the Scrolling List in _UnrealScript"></a> Setup the Scrolling List in UnrealScript </h2>
<hr size="1" noshade="noshade">
Last of all, we need to add the UnrealScript that does the work of populating our Scrolling List when it's on screen. First, make sure your Menu class draws from the config file you created above:
<p />
<div class="codetitlebar">
SFMenu.uc
</div>
<div class="codesnippet">
<pre>
class SFMenu extends GFxMoviePlayer
  config(ScaleformMenu);
</pre>
</div>
<p />
Then, create the Option data structure to be used by the Scrolling List. Notice how each variable name matches the options' properties in the config file (OptionName, OptionLabel, etc.):
<p />
<div class="codetitlebar">
SFMenu.uc
</div>
<div class="codesnippet">
<pre>
struct Option
{
    var string OptionName;
    var string OptionLabel;
    var string OptionDesc;
    var string OptionImage;
};
</pre>
</div>
<p />
Next, create the Scrolling List Options array. The array name should match the name used in the config file for each line item (ListOptions). By adding the keyword config, the array will be populated by the config file.:
<p />
<div class="codetitlebar">
SFMenu.uc
</div>
<div class="codesnippet">
<pre>
var config array&#60;Option&#62; ListOptions;
</pre>
</div>
<p />
Declare the Scrolling List CLIK Widget:
<p />
<div class="codetitlebar">
SFMenu.uc
</div>
<div class="codesnippet">
<pre>
var GFxClikWidget ScrollingList;
</pre>
</div>
<p />
Tell the Scrolling List to populate itself in the WidgetInitialized() function:
<p />
<div class="codetitlebar">
SFMenu.uc
</div>
<div class="codesnippet">
<pre>
event bool WidgetInitialized(name WidgetName, name WidgetPath, GFxObject Widget)
{
  switch(WidgetName)
  {
    case (&#39;sl&#39;): // this assumes your Scrolling List has an instance name of &#39;sl&#39; in Flash.
      ScrollingList &#61; GFxClikWidget(Widget);
      SetUpDataProvider(ScrollingList);
      break;

   default:
      break;
  }

  return true;
}
</pre>
</div>
<p />
Now, the function that actually populates the list:
<p />
<div class="codetitlebar">
SFMenu.uc
</div>
<div class="codesnippet">
<pre>
function SetUpDataProvider(GFxClikWidget Widget)
{
  local byte i;
  local GFxObject DataProvider;
  local GFxObject TempObj;

  DataProvider &#61; CreateArray();
  switch(Widget)
  {
  case (ScrollingList):
    for (i &#61; 0; i &#60; ListOptions.Length; i++)
    {
      TempObj &#61; CreateObject(&#34;Object&#34;);
      TempObj.SetString(&#34;name&#34;, ListOptions&#91;i].OptionName);
      TempObj.SetString(&#34;label&#34;, ListOptions&#91;i].OptionLabel); // this will be displayed in the list
      TempObj.SetString(&#34;desc&#34;, ListOptions&#91;i].OptionDesc);
      TempObj.SetString(&#34;iconimage&#34;, ListOptions&#91;i].OptionImage);
      DataProvider.SetElementObject(i, TempObj);
    }

    Widget.SetFloat(&#34;rowCount&#34;, ListOptions.Length);   // you must specify the row count of scrolling lists manually
    break;

  default:
    break;
  }

  Widget.SetObject(&#34;dataProvider&#34;, DataProvider);
}
</pre>
</div>
<p />
Finally, bind the widget:
<p />
<div class="codetitlebar">
SFMenu.uc
</div>
<div class="codesnippet">
<pre>
defaultproperties
{
  WidgetBindings.Add((WidgetName&#61;&#34;sl&#34;,WidgetClass&#61;class&#39;GFxClikWidget&#39;))  // this assumes your Scrolling List has an instance name of &#39;sl&#39; in Flash.
}
</pre>
</div>
<p />
Save/Compile and test your menu.
</noautolink>
<p />
<p />
<p />
<p />
<p />
<p />


<!-- BEGIN UE4 NOTICE -->



<div id="version_message" style="display:none;">

    <div style="position:fixed;top:0px;left:0px;width:100%;height:100%;background:#000;opacity:0.5;">

    </div>

    <div style="position:fixed;top:50%;left:50%;margin:-70px 0px 0px -240px;background:#FFF;border-radius:6px;width:480px;box-shadow:0px 5px 30px -5px rgba(0,0,0,0.9);">

        <div style="font-size:16px;font-weight:bold;background: url(rsrc/Three/warning.png) no-repeat scroll 5px 5px;padding:4px 10px 5px 25px;height:21px;width:440px;">

            Important!

        </div>

        <div style="font-size:11px;padding:5px 10px 10px;width:460px;">

            <p>You are viewing documentation for the <strong>Unreal Development Kit (UDK)</strong>.</p>



            <p>If you are looking for the Unreal Engine 4 documentation, please visit the <a style="color:#000;" href="https://docs.unrealengine.com">Unreal Engine 4 Documentation</a> site.</p>

        </div>

        <div style="height:20px;padding:4px;margin:6px;border-top:1px solid #a0a0a0;">

            <form onsubmit="return closeVersionMessage();">

                <input type="checkbox" id="dismiss" value="dismiss" />

                <label for="dsimiss">Don't show me this again</label>

                <input type="submit" value="Close" style="cursor:pointer;float:right;width:60px;color:#f0f0f0;font-weight:bold;background:#882222;height:24px;padding:2px 3px 3px;text-align:center;border:1px outset #000;" />

            </form>

        </div>

    </div>

</div>



<script type="text/javascript">

    window.onload = function () {

        LoadVersionMessage();

    }



    function LoadVersionMessage()

    {

        var showMessage = "false";
        if(showMessage != "false")

        {

            showVersionMessage();

        }

    }



    function showVersionMessage()

    {

        var message = document.getElementById("version_message");

        if(message)

        {

            message.style.display = "block";

        }

    }



    function closeVersionMessage() {

        var dismiss = document.getElementById("dismiss");

        var message = document.getElementById("version_message");

        if (message) {

            message.style.display = "none";

        }

        if (dismiss.checked) {

            eraseCookie("doc_version_message");

            createCookie("doc_version_message", "false", 365);

            dismiss.checked = false;

        }

        return false;

    }



    function createCookie(name, value, days) {

        if (days) {

            var date = new Date();

            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));

            var expires = "; expires=" + date.toGMTString();

        }

        else var expires = "";

        document.cookie = name + "=" + value + expires + "; path=/";

    }



    function readCookie(name) {

        var nameEQ = name + "=";

        var ca = document.cookie.split(';');

        for (var i = 0; i < ca.length; i++) {

            var c = ca[i];

            while (c.charAt(0) == ' ') c = c.substring(1, c.length);

            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);

        }

        return null;

    }



    function eraseCookie(name) {

        createCookie(name, "", -1);

    }

</script>



<!-- END UE4 NOTICE -->



</div></div><div id="footer"><div style="BACKGROUND-COLOR: transparent; margin: 0; padding: 0; width: 100%;"><div>&nbsp;</div><div style="float: left; text-align: left; vertical-align: bottom; width: 50%;"><a href="http://www.videogamevoters.org"><img src="rsrc/vgvn.jpg" border="0" width="234" height="60" alt="Video Game Voters Network" /></a></div><div style="float: right; text-align: right; vertical-align: bottom; width: 50%;">Copyright &copy; 2001-2012 <a href="http://www.epicgames.com" target="_top">Epic Games, Inc.</a><br /><a href="../Main/TermsAndConditions.html" class="twikiLink">Terms and Conditions</a><br /><a href="http://epicgames.com/privacynotice" target="_top">Privacy Notice</a></div></div></div></div>
<p />
</html></body>
