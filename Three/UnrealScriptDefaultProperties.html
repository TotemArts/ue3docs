<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title> UDK | UnrealScriptDefaultProperties    </title>

<style type="text/css" media="all">@import "rsrc/twiki_webs.css";</style>
<style type="text/css" media="all">@import "rsrc/udn_new.css";</style>
<link rel="icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />


<!-- view.static_udn3.tmpl  -->
<script language="JavaScript" type="text/javascript" src="rsrc/udn.js"></script>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

</head>
<p />
<body id="webbgThree">
<p />

<p />
<div id="webThree"><div id="head">
<!--
<div class="header">
 -->
<div style="background: url(/pub/webbg_udn.jpg); background-repeat: no-repeat; height:140px; width: 100%;" >
<!--
<div style="background: transparent url(/pub/udn_header_bg.jpg); background-repeat: repeat-x; height:140px; width: 100%; margin-left: 991px;">
 -->
<p />
<div id="nav">
<ul class="nav">
<font color=black>|</font>&nbsp;&nbsp;<li class=nav_Three><a href="../Main/WebHome.html" class="twikiLink">Main</a></li><font color=black>|</font><li class=nav_Three><a href="../Two/WebHome.html" class="twikiLink">UnrealEngine2</a></li><font color=black>|</font><li class=nav_Three><a href="WebHome.html" class="twikiLink">UnrealEngine3</a></li><font color=black>|</font><li class=nav_Three><a href="https://docs.unrealengine.com" class="twikiLink">UnrealEngine4</a></li><font color=black>|</font><li class=nav_Three><a href="../Main/BusinessAndLegal.html" class="twikiLink">Business &amp; Legal</a></li><font color=black>|</font>
</ul><br><br><br>
</div>
</div>
</div> <!-- end head -->
<div id="pagedefault">
<div id="maincol">
<div id="tool">
<div id="tooltop">UDN</div>
<div id="tooltext" style="padding: 10px 10px 10px 10px;">
Search public documentation: <br>
<form ACTION="/search/index.php" METHOD="GET" NAME="main" ID="main">
<input TYPE="TEXT" NAME="q" SIZE="15" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;">
<input TYPE="SUBMIT" VALUE="Search" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;"><br>
</form>
</div>
<div id="toolband">UnrealScriptDefaultProperties  </b></div>
<div id="tooltext">
<a href="UnrealScriptDefaultPropertiesJP.html" class="twikiLink">日本語訳</a><br><a href="UnrealScriptDefaultPropertiesCH.html" class="twikiLink">中国翻译</a><br><a href="UnrealScriptDefaultPropertiesKR.html" class="twikiLink">한국어</a><br>

<!-- Three/UnrealScriptDefaultProperties -->
<hr size="1" noshade="noshade" />
Interested in the Unreal Engine? <br>
Visit the <a href="http://www.unrealtechnology.com" target="_top">Unreal Technology</a> site.<br>
<br>
Looking for jobs and company info? <br>
Check out the <a href="http://www.epicgames.com" target="_top">Epic games</a> site.<br>
<br>
Questions about support via UDN? <br>
Contact the <a href="../Main/ContactUDNStaff.html" class="twikiLink">UDN Staff</a> <br>
<br>
</div> <!-- end toolbox content -->
<div id="toolbottom"></div>
</div> <!-- end tool -->
<p />
<noautolink>
<p />
<div style="padding:0px 0px 0px 4px;font:10px Verdana;">
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="UnrealScriptHome.html" class="twikiLink">UnrealScript</a></b> &gt; <b><a href="UnrealScriptReference.html" class="twikiLink">UnrealScript Language Reference</a></b> &gt; UnrealScript Default Properties
</div>
<hr size="1" noshade="noshade">
<h1><a name="UnrealScript Default Properties"></a> UnrealScript Default Properties </h1>
<hr size="1" noshade="noshade">
<p />
<div class="twikiToc"> <ul>
<li> <a href="UnrealScriptDefaultProperties.html#UnrealScript Default Properties"> UnrealScript Default Properties</a> <ul>
<li> <a href="UnrealScriptDefaultProperties.html#Overview"> Overview</a>
</li> <li> <a href="UnrealScriptDefaultProperties.html#Specifying Default Property Values"> Specifying Default Property Values</a>
</li> <li> <a href="UnrealScriptDefaultProperties.html#Struct Defaults"> Struct Defaults</a>
</li> <li> <a href="UnrealScriptDefaultProperties.html#Accessing default values of variables"> Accessing default values of variables</a> <ul>
<li> <a href="UnrealScriptDefaultProperties.html#Accessing default values of variables through a class reference"> Accessing default values of variables through a class reference</a>
</li></ul>
</li></ul>
</li></ul>
</div>
<p />
<style type="text/css" media="all">@import "rsrc/UDNCSS_test.css";</style>
<p />
<h2><a name="Overview"></a> Overview </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
When an object is created in the game, its properties are initialized to "default" values. These are values set by the gameplay programmer who created the class used to create the object. In many programming languages, a special function, the constructor, is called when objects are created to allow for initilizing variables. UnrealScript does not have an exact equivalent to this concept. Instead, UnrealScript uses a special block of "code" called the <code><b>defaultproperties</b></code> block to allow for setting up values for any or all of the instance variables belonging to the class to be used for initialization purposes when an instance of that class is created. This block of code always goes at the end of the script after all function and state declarations and, while it is part of UnrealScript, the code within this block is not standard UnrealScript and follows slightly different rules.
<p />
<a name="DefaultPropertiesParser"></a>
<h2><a name="Specifying Default Property Values"></a> Specifying Default Property Values </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
As mentioned previously, the rules of the <code><b>defaultproperties</b></code> block is slightly different from the standard unrealscript syntax. The general differences are:
<p /> <ul>
<li> Statements are not allowed in the defaultproperties block, with the exception of dynamic array operations. This means you cannot perform calculations, call functions, etc. The <code><b>defaultproperties</b></code> block is solely for assigning literal values to instance variables.
</li> <li> Semi-colons can be placed at the end of each line, but are not required
</li> <li> Spaces should be avoided (such as between variable name, assignment operator, and value).
</li> <li> The opening curly brace of the <code><b>defaultproperties</b></code> block should be on a new line.
</li></ul>
<p />
In addition to the basic differences listed above, the syntax for some types also differs from the standard assignment syntax in UnrealScript. The syntax for specifying default values for the different variable types are listed below:
<p />
<strong>Simple Types (Ints, Floats, Bools, Bytes):</strong>
<p />
<div class="codesnippet">
<pre>
VarName&#61;Value
</pre>
</div>
<p />
<strong>Static Array:</strong>
<p />
<div class="codesnippet">
<pre>
ArrayProp(0)&#61;Value1
ArrayProp(1)&#61;Value2
</pre>
</div>
<p />
Or
<p />
<div class="codesnippet">
<pre>
ArrayProp&#91;0]&#61;Value1
ArrayProp&#91;1]&#61;Value2
</pre>
</div>
<p />
<strong>Dynamic Arrays:</strong>
<p />
<div class="codesnippet">
<pre>
ArrayProp&#61;(Value1,Value2,Value3)
</pre>
</div>
<p />
Or
<p />
<div class="codesnippet">
<pre>
ArrayProp(0)&#61;Value1
ArrayProp(1)&#61;Value2
ArrayProp(2)&#61;Value3
</pre>
</div>
<p />
Or
<p />
<div class="codesnippet">
<pre>
ArrayProp.Add(Value1)
ArrayProp.Add(Value2)
ArrayProp.Add(Value3)
</pre>
</div>
<p />
<strong>Names:</strong>
<p />
<div class="codesnippet">
<pre>
NameProp&#61;&#39;Value&#39;
</pre>
</div>
<p />
Or
<p />
<div class="codesnippet">
<pre>
NameProp&#61;Value
</pre>
</div>
<p />
<strong>Objects:</strong>
<p />
<div class="codesnippet">
<pre>
ObjectProp&#61;ObjectClass&#39;ObjectName&#39;
</pre>
</div>
<p />
<strong>Subobjects:</strong>
<p />
<div class="codesnippet">
<pre>
Begin Object Class&#61;ObjectClass Name&#61;ObjectName
   VarName&#61;Value
   ...
End Object
ObjectProperty&#61;ObjectName
</pre>
</div>
<p />
<strong>Structs (including Vectors, Rotators, etc.):</strong>
<p />
<div class="codesnippet">
<pre>
StructProperty&#61;(InnerStructPropertyA&#61;Value1,InnerStructPropertyB&#61;Value2)
</pre>
</div>
<p />
Or
<p />
<div class="codesnippet">
<pre>
StructProperty&#61;{(
                  InnerStructPropertyA&#61;Value1,
                  InnerStructPropertyB&#61;Value2
               )}
</pre>
</div>
<p />
<strong>NOTE:</strong> Some types require different syntax when used inside a struct default value.
<p /> <ul>
<li> Inline static arrays must be declared like so (Notice that brackets "[]" are used here for the array delimiter instead of parenthesis "()"):	<div class="codesnippet">	<pre>
   StructProperty&#61;(StaticArray&#91;0]&#61;Value,StaticArrayProp&#91;1]&#61;Value)
   </pre>	</div>
</li> <li> Inline dynamic arrays must be declared using the single line syntax:   <div class="codesnippet">   <pre>
   StructProperty&#61;(DynamicArray&#61;(Value,Value))&#60;/code&#62;
   </pre>   </div>
</li> <li> Inline name variables must be wrapped with quotes:   <div class="codesnippet">   <pre>
   StructProperty&#61;(NameProperty&#61;&#34;Value&#34;)
   </pre>   </div>
</li></ul>
<p />
<strong>Dynamic Array Operations</strong> - These can be used to modify the contents of a dynamic array, which can be inherited by a parent.
<p /> <ul>
<li> <strong>Empty</strong> - Clears the whole array.   <div class="codesnippet">   <pre>
   Array.Empty
   </pre>   <div>
</li> <li> <strong>Add(element)</strong> - Adds <code><b>element</b></code> to the end of the array.   <div class="codesnippet">   <pre>
   Array.Add(element)
   </pre>   <div>
</li> <li> <strong>Remove(element)</strong> - Removes the <code><b>element</b></code> from the array, this will remove all occurences of the <code><b>element</b></code>.   <div class="codesnippet">   <pre>
   Array.Remove(element)
   </pre>   <div>
</li> <li> <strong>RemoveIndex(index)</strong> - Removes the element at the given <code><b>index</b></code>.   <div class="codesnippet">   <pre>
   Array.RemoveIndex(index)
   </pre>   <div>
</li> <li> <strong>Replace(element1, element2)</strong> - Replaces <code><b>element1</b></code> with <code><b>element2</b></code>. All occurences will be replaced. A warning is produced with <code><b>element1</b></code> is not found.   <div class="codesnippet">   <pre>
   Array.Replace(element1, element2)
   </pre>   <div>
</li></ul>
<p />
The following is an example of a complete <code><b>defaultproperties</b></code> block (based on <code><b>Actor.uc</b></code>):
<p />
<div class="codesnippet">
<pre>
defaultproperties
{
   	<span style="color:#008800;">// objects</span>
   	MessageClass=class'LocalMessage'

	<span style="color:#008800;">// declare an inline subobject of class SpriteComponent named "Sprite"</span>
   	Begin Object Class=SpriteComponent Name=Sprite
       		<span style="color:#008800;">// values specified here override SpriteComponent's own defaultproperties</span>
      		Sprite=Texture2D'EngineResources.S_Actor'
      		HiddenGame=true
   	End Object
   	<span style="color:#008800;">//todo</span>
   	Components.Add(Sprite)

	<span style="color:#008800;">// declare an inline subobject of class CylinderComponent named "CollisionCylinder"</span>
   	Begin Object Class=CylinderComponent Name=CollisionCylinder
       		<span style="color:#008800;">// values specified here override CylinderComponent's own defaultproperties</span>
      		CollisionRadius=10
      		CollisionHeight=10
      		AlwaysLoadOnClient=True
      		AlwaysLoadOnServer=True
   	End Object
   	<span style="color:#008800;">//todo</span>
   	Components.Add(CollisionCylinder)

   	CollisionComponent=CollisionCylinder

	<span style="color:#008800;">// floats (leading '+' and trailing 'f' characters are ignored)</span>
   	DrawScale=00001.000000
   	Mass=+00100.000000
   	NetPriority=00001.f

	<span style="color:#008800;">// ints</span>
   	NetUpdateFrequency=100

	<span style="color:#008800;">// enumerations</span>
   	Role=ROLE_Authority
   	RemoteRole=ROLE_None

	<span style="color:#008800;">// structs</span>
   	DrawScale3D=(X=1,Y=1,Z=1)

	<span style="color:#008800;">// bools</span>
   	bJustTeleported=true
   	bMovable=true
   	bHiddenEdGroup=false
   	bReplicateMovement=true

	<span style="color:#008800;">// names</span>
   	InitialState=None

	<span style="color:#008800;">// dynamic array (in this case, a dynamic class array)</span>
   	SupportedEvents(0)=class'SeqEvent_Touch'
   	SupportedEvents(1)=class'SeqEvent_UnTouch'
   	SupportedEvents(2)=class'SeqEvent_Destroyed'
   	SupportedEvents(3)=class'SeqEvent_TakeDamage'
}
</pre>
</div>
<p />
<a name="StructDefaults"></a>
<h2><a name="Struct Defaults"></a> Struct Defaults </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
When you declare a struct in UnrealScript, you can optionally specify default values for the struct's properties.  Anytime the struct is used in UnrealScript, it's members are initialized with these values.  The syntax is identical to the defaultproperties block for a class - the only exception is that you must name the block <strong>structdefaultproperties</strong>.  For example:
<p />
<div class="codesnippet">
<pre>
struct LinearColor
{
   var() config float R, G, B, A;

   structdefaultproperties
   {
      A&#61;1.f
   }
};
</pre>
</div>
<p />
Anytime you declare a LinearColor variable in UnrealScript, the value of its <em>A</em> property will be set to 1.f.  Something else that is important to understand when using structdefaultproperties is that class defaults override struct defaults.  If you have a class member variable of type LinearColor, any value you assign to that member variable in the class defaultproperties will override the value in the struct's defaults.
<p />
<div class="codesnippet">
<pre>
var LinearColor NormalColor, DarkColor;

defaultproperties
{
	NormalColor=(R=1.f,B=1.f,G=1.f)       <span style="color:#008800;">// value of A will be 1.0f for this property</span>
	DarkColor=(R=1.f,B=1.f,G=1.f,A=0.2f)  <span style="color:#008800;">// value of A will be 0.2f for this property</span>
}
</pre>
</div>
<p />
<h2><a name="Accessing default values of variables"></a> Accessing default values of variables </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
UnrealEd enables level designers to edit the "default" variables of an object's class. When a new actor is spawned of the class, all of its variables are initialized to those defaults. Sometimes, it's useful to manually reset a variable to its default value. For example, when the player drops an inventory item, the inventory code needs to reset some of the actor's values to its defaults. In UnrealScript, you can access the default variables of a class with the <code><b>Default</b></code> keyword. For example:
<p />
<div class="codesnippet">
<pre>
var() float Health, Stamina;

...

<span style="color:#008800;">// Reset some variables to their defaults.</span>
function ResetToDefaults()
{
	<span style="color:#008800;">// Reset health, and stamina.</span>
   	Health = Default.Health;
   	Stamina = Default.Stamina;
}
</pre>
</div>
<p />
<h3><a name="Accessing default values of variables through a class reference"></a> Accessing default values of variables through a class reference </h3>
<p />
If you have a class reference (a variable of <code>class</code> or <code>class&lt;classlimitor&gt;</code> type), you can access the default properties of the class it references, without having an object of that class. This syntax works with any expression that evaluates to class type.
<p />
<div class="codesnippet">
<pre>
var class C;
var class<Pawn> PC;

Health = class'Spotlight'.default.LightBrightness;	<span style="color:#008800;">// Access the default value of</span>
                                                   	<span style="color:#008800;">// LightBrightness in the Spotlight class.</span>

Health = PC.default.Health;	<span style="color:#008800;">// Access the default value of Health in</span>
                            	<span style="color:#008800;">// a variable class identified by PC.</span>

Health = class<Pawn>(C).default.Health;	<span style="color:#008800;">// Access the default value</span>
                                    	<span style="color:#008800;">// of Health in a casted class</span>
                                    	<span style="color:#008800;">// expression.</span>
</pre>
</div>
<p />
</noautolink>
<p />
<p />
<p />
<p />
<p />
<p />


<!-- BEGIN UE4 NOTICE -->



<div id="version_message" style="display:none;">

    <div style="position:fixed;top:0px;left:0px;width:100%;height:100%;background:#000;opacity:0.5;">

    </div>

    <div style="position:fixed;top:50%;left:50%;margin:-70px 0px 0px -240px;background:#FFF;border-radius:6px;width:480px;box-shadow:0px 5px 30px -5px rgba(0,0,0,0.9);">

        <div style="font-size:16px;font-weight:bold;background: url(rsrc/Three/warning.png) no-repeat scroll 5px 5px;padding:4px 10px 5px 25px;height:21px;width:440px;">

            Important!

        </div>

        <div style="font-size:11px;padding:5px 10px 10px;width:460px;">

            <p>You are viewing documentation for the <strong>Unreal Development Kit (UDK)</strong>.</p>



            <p>If you are looking for the Unreal Engine 4 documentation, please visit the <a style="color:#000;" href="https://docs.unrealengine.com">Unreal Engine 4 Documentation</a> site.</p>

        </div>

        <div style="height:20px;padding:4px;margin:6px;border-top:1px solid #a0a0a0;">

            <form onsubmit="return closeVersionMessage();">

                <input type="checkbox" id="dismiss" value="dismiss" />

                <label for="dsimiss">Don't show me this again</label>

                <input type="submit" value="Close" style="cursor:pointer;float:right;width:60px;color:#f0f0f0;font-weight:bold;background:#882222;height:24px;padding:2px 3px 3px;text-align:center;border:1px outset #000;" />

            </form>

        </div>

    </div>

</div>



<script type="text/javascript">

    window.onload = function () {

        LoadVersionMessage();

    }



    function LoadVersionMessage()

    {

        var showMessage = "false";
        if(showMessage != "false")

        {

            showVersionMessage();

        }

    }



    function showVersionMessage()

    {

        var message = document.getElementById("version_message");

        if(message)

        {

            message.style.display = "block";

        }

    }



    function closeVersionMessage() {

        var dismiss = document.getElementById("dismiss");

        var message = document.getElementById("version_message");

        if (message) {

            message.style.display = "none";

        }

        if (dismiss.checked) {

            eraseCookie("doc_version_message");

            createCookie("doc_version_message", "false", 365);

            dismiss.checked = false;

        }

        return false;

    }



    function createCookie(name, value, days) {

        if (days) {

            var date = new Date();

            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));

            var expires = "; expires=" + date.toGMTString();

        }

        else var expires = "";

        document.cookie = name + "=" + value + expires + "; path=/";

    }



    function readCookie(name) {

        var nameEQ = name + "=";

        var ca = document.cookie.split(';');

        for (var i = 0; i < ca.length; i++) {

            var c = ca[i];

            while (c.charAt(0) == ' ') c = c.substring(1, c.length);

            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);

        }

        return null;

    }



    function eraseCookie(name) {

        createCookie(name, "", -1);

    }

</script>



<!-- END UE4 NOTICE -->



</div></div><div id="footer"><div style="BACKGROUND-COLOR: transparent; margin: 0; padding: 0; width: 100%;"><div>&nbsp;</div><div style="float: left; text-align: left; vertical-align: bottom; width: 50%;"><a href="http://www.videogamevoters.org"><img src="rsrc/vgvn.jpg" border="0" width="234" height="60" alt="Video Game Voters Network" /></a></div><div style="float: right; text-align: right; vertical-align: bottom; width: 50%;">Copyright &copy; 2001-2012 <a href="http://www.epicgames.com" target="_top">Epic Games, Inc.</a><br /><a href="../Main/TermsAndConditions.html" class="twikiLink">Terms and Conditions</a><br /><a href="http://epicgames.com/privacynotice" target="_top">Privacy Notice</a></div></div></div></div>
<p />
</html></body>
