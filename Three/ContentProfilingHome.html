<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title> UDK | ContentProfilingHome    </title>

<style type="text/css" media="all">@import "rsrc/twiki_webs.css";</style>
<style type="text/css" media="all">@import "rsrc/udn_new.css";</style>
<link rel="icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />


<!-- view.static_udn3.tmpl  -->
<script language="JavaScript" type="text/javascript" src="rsrc/udn.js"></script>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

</head>
<p />
<body id="webbgThree">
<p />

<p />
<div id="webThree"><div id="head">
<!--
<div class="header">
 -->
<div style="background: url(/pub/webbg_udn.jpg); background-repeat: no-repeat; height:140px; width: 100%;" >
<!--
<div style="background: transparent url(/pub/udn_header_bg.jpg); background-repeat: repeat-x; height:140px; width: 100%; margin-left: 991px;">
 -->
<p />
<div id="nav">
<ul class="nav">
<font color=black>|</font>&nbsp;&nbsp;<li class=nav_Three><a href="../Main/WebHome.html" class="twikiLink">Main</a></li><font color=black>|</font><li class=nav_Three><a href="../Two/WebHome.html" class="twikiLink">UnrealEngine2</a></li><font color=black>|</font><li class=nav_Three><a href="WebHome.html" class="twikiLink">UnrealEngine3</a></li><font color=black>|</font><li class=nav_Three><a href="https://docs.unrealengine.com" class="twikiLink">UnrealEngine4</a></li><font color=black>|</font><li class=nav_Three><a href="../Main/BusinessAndLegal.html" class="twikiLink">Business &amp; Legal</a></li><font color=black>|</font>
</ul><br><br><br>
</div>
</div>
</div> <!-- end head -->
<div id="pagedefault">
<div id="maincol">
<div id="tool">
<div id="tooltop">UDN</div>
<div id="tooltext" style="padding: 10px 10px 10px 10px;">
Search public documentation: <br>
<form ACTION="/search/index.php" METHOD="GET" NAME="main" ID="main">
<input TYPE="TEXT" NAME="q" SIZE="15" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;">
<input TYPE="SUBMIT" VALUE="Search" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;"><br>
</form>
</div>
<div id="toolband">ContentProfilingHome  </b></div>
<div id="tooltext">
<a href="ContentProfilingHomeJP.html" class="twikiLink">日本語訳</a><br><a href="https://udn.epicgames.com/Three/ContentProfilingHomeCH" class="restricted" class="restricted" class="twikiLink">中国翻译</a><br><a href="ContentProfilingHomeKR.html" class="twikiLink">한국어</a><br>

<!-- Three/ContentProfilingHome -->
<hr size="1" noshade="noshade" />
Interested in the Unreal Engine? <br>
Visit the <a href="http://www.unrealtechnology.com" target="_top">Unreal Technology</a> site.<br>
<br>
Looking for jobs and company info? <br>
Check out the <a href="http://www.epicgames.com" target="_top">Epic games</a> site.<br>
<br>
Questions about support via UDN? <br>
Contact the <a href="../Main/ContactUDNStaff.html" class="twikiLink">UDN Staff</a> <br>
<br>
</div> <!-- end toolbox content -->
<div id="toolbottom"></div>
</div> <!-- end tool -->
<p />
<noautolink>
<p />
<div style="padding:0px 0px 0px 4px;font:10px Verdana;">
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="PerformanceHome.html" class="twikiLink">Performance, Profiling, and Optimization</a></b> &gt; Content Profiling and Optimization
</div>
<hr size="1" noshade="noshade">
<h1><a name="Content Profiling and Optimization"></a> Content Profiling and Optimization </h1>
<p />
<div class="twikiToc"> <ul>
<li> <a href="ContentProfilingHome.html#Content Profiling and Optimization"> Content Profiling and Optimization</a> <ul>
<li> <a href="ContentProfilingHome.html#Overview"> Overview</a>
</li> <li> <a href="ContentProfilingHome.html#Example Profiling and Optimization Process"> Example Profiling and Optimization Process</a>
</li> <li> <a href="ContentProfilingHome.html#Guided Content Optimization for Gears 3"> Guided Content Optimization for Gears 3</a>
</li> <li> <a href="ContentProfilingHome.html#Content Optimization Workflow for Gears 2"> Content Optimization Workflow for Gears 2</a> <ul>
<li> <a href="ContentProfilingHome.html#Content Shrinkage Tips"> Content Shrinkage Tips</a>
</li></ul>
</li> <li> <a href="ContentProfilingHome.html#General Commandlets"> General Commandlets</a> <ul>
<li> <a href="ContentProfilingHome.html#Analyze Referenced Content"> Analyze Referenced Content</a>
</li> <li> <a href="ContentProfilingHome.html#Content Audit"> Content Audit</a>
</li> <li> <a href="ContentProfilingHome.html#Content Comparison"> Content Comparison</a>
</li> <li> <a href="ContentProfilingHome.html#Fixup Redirects"> Fixup Redirects</a>
</li></ul>
</li> <li> <a href="ContentProfilingHome.html#General Browsers and Tools"> General Browsers and Tools</a> <ul>
<li> <a href="ContentProfilingHome.html#Primitive Stats Browser"> Primitive Stats Browser</a>
</li></ul>
</li> <li> <a href="ContentProfilingHome.html#Static Meshes"> Static Meshes</a> <ul>
<li> <a href="ContentProfilingHome.html#Mesh Simplification Tool"> Mesh Simplification Tool</a>
</li></ul>
</li> <li> <a href="ContentProfilingHome.html#Animations"> Animations</a> <ul>
<li> <a href="ContentProfilingHome.html#Animation Compression"> Animation Compression</a> <ul>
<li> <a href="ContentProfilingHome.html#Trace Anim Usage"> Trace Anim Usage</a>
</li></ul>
</li></ul>
</li> <li> <a href="ContentProfilingHome.html#Materials"> Materials</a>
</li> <li> <a href="ContentProfilingHome.html#Textures"> Textures</a> <ul>
<li> <a href="ContentProfilingHome.html#Texture Optimization Techniques"> Texture Optimization Techniques</a>
</li> <li> <a href="ContentProfilingHome.html#Set Texture LODGroup"> Set Texture LODGroup</a>
</li> <li> <a href="ContentProfilingHome.html#Find Duplicate Textures"> Find Duplicate Textures</a>
</li></ul>
</li> <li> <a href="ContentProfilingHome.html#Particle Systems"> Particle Systems</a>
</li> <li> <a href="ContentProfilingHome.html#Audio and Sounds"> Audio and Sounds</a>
</li> <li> <a href="ContentProfilingHome.html#Optimizing Content for Rendering"> Optimizing Content for Rendering</a>
</li></ul>
</li></ul>
</div>
<p />
<h2><a name="Overview"></a> Overview </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
When adding new content, often it will be added with incorrect settings or will be more expensive compared to existing content. Usually these mistakes are just innocent oversight. But with the amount of content games are utilizing these days it is hard to track. You can try to speed up your game by optimizing content and/or optimizing code. From experience, we have found the biggest bang for the buck is almost always optimizing content. Because of this, a fair amount of time is spent creating tools to help content creators quickly find and fix slow use cases.
<p />
<h2><a name="Example Profiling and Optimization Process"></a> Example Profiling and Optimization Process </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
<h2><a name="Guided Content Optimization for Gears 3"></a> Guided Content Optimization for Gears 3 </h2>
<p />
The content optimization process being employed for Gears of War 3 was presented at the <a href="http://www.ecgconf.com/" target="_top">East Coast Game Conference</a>.  Slides for this presentation are available <a href="rsrc/Three/ContentProfilingHome/Gears3ContentOptimizations_ECGC11_Final.pptx" target="_top">here</a>.
<p />
<h2><a name="Content Optimization Workflow for Gears 2"></a> Content Optimization Workflow for Gears 2 </h2>
<p /> <ol>
<li> QA plays through entire game, takes PIX GPU captures whenever GPU time is above 33ms, trying to capture unique scenarios (not 10 captures of the same area)
</li> <li> Programmers look through GPU captures <ul>
<li> Identify slow but low visual impact cases
</li> <li> Ideally find enough potential optimizations that if they were all implemented, the scene would be &lt; 33ms
</li> <li> Use detailed draw event information to quickly identify what each draw call is in the editor
</li> <li> Recorded Actor name, Resource name (static mesh, particle emitter, etc), Material name
</li> <li> Provide LD's with suggestions on what to change, with clear directions and screenshots
</li></ul>
</li> <li> LD's and artists decide which optimizations are worthwhile, make content changes <ul>
<li> This ensures that art is responsible for quality decisions
</li></ul>
</li> <li> Repeat steps 1-3 as needed.
</li></ol>
<p />
For GOW2, only 2 passes were done over all SP maps before getting down to 90% of the time above 30fps. This took 6 weeks of programmer time.
<p />
<!--  -->
<p />
<h2><a name="General Commandlets"></a> General Commandlets </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
Unreal Engine provides many commandlets, or small embedded programs, several of which are very useful to use on a regular basis to ensure a smooth development cycle.
<p />
<h3><a name="Analyze Referenced Content"></a> Analyze Referenced Content </h3>
<p />
Knowing what a map references is vital to making certain that we are getting the biggest "bang for the cost". Additionally, knowing what the "biggest bang for the cost" in terms of optimization time spent across the entire game is vital!
<p />
Being able to see changes over time is also great. And being able to use excel to make secondary spreadsheets and easily send the data around is also a requirement. The output from AnalyzeReferencedContentCommandlet does that!
<p />
<strong>Usage</strong>
<p />
To use the commandlet, simply run the following:
<p />
<code>GAMENAME AnalyzeReferencedContent MAPNAMES</code>
<p />
This will result in a number of .csv files being create with the contents of those maps. Both on a per map basis and on a global basis.
<p />
From that you want to look at the data and find outliers, the most expensive objects, objects used the most, and optimize those.
<p />
<strong>Examples</strong>
<p />
<ul>
<li>
Looking at the StaticMesh .csv: Look for any static meshes that are used only once or twice. If those meshes are not a hero piece then they can usually be removed from the level / replaced with a more commonly used object with no impact. What happens is that they get placed in the level to add some visual uniqueness, but when you look at the level as a whole they are not needed (especially for the cost)
</li>
<li>
Looking at the StaticMesh .csv, find the biggest memory costing objects. How many are used? Can we optimize the object?
</li>
<li>
Looking at the summary .csv, we can calculate the total number of "instanced triangles" across the entire game BY multiplying columns NumInstances by NumTriangles into a new column called "InstancedTriangles" for specific StaticMeshes. Sorting on that "InstancedTriangles" column we can see the meshes that are accounting for the most triangles across the entire game. Optimizing them will usually give us the biggest return on the cost of optimizing them. (e.g. A small shrubbery is used ALL over the place in most every level. Optimizing that is going to get a lot more value than a really expensive fence mesh that is used in a few levels only.)
<p />
<span style="font:10px verdana""><i>(Click for full size)</i></span>
<p />
<a href="rsrc/Three/ContentProfilingHome/InstancedTriangles.jpg"><img src="rsrc/Three/ContentProfilingHome/InstancedTriangles_small.jpg" alt="InstancedTriangles_small.jpg" width="800" height="236" border="0" /></a>
</li>
<li>
Looking at the SoundNodeWaves .csv we can sort by the size of the SoundNodeWaves and see that there is one ambient sound that is 4x as expensive as the others. We want to find out why that is so expensive :-)
</li>
<li>
Looking at the SoundNodeWaves .csv we see that there are 10 BirdCall SoundNodeWaves referenced. We can probably reduce the variety and not notice the difference.
</li>
</ul>
<p />
For additional information on the use of this commandlet, see the <a href="CommandletList.html#analyzereferencedcontent" class="twikiAnchorLink">Analyze Referenced Content</a> section of the Commandlet List page.
<p />
<h3><a name="Content Audit"></a> Content Audit </h3>
<p />
The Content Audit Commandlet analyzes the content actively being used in the game and finds assets which might be considered "questionable" based on a predetermined set of rules. These rules can be designed to ensure content is being used efficiently, that properties of the content item which absolutely need to be set are set, etc.
<p />
The <a href="ContentAuditCommandlet.html" class="twikiLink">Content Audit Commandlet</a> page outlines the use of this commandlet in more detail.
<p />
<h3><a name="Content Comparison"></a> Content Comparison </h3>
<p />
The Content Comparison Commandlet analyzes the content actively being used in the game and provides comparisons between assets of similar types or classes. This allows you to make sure that there are no assets being used which are much more costly than they should be for the type of asset it is.
<p />
The <a href="PerfDebug_ContentComparisonCommandlet.html" class="twikiLink">Content Comaprison Commandlet</a> page outlines the use of this commandlet in more detail.
<p />
<h3><a name="Fixup Redirects"></a> Fixup Redirects </h3>
<p />
The Fixup Redirects Commandlet iterates through all the packages and makes sure all references are pointing directly to the actual asset and not to a redirector in another package. This keeps content from be loaded at times when it is not being used and should otherwise not be loaded.
<p />
Information on using this commandlet to keep content references cleaned up can be found on the <a href="FixUpRedirectsCommandlet.html" class="twikiLink">FixUp Redirects Commandlet</a> page.
<p />
<h2><a name="General Browsers and Tools"></a> General Browsers and Tools </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
<a name="PrimitiveStatsBrowser"></a>
<h3><a name="Primitive Stats Browser"></a> Primitive Stats Browser </h3>
<p />
The Primitive Stats Browser gives a detailed breakdown of the geometry assets used in the level allowing designers to determine which assets may either need to be removed or modified by the art team to be more efficient.
<p />
What follows is a description of the columns in the Primitive Stats Browser (formerly Static Mesh Stats Browser):
<p /> <ul>
<li> <strong>Type</strong> - Type of the resource, either skeletal mesh, static mesh, terrain or BSP (model)
</li> <li> <strong>Count</strong> - Number of instances of that mesh in the level.
</li> <li> <strong>Triangles</strong> - Triangle count per instance.
</li> <li> <strong>Resource Size</strong> - Size of resource in KByte as reported by "view resource usage", only relevant for static and skeletal meshes
</li> <li> <strong>Lights (avg LM/ other/ total)</strong> - Average number of lightmapped (LM), non lightmapped (other) and total lights affecting each instance.
</li> <li> <strong>Obj/ Light cost</strong> - The object/ light interaction cost.  This number indicates how many times this static mesh is going to be re-rendered for lighting purposes. It is the number of non-lightmapped lights times the total sections count of all instances. Lightmaps are not included in this number, as they are rendered as part of the emissive pass and are therefore can considered "free".
</li> <li> <strong>Triangle cost</strong> - The number of triangles that need to be rendered for lighting purposes. This number excludes the z-prepass, emissive and lightmaps as those are constant overhead regardless of the number of lights.
</li> <li> <strong>Lightmap</strong> - The amount of memory used by lightmap data.
</li> <li> <strong>Shadowmap</strong> - The amount of memory used by shadowmap data.
</li> <li> <strong>LM Res</strong> - The average lightmap resolution per instance.
</li> <li> <strong>Sections</strong> - The number of sections this mesh has.
</li> <li> <strong>Radius (min/max/avg)</strong> - Min/max/average radius of the bounding box for each instance of the mesh.
</li></ul>
<p />
<span style="font:10px verdana""><i>(Click for full size)</i></span>
<p />
<a href="rsrc/Three/ContentProfilingHome/primitivestats.jpg"><img src="rsrc/Three/ContentProfilingHome/primitivestats_small.jpg" alt="primitivestats_small.jpg" width="900" height="523" border="0" /></a>
<p />
<!-- See the <a href="https://udn.epicgames.com/Three/PrimitiveStatsBrowserReference" class="restricted" class="restricted" class="twikiLink">Primitive Stats Browser Reference</a> for a complete overview of this tool and how to best use it. -->
<p />
<h2><a name="Static Meshes"></a> Static Meshes </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
A common source of performance problems is in Static Meshes. In general, you should replace any Static Meshes that are used only once or twice, and replace them with similar ones that are already used frequently. Try to avoid using unique meshes for skyboxes whenever possible. Whenever possible, apply the proper trade-off for vertex lighting vs. lightmap lighting.
<p />
<h3><a name="Mesh Simplification Tool"></a> Mesh Simplification Tool </h3>
<p />
The Mesh Simplification Tool allows you to reduce the geometric complexity of static mesh assets on a per-level basis. It can create a simplified copy of a mesh by parametrically reducing the triangle count, and then storing the mesh inside your level's package. It can also replace references to a high resolution mesh for all actors in the level, and help to maintain the simplified meshes over time.
<p />
In short, a level designer can use this tool to quickly reduce a map's memory footprint and improve render times, with some trade-off in visual quality.
<p />
Please see the <a href="MeshSimplificationTool.html" class="twikiLink">Mesh Simplification Tool</a> page for complete details over using this tool.
<p />
<h2><a name="Animations"></a> Animations </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
When an AnimSet is referenced by the game, it will load all animations in the AnimSet. This can be waste if you only use a part of them. If all animations in the AnimSet aren't needed, it is generally recommended to split them into sub-AnimSets and load them when only needed.
<p />
For example, different weapons can have their own AnimSet, unless you need all the weapon animations all the time.
<p />
<strong>Matinee:</strong>
<p />
This problem can be worse when it comes to Matinee.
<p />
It can be very cumbersome to maintain different AnimSets per Matinee sequence or per level, depending on your workflow (i.e. different person working on different Matinee sequences). Ideally, you would like to have one AnimSet per level, but maintaining this could be very time consuming between different groups of developers (LDs/Animators/Scripters).
<p />
The flag, <code>bShouldBakeAndPrune</code> (CL 259515) in InterpData, helps in this situation. It creates new AnimSet for the level and duplicates only the animations that are used by the level and re-links the reference. If the AnimSet is cooked/loaded anyway, then this flag needs to be off because it will duplicate the the same animation. This needs to be used if the AnimSet you're baking and pruning doesn't have to be loaded by the level. The flag can be globally disabled by setting the bBakeAndPruneDuringCook value to FALSE in the Cooker.MatineeOptions section of *Editor.ini.
<p />
In <code>DefaultEditor.ini</code>:
<p />
<pre>
&#91;Cooker.MatineeOptions]
bBakeAndPruneDuringCook&#61;false
</pre>
<p />
<h3><a name="Animation Compression"></a> Animation Compression </h3>
<p />
Animation Compression is a big part of saving animation memory. Unreal Engine 3 only works with compressed animations; however, there are several algorithms available which can result in different amounts of saving versus loss of visual fidelity. Choosing the right compression technique for each animation can have a large impact in the amount of memory saved.
<p />
See the <a href="AnimationCompression.html" class="twikiLink">Animation Compression</a> page for more information on the available compression algorithms and how to apply them to animations.
<p />
<h4><a name="Trace Anim Usage"></a> Trace Anim Usage </h4>
<p />
Specific Animations are stored in AnimSets. When an AnimSet is referenced ALL of the animations inside that Animset are loaded. Often for organizational sanity AnimSets will have lots of animations for a specific activity (e.g. Walking). The issue is that some of the animations might not EVER be used. And if they are not ever used they are just taking up memory unfairly. We want to find them and remove them!
<p />
Run the TRACEANIMUSAGE console command.
<p />
This will show:
<p /> <ul>
<li> What animation has not been used
</li> <li> What animation is most visible to player during the gameplay
</li></ul>
<p />
It is probably best to get multiple samples for even same map by multiple people to get better results. (Some people have different play styles)
<p />
Once you find the set of Animations that are not used. Moving them out of the AnimSet to a TYPE_NotUsed is usually the best method for "fixing" the issue.
<p />
<img src="rsrc/Three/ContentProfilingHome/traceanimusage.png" alt="traceanimusage.png" width="749" height="1019" />
<p />
<h2><a name="Materials"></a> Materials </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
The complexity of the materials in a scene can greatly affect the GPU overhead of the scene. The more dynamic lights that are used, the more costly an expensive material becomes.
<p /> <ul>
<li> Try and limit the amount of Dependent Texture reads, this means modifying UVs with a texture, such as BumpOffset.
</li> <li> Use Material Instancing, and use StaticSwitchParameters for expensive effects so that they can be toggled on/off easier to make performance tradeoffs.
</li> <li> Consider removing specular from materials that do not have very much specular. This removes a significant amount of pixel shader instructions and in many cases is not noticeable.
</li> <li> Try and limit the number of texture lookups in each material, the more texture lookups the longer it will take the GPU to get the textures it needs.
</li></ul>
<p /> <ul>
<li> Instruction count
</li> <li> Watch usage flags - control number of shaders per material
</li></ul>
<p />
<h2><a name="Textures"></a> Textures </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
Unreal Engine 3 Uses a Texture Streaming Pool. This means that all streaming textures have a total known memory footprint, and the engine will do its best to load only textures that are large/near the player at the highest resolution. However it still leaves the potential for you to add too many textures and cause blurryness everywhere. In this case, the only way to fix it is to cut your texture usage down to realistic levels. Here are some tips for optimizing textures:
<p /> <ul>
<li> Check STAT STREAMING and streaming fudge factor. If this number is at 1.0 then you have nothing to worry about, anything higher than 1.0 means that the textures do not fit and some of them will be blurry.
</li> <li> Use LISTTEXTURES to see what is loaded. This will spit out a list of textures that are loaded into the log. This information can be copied into excel, and automatically organized into rows/columns by pressing the "Text to Columns" button (under Data), and choosing Delimited-&gt;Comma-&gt; finish. Then press sort to allow you to sort each row by ascending or descending order.
</li> <li> Once you have a listtextures output into excel, sorting by DESCENDING in the "Current Size" row, and you can use that to start analyzing the worst-case-offenders..... the textures that are taking up the most memory.
</li></ul>
<p />
<h3><a name="Texture Optimization Techniques"></a> Texture Optimization Techniques </h3>
<p />
Proper planning and the use of several tools provided in Unreal Engine 3 can help optimizing the amount of memory and disk space taken up by textures. Some tricks and techniques are detailed on the <a href="TextureOptimizationTechniques.html" class="twikiLink">Texture Optimization Techniques</a> page.
<p />
<h3><a name="Set Texture LODGroup"></a> Set Texture LODGroup </h3>
<p />
The Set Texture LODGroup Commandlet analyzes every texture and determines whether the current LODGroup of the texture is appropriate given the type of texture, and sets the LODGroup to the correct group if not. Having textures with incorrect LODGroup settings can lead to the resources of the texture pool not being allocated properly.
<p />
The <a href="SetTextureLODGroupCommandlet.html" class="twikiLink">Set Texture LODGroup Commandlet</a> page explains the use of this commandlet.
<p />
<h3><a name="Find Duplicate Textures"></a> Find Duplicate Textures </h3>
<p />
Over time people will duplicate textures to maybe make a few changes, use them in a different way, or mistakenly duplicate them. Usually the changes are small enough that they are not noticeable or were reverted after trying them out. But those textures are still around and now other people have used them in materials. So you can load up a level and have a number of the same exact texture in memory! This is obviously a situation that needs to be avoided. The Find Duplicated Textures commandlet provides a method of finding these duplicate textures so that they can be addressed.
<p />
To run the Find Duplicate Textures commandlet, run the following from the command line:
<p />
<code>GAMENAME FindDuplicateTexturesCommandlet</code>
<p />
This will list out all of the Duplicate textures in your game content.
<p />
<strong>NOTE:</strong> You will want to work with a programmer to look at the various options this commandlet can do. Specifically look at: UnPackageUtilities.cpp UFindDuplicateTexturesCommandlet::Startup()
<p />
<h2><a name="Particle Systems"></a> Particle Systems </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
There are usually lots of particles in a scene and not all of them have the same costs. We would like to know if there are any particles that are significantly more costly than others. Additionally, we want to know if there are any particles doing work when they don't need to be.
<p />
Setting #define TRACK_DETAILED_PARTICLE_TICK_STATS 1 will out put a number of particle tick stats to the log
<p />
Additionally, you will wan to look for particles that are updating their bounds every frame. The ContentAudit will have tagged those ParticleSystems, but if you ever see Particles having their bounds being dynamically updated each frame, those are always a good candidate to have a FixedRelativeBoundingBox
<p />
Here are some tips for optimizing particles:
<p /> <ul>
<li> Disable collision on minor stuff (in UT the Enforcer weapon sparks used collision!).
</li> <li> Avoid overdraw.
</li> <li> Use PIX and VIEWMODE SHADERCOMPLEXITY.
</li> <li> Use STAT PARTICLES to see count.
</li> <li> Manually set bounding boxes for common effects or large ones.
</li> <li> Ensure Editor generated max active counts are sane.
</li> <li> See the Particle System Reference page for more details
</li> <li> Use MEMORYSPLIT, it will show how much particle data is currently loaded as Active and how much is could be loaded as Peak (the max possible memory that could be allocated to particles at one time).
</li></ul>
<p />
<h2><a name="Audio and Sounds"></a> Audio and Sounds </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
Here are some tips for optimizing audio:
<p /> <ul>
<li> Ensure that multiple music tracks aren't being used unless they are absolutely necessary. It's a good idea to keep music tracks in their own streaming maps so that they can be streamed in and out when they are needed(this will not affect performance, but it will affect the overall level budget).
</li> <li> Check budget via STAT AUDIO, STAT MEMORY.
</li> <li> Use LISTSOUNDS to see what is the currently loaded sounds - displays waves stored on a per group basis so you can see what types of sounds take up the most memory.
</li> <li> LISTWAVES lists the currently playing sounds (PC only).
</li> <li> LISTAUDIOCOMPONENTS lists the currently considered sounds.
</li></ul>
<p />
<!--  -->
<p />
</noautolink>
<p />
<p />
<p />
<p />
<p />
<p />


<!-- BEGIN UE4 NOTICE -->



<div id="version_message" style="display:none;">

    <div style="position:fixed;top:0px;left:0px;width:100%;height:100%;background:#000;opacity:0.5;">

    </div>

    <div style="position:fixed;top:50%;left:50%;margin:-70px 0px 0px -240px;background:#FFF;border-radius:6px;width:480px;box-shadow:0px 5px 30px -5px rgba(0,0,0,0.9);">

        <div style="font-size:16px;font-weight:bold;background: url(rsrc/Three/warning.png) no-repeat scroll 5px 5px;padding:4px 10px 5px 25px;height:21px;width:440px;">

            Important!

        </div>

        <div style="font-size:11px;padding:5px 10px 10px;width:460px;">

            <p>You are viewing documentation for the <strong>Unreal Development Kit (UDK)</strong>.</p>



            <p>If you are looking for the Unreal Engine 4 documentation, please visit the <a style="color:#000;" href="https://docs.unrealengine.com">Unreal Engine 4 Documentation</a> site.</p>

        </div>

        <div style="height:20px;padding:4px;margin:6px;border-top:1px solid #a0a0a0;">

            <form onsubmit="return closeVersionMessage();">

                <input type="checkbox" id="dismiss" value="dismiss" />

                <label for="dsimiss">Don't show me this again</label>

                <input type="submit" value="Close" style="cursor:pointer;float:right;width:60px;color:#f0f0f0;font-weight:bold;background:#882222;height:24px;padding:2px 3px 3px;text-align:center;border:1px outset #000;" />

            </form>

        </div>

    </div>

</div>



<script type="text/javascript">

    window.onload = function () {

        LoadVersionMessage();

    }



    function LoadVersionMessage()

    {

        var showMessage = "false";
        if(showMessage != "false")

        {

            showVersionMessage();

        }

    }



    function showVersionMessage()

    {

        var message = document.getElementById("version_message");

        if(message)

        {

            message.style.display = "block";

        }

    }



    function closeVersionMessage() {

        var dismiss = document.getElementById("dismiss");

        var message = document.getElementById("version_message");

        if (message) {

            message.style.display = "none";

        }

        if (dismiss.checked) {

            eraseCookie("doc_version_message");

            createCookie("doc_version_message", "false", 365);

            dismiss.checked = false;

        }

        return false;

    }



    function createCookie(name, value, days) {

        if (days) {

            var date = new Date();

            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));

            var expires = "; expires=" + date.toGMTString();

        }

        else var expires = "";

        document.cookie = name + "=" + value + expires + "; path=/";

    }



    function readCookie(name) {

        var nameEQ = name + "=";

        var ca = document.cookie.split(';');

        for (var i = 0; i < ca.length; i++) {

            var c = ca[i];

            while (c.charAt(0) == ' ') c = c.substring(1, c.length);

            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);

        }

        return null;

    }



    function eraseCookie(name) {

        createCookie(name, "", -1);

    }

</script>



<!-- END UE4 NOTICE -->



</div></div><div id="footer"><div style="BACKGROUND-COLOR: transparent; margin: 0; padding: 0; width: 100%;"><div>&nbsp;</div><div style="float: left; text-align: left; vertical-align: bottom; width: 50%;"><a href="http://www.videogamevoters.org"><img src="rsrc/vgvn.jpg" border="0" width="234" height="60" alt="Video Game Voters Network" /></a></div><div style="float: right; text-align: right; vertical-align: bottom; width: 50%;">Copyright &copy; 2001-2012 <a href="http://www.epicgames.com" target="_top">Epic Games, Inc.</a><br /><a href="../Main/TermsAndConditions.html" class="twikiLink">Terms and Conditions</a><br /><a href="http://epicgames.com/privacynotice" target="_top">Privacy Notice</a></div></div></div></div>
<p />
</html></body>
