<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title> UDK | GFxPositioningGuide    </title>

<style type="text/css" media="all">@import "rsrc/twiki_webs.css";</style>
<style type="text/css" media="all">@import "rsrc/udn_new.css";</style>
<link rel="icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />


<!-- view.static_udn3.tmpl  -->
<script language="JavaScript" type="text/javascript" src="rsrc/udn.js"></script>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

</head>
<p />
<body id="webbgThree">
<p />

<p />
<div id="webThree"><div id="head">
<!--
<div class="header">
 -->
<div style="background: url(/pub/webbg_udn.jpg); background-repeat: no-repeat; height:140px; width: 100%;" >
<!--
<div style="background: transparent url(/pub/udn_header_bg.jpg); background-repeat: repeat-x; height:140px; width: 100%; margin-left: 991px;">
 -->
<p />
<div id="nav">
<ul class="nav">
<font color=black>|</font>&nbsp;&nbsp;<li class=nav_Three><a href="../Main/WebHome.html" class="twikiLink">Main</a></li><font color=black>|</font><li class=nav_Three><a href="../Two/WebHome.html" class="twikiLink">UnrealEngine2</a></li><font color=black>|</font><li class=nav_Three><a href="WebHome.html" class="twikiLink">UnrealEngine3</a></li><font color=black>|</font><li class=nav_Three><a href="https://docs.unrealengine.com" class="twikiLink">UnrealEngine4</a></li><font color=black>|</font><li class=nav_Three><a href="../Main/BusinessAndLegal.html" class="twikiLink">Business &amp; Legal</a></li><font color=black>|</font>
</ul><br><br><br>
</div>
</div>
</div> <!-- end head -->
<div id="pagedefault">
<div id="maincol">
<div id="tool">
<div id="tooltop">UDN</div>
<div id="tooltext" style="padding: 10px 10px 10px 10px;">
Search public documentation: <br>
<form ACTION="/search/index.php" METHOD="GET" NAME="main" ID="main">
<input TYPE="TEXT" NAME="q" SIZE="15" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;">
<input TYPE="SUBMIT" VALUE="Search" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;"><br>
</form>
</div>
<div id="toolband">GFxPositioningGuide  </b></div>
<div id="tooltext">
<a href="GFxPositioningGuideJP.html" class="twikiLink">日本語訳</a><br><a href="GFxPositioningGuideCH.html" class="twikiLink">中国翻译</a><br><a href="GFxPositioningGuideKR.html" class="twikiLink">한국어</a><br>

<!-- Three/GFxPositioningGuide -->
<hr size="1" noshade="noshade" />
Interested in the Unreal Engine? <br>
Visit the <a href="http://www.unrealtechnology.com" target="_top">Unreal Technology</a> site.<br>
<br>
Looking for jobs and company info? <br>
Check out the <a href="http://www.epicgames.com" target="_top">Epic games</a> site.<br>
<br>
Questions about support via UDN? <br>
Contact the <a href="../Main/ContactUDNStaff.html" class="twikiLink">UDN Staff</a> <br>
<br>
</div> <!-- end toolbox content -->
<div id="toolbottom"></div>
</div> <!-- end tool -->
<p />
<noautolink>
<style type="text/css" media="all">@import "rsrc/UDNCSS_test.css";</style>
<div style="padding:0px 0px 0px 4px;font:10px Verdana;">
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="UIAndHUDHome.html" class="twikiLink">User Interfaces &amp; HUDs</a></b> &gt; <b><a href="Scaleform.html" class="twikiLink">Scaleform GFx</a></b> &gt; SetViewScaleMode, SetAlignment and SetViewport Guide
</div>
<hr size="1" noshade="noshade">
<p />
<h1><a name="SetViewScaleMode, _SetAlignment and _SetViewport Guide"></a> SetViewScaleMode, SetAlignment and SetViewport Guide </h1>
<hr size="1" noshade="noshade">
<p />
<div class="twikiToc"> <ul>
<li> <a href="GFxPositioningGuide.html#SetViewScaleMode, _SetAlignment and _SetViewport Guide"> SetViewScaleMode, SetAlignment and SetViewport Guide</a> <ul>
<li> <a href="GFxPositioningGuide.html#Overview"> Overview</a>
</li> <li> <a href="GFxPositioningGuide.html#SetViewScaleMode Parameters"> SetViewScaleMode Parameters</a>
</li> <li> <a href="GFxPositioningGuide.html#SetAlignment Parameters"> SetAlignment Parameters</a>
</li> <li> <a href="GFxPositioningGuide.html#SetViewport"> SetViewport</a> <ul>
<li> <a href="GFxPositioningGuide.html#An Example Use Case"> An Example Use Case</a>
</li></ul>
</li></ul>
</li></ul>
</div>
<p />
<h2><a name="Overview"></a> Overview </h2>
<hr size="1" noshade="noshade">
This brief tutorial explains the three GFxMoviePlayer functions SetViewScaleMode(), SetAlignment() and SetViewport() so that you have an easier time figuring out how and when to use them. First off, these three functions should be called on a GFx Movie after that movie has started using Start() and Advance().
<p />
Typically, this is how you would use them:
<p />
<div class="codetitlebar">
Unrealscript
</div>
<div class="codesnippet">
<pre>
function CreateMovie()
{
  MyMovie &#61; new MenuClass;

  // The init function of MenuClass contains Sart() and Advance()
  MyMovie.Init(class&#39;Engine&#39;.static.GetEngine().GamePlayers&#91;MyMovie.LocalPlayerOwnerIndex]);

  MyMovie.SetViewScaleMode(SM&#95;NoScale);
  MyMovie.SetAlignment(Align&#95;TopCenter);
}
</pre>
</div>
<p />
<h2><a name="SetViewScaleMode Parameters"></a> SetViewScaleMode Parameters </h2>
<hr size="1" noshade="noshade">
SetViewScaleMode allows you to specify how the GFx Movie should be scaled/fit to the screen as resolution changes occur. Scale Mode can be set from either ActionScript or UnrealScript.
<p />
<div class="codetitlebar">
UnrealScript
</div>
<div class="codesnippet">
<pre>
MyMovie.SetViewScaleMode(SM&#95;NoScale);
</pre>
</div>
<p /> <ul>
<li> <strong>SM_NoScale</strong> - The SWF remains the same size and aspect ratio (AR) as its original created document dimensions as set in the Flash IDE, regardless of any resolution changes in UDK; scaling will not occur but clipping will occur at game resolutions smaller than the Flash document size.
</li> <li> <strong>SM_ShowAll</strong> - The entire SWF is always visible, no matter what resolution you set in UDK; uniform scaling is performed on the SWF to ensure this, keeping the original AR; clipping will not occur, but letter boxing will.
</li> <li> <strong>SM_ExactFit</strong> - The SWF is stretched, or non-uniform scaled, to fit the screen resolution, altering its AR; this causes movie clip distortion on either the X or Y; clipping will not occur.
</li> <li> <strong>SM_NoBorder</strong> - The SWF is always displayed at the original AR, but it is scaled depending on the resolution; clipping will occur at game resolutions smaller than the Flash document size.
</li></ul>
<p />
<div class="codetitlebar">
ActionScript
</div>
<div class="codesnippet">
<pre>
Stage.scaleMode &#61; &#34;noScale&#34;;
</pre>
</div>
<p /> <ul>
<li> <strong>noScale</strong> - Same as <strong>SM_NoScale</strong>.
</li> <li> <strong>showAll</strong> - Same as <strong>SM_ShowAll</strong>.
</li> <li> <strong>exactFit</strong> - Same as <strong>SM_ExactFit</strong>.
</li> <li> <strong>noBorder</strong> - Same as <strong>SM_NoBorder</strong>.
</li></ul>
<p />
<p />
<h2><a name="SetAlignment Parameters"></a> SetAlignment Parameters </h2>
<hr size="1" noshade="noshade">
SetAlignment allows you to specify how the GFx Movie is aligned on the screen. SetAlignment can be set from either ActionScript or UnrealScript.
<p />
<div class="codetitlebar">
UnrealScript
</div>
<div class="codesnippet">
<pre>
MyMovie.SetAlignment(Align&#95;TopCenter);
</pre>
</div>
<p /> <ul>
<li> <strong>Align_Center</strong> - SWF is centered horizontally and vertically on screen.
</li> <li> <strong>Align_TopCenter</strong> - Top of SWF is at top of screen, and SWF is centered horizontally on screen.
</li> <li> <strong>Align_BottomCenter</strong> - Bottom of SWF is at bottom of screen, and SWF is centered horizontally on screen.
</li> <li> <strong>Align_CenterLeft</strong> - SWF is centered vertically and aligned to the left side of the screen.
</li> <li> <strong>Align_CenterRight</strong> - SWF is centered vertically and aligned to the right side of the screen.
</li> <li> <strong>Align_TopLeft</strong> - Top left corner of SWF is at top left corner of the screen.
</li> <li> <strong>Align_TopRight</strong> - Top right corner of SWF is at top right corner of the screen.
</li> <li> <strong>Align_BottomLeft</strong> - Bottom left corner of SWF is at bottom left corner of the screen.
</li> <li> <strong>Align_BottomRight</strong> - Bottom right corner of SWF is at bottom right corner of the screen.
</li></ul>
<p />
<p />
<div class="codetitlebar">
ActionScript
</div>
<div class="codesnippet">
<pre>
Stage.align &#61; &#34;TL&#34;;
</pre>
</div>
<p /> <ul>
<li> <strong>C</strong> - Same as <strong>Align_Center</strong>.
</li> <li> <strong>TC</strong> - Same as <strong>Align_TopCenter</strong>.
</li> <li> <strong>BC</strong> - Same as <strong>Align_BottomCenter</strong>.
</li> <li> <strong>CL</strong> - Same as <strong>Align_CenterLeft</strong>.
</li> <li> <strong>CR</strong> - Same as <strong>Align_CenterRight</strong>.
</li> <li> <strong>TL</strong> - Same as <strong>Align_TopLeft</strong>.
</li> <li> <strong>TR</strong> - Same as <strong>Align_TopRight</strong>.
</li> <li> <strong>BL</strong> - Same as <strong>Align_BottomLeft</strong>.
</li> <li> <strong>BR</strong> - Same as <strong>Align_BottomRight</strong>.
</li></ul>
<p />
<p />
<h2><a name="SetViewport"></a> SetViewport </h2>
<hr size="1" noshade="noshade">
SetViewport allows you to manually alter the display size and location of the GFx Movie viewport.
<p />
<strong>Example:</strong> MyMovie.SetViewport(0, 0, 1280, 720) displays the movie at 1280x720 size, with the top left of the movie starting at screen coordinate 0,0.
<p />
<p />
<h3><a name="An Example Use Case"></a> An Example Use Case </h3>
<p /> <ul>
<li> In Flash, create a new 1280x720 document.
</li> <li> Create four small rectangles of different colors and place each rectangle in a corner of the Flash file, about 15 pixels away from each edge.
</li> <li> Convert all four rectangles to movie clips. IMPORTANT: All rectangles' registration points should be at the top left corner of the rectangle. Be sure to set the registration points appropriately when you convert each rectangle to a symbol using the registration point icon in the convert to symbol window.
</li> <li> Give each rectangle an instance name, starting from the top left and going around clockwise, name them: rectangle1, rectangle2, rectangle3, rectangle4. You should have something like this now:     <br/>     <img src="rsrc/Three/GFxPositioningGuide/HUDAlignment.png" alt="HUDAlignment.png" width='800' height='471' />
</li> <li> Create a new actions layer.
</li> <li> On that layer, enter this code:
</li></ul>
<p />
<div class="codetitlebar">
ActionScript
</div>
<div class="codesnippet">
<pre>
&#95;global.gfxExtensions &#61; true;

Stage.scaleMode &#61; &#34;noScale&#34;;
Stage.align &#61; &#34;TL&#34;;

var srl:Object &#61; new Object();

function updateHud():Void
{
  // position the rectangles 15 pixels from the edges

  // top left
  rectangle1.&#95;y &#61; 15;
  rectangle1.&#95;x &#61; 15;

  // top right
  rectangle2.&#95;y &#61; 15;
  rectangle2.&#95;x &#61; (Stage&#91;&#34;visibleRect&#34;].width - 15) - rectangle2.width;

  // bottom right
  rectangle3.&#95;y &#61; (Stage&#91;&#34;visibleRect&#34;].height - 15) - rectangle3.height;
  rectangle3.&#95;x &#61; (Stage&#91;&#34;visibleRect&#34;].width - 15) - rectangle3.width;

  // bottom left
  rectangle4.&#95;y &#61; (Stage&#91;&#34;visibleRect&#34;].height - 15) - rectangle4.height;
  rectangle4.&#95;x &#61; 15;
}

// Tells the stage to listen for changes.
Stage.addListener(srl);

// Stage resize handler - runs any time the movie is resized via resolution change.
srl.onResize &#61; function()
{
    updateHud();
}

// Call updateHud on initialization
updateHud();

stop();
</pre>
</div>
<p /> <ul>
<li> Save and Publish the SWF, and import into UDK.
</li> <li> Either use Kismet (Open GFx Movie) or create an UnrealScript class that displays this SWF on the screen as the HUD.
</li> <li> Run the game at 1280x720 resolution. You should see the HUD you just created.
</li> <li> Open the console with the Tab key, and change the resolution to something else, say 800x600 using "setres 800x600".
</li> <li> Take note that the four rectangles will be in the exact same position (the corners) of the HUD, but still be the same size (not scaled).
</li></ul>
<p />
<img src="rsrc/TWiki/TWikiDocGraphics/warning.gif" alt="ALERT!" title="ALERT!" width="16" height="16" border="0" /> <strong>Note:</strong> Rather than using the ActionScript align and scale mode code:
<p />
<div class="codetitlebar">
ActionScript
</div>
<div class="codesnippet">
<pre>
Stage.scaleMode &#61; &#34;noScale&#34;;
Stage.align &#61; &#34;TL&#34;;
</pre>
</div>
<p />
You can instead do the exact same thing, using UnrealScript:
<p />
<div class="codetitlebar">
UnrealScript
</div>
<div class="codesnippet">
<pre>
MyMovie.SetViewScaleMode(SM&#95;NoScale);
MyMovie.SetAlignment(Align&#95;TopLeft);
</pre>
</div>
<p />
</noautolink>
<p />
<p />
<p />
<p />
<p />
<p />


<!-- BEGIN UE4 NOTICE -->



<div id="version_message" style="display:none;">

    <div style="position:fixed;top:0px;left:0px;width:100%;height:100%;background:#000;opacity:0.5;">

    </div>

    <div style="position:fixed;top:50%;left:50%;margin:-70px 0px 0px -240px;background:#FFF;border-radius:6px;width:480px;box-shadow:0px 5px 30px -5px rgba(0,0,0,0.9);">

        <div style="font-size:16px;font-weight:bold;background: url(rsrc/Three/warning.png) no-repeat scroll 5px 5px;padding:4px 10px 5px 25px;height:21px;width:440px;">

            Important!

        </div>

        <div style="font-size:11px;padding:5px 10px 10px;width:460px;">

            <p>You are viewing documentation for the <strong>Unreal Development Kit (UDK)</strong>.</p>



            <p>If you are looking for the Unreal Engine 4 documentation, please visit the <a style="color:#000;" href="https://docs.unrealengine.com">Unreal Engine 4 Documentation</a> site.</p>

        </div>

        <div style="height:20px;padding:4px;margin:6px;border-top:1px solid #a0a0a0;">

            <form onsubmit="return closeVersionMessage();">

                <input type="checkbox" id="dismiss" value="dismiss" />

                <label for="dsimiss">Don't show me this again</label>

                <input type="submit" value="Close" style="cursor:pointer;float:right;width:60px;color:#f0f0f0;font-weight:bold;background:#882222;height:24px;padding:2px 3px 3px;text-align:center;border:1px outset #000;" />

            </form>

        </div>

    </div>

</div>



<script type="text/javascript">

    window.onload = function () {

        LoadVersionMessage();

    }



    function LoadVersionMessage()

    {

        var showMessage = "false";
        if(showMessage != "false")

        {

            showVersionMessage();

        }

    }



    function showVersionMessage()

    {

        var message = document.getElementById("version_message");

        if(message)

        {

            message.style.display = "block";

        }

    }



    function closeVersionMessage() {

        var dismiss = document.getElementById("dismiss");

        var message = document.getElementById("version_message");

        if (message) {

            message.style.display = "none";

        }

        if (dismiss.checked) {

            eraseCookie("doc_version_message");

            createCookie("doc_version_message", "false", 365);

            dismiss.checked = false;

        }

        return false;

    }



    function createCookie(name, value, days) {

        if (days) {

            var date = new Date();

            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));

            var expires = "; expires=" + date.toGMTString();

        }

        else var expires = "";

        document.cookie = name + "=" + value + expires + "; path=/";

    }



    function readCookie(name) {

        var nameEQ = name + "=";

        var ca = document.cookie.split(';');

        for (var i = 0; i < ca.length; i++) {

            var c = ca[i];

            while (c.charAt(0) == ' ') c = c.substring(1, c.length);

            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);

        }

        return null;

    }



    function eraseCookie(name) {

        createCookie(name, "", -1);

    }

</script>



<!-- END UE4 NOTICE -->



</div></div><div id="footer"><div style="BACKGROUND-COLOR: transparent; margin: 0; padding: 0; width: 100%;"><div>&nbsp;</div><div style="float: left; text-align: left; vertical-align: bottom; width: 50%;"><a href="http://www.videogamevoters.org"><img src="rsrc/vgvn.jpg" border="0" width="234" height="60" alt="Video Game Voters Network" /></a></div><div style="float: right; text-align: right; vertical-align: bottom; width: 50%;">Copyright &copy; 2001-2012 <a href="http://www.epicgames.com" target="_top">Epic Games, Inc.</a><br /><a href="../Main/TermsAndConditions.html" class="twikiLink">Terms and Conditions</a><br /><a href="http://epicgames.com/privacynotice" target="_top">Privacy Notice</a></div></div></div></div>
<p />
</html></body>
