<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title> UDK | UnrealScriptIterators    </title>

<style type="text/css" media="all">@import "rsrc/twiki_webs.css";</style>
<style type="text/css" media="all">@import "rsrc/udn_new.css";</style>
<link rel="icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />


<!-- view.static_udn3.tmpl  -->
<script language="JavaScript" type="text/javascript" src="rsrc/udn.js"></script>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

</head>
<p />
<body id="webbgThree">
<p />

<p />
<div id="webThree"><div id="head">
<!--
<div class="header">
 -->
<div style="background: url(/pub/webbg_udn.jpg); background-repeat: no-repeat; height:140px; width: 100%;" >
<!--
<div style="background: transparent url(/pub/udn_header_bg.jpg); background-repeat: repeat-x; height:140px; width: 100%; margin-left: 991px;">
 -->
<p />
<div id="nav">
<ul class="nav">
<font color=black>|</font>&nbsp;&nbsp;<li class=nav_Three><a href="../Main/WebHome.html" class="twikiLink">Main</a></li><font color=black>|</font><li class=nav_Three><a href="../Two/WebHome.html" class="twikiLink">UnrealEngine2</a></li><font color=black>|</font><li class=nav_Three><a href="WebHome.html" class="twikiLink">UnrealEngine3</a></li><font color=black>|</font><li class=nav_Three><a href="https://docs.unrealengine.com" class="twikiLink">UnrealEngine4</a></li><font color=black>|</font><li class=nav_Three><a href="../Main/BusinessAndLegal.html" class="twikiLink">Business &amp; Legal</a></li><font color=black>|</font>
</ul><br><br><br>
</div>
</div>
</div> <!-- end head -->
<div id="pagedefault">
<div id="maincol">
<div id="tool">
<div id="tooltop">UDN</div>
<div id="tooltext" style="padding: 10px 10px 10px 10px;">
Search public documentation: <br>
<form ACTION="/search/index.php" METHOD="GET" NAME="main" ID="main">
<input TYPE="TEXT" NAME="q" SIZE="15" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;">
<input TYPE="SUBMIT" VALUE="Search" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;"><br>
</form>
</div>
<div id="toolband">UnrealScriptIterators  </b></div>
<div id="tooltext">
<a href="UnrealScriptIteratorsJP.html" class="twikiLink">日本語訳</a><br><a href="UnrealScriptIteratorsCH.html" class="twikiLink">中国翻译</a><br><a href="UnrealScriptIteratorsKR.html" class="twikiLink">한국어</a><br>

<!-- Three/UnrealScriptIterators -->
<hr size="1" noshade="noshade" />
Interested in the Unreal Engine? <br>
Visit the <a href="http://www.unrealtechnology.com" target="_top">Unreal Technology</a> site.<br>
<br>
Looking for jobs and company info? <br>
Check out the <a href="http://www.epicgames.com" target="_top">Epic games</a> site.<br>
<br>
Questions about support via UDN? <br>
Contact the <a href="../Main/ContactUDNStaff.html" class="twikiLink">UDN Staff</a> <br>
<br>
</div> <!-- end toolbox content -->
<div id="toolbottom"></div>
</div> <!-- end tool -->
<p />
<noautolink>
<p />
<div style="padding:0px 0px 0px 4px;font:10px Verdana;">
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="UnrealScriptHome.html" class="twikiLink">UnrealScript</a></b> &gt; <b><a href="UnrealScriptReference.html" class="twikiLink">UnrealScript Language Reference</a></b> &gt; UnrealScript Iterators
</div>
<hr size="1" noshade="noshade">
<h1><a name="UnrealScript Iterators"></a> UnrealScript Iterators </h1>
<hr size="1" noshade="noshade">
<p />
<div class="twikiToc"> <ul>
<li> <a href="UnrealScriptIterators.html#UnrealScript Iterators"> UnrealScript Iterators</a> <ul>
<li> <a href="UnrealScriptIterators.html#Overview"> Overview</a>
</li> <li> <a href="UnrealScriptIterators.html#Iterator Functions"> Iterator Functions</a>
</li> <li> <a href="UnrealScriptIterators.html#Foreach with Dynamic Arrays"> Foreach with Dynamic Arrays</a>
</li></ul>
</li></ul>
</div>
<p />
<style type="text/css" media="all">@import "rsrc/UDNCSS_test.css";</style>
<p />
<h2><a name="Overview"></a> Overview </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
UnrealScript's <code><b>foreach</b></code> command makes it easy to deal with large groups of actors, for example all of the actors in a level, or all of the actors within a certain distance of another actor. The <code><b>foreach</b></code> command works in conjunction with a special kind of function called an <strong>iterator</strong> function whose purpose is to iterate through a list of actors.
<p />
Here is a simple example of using an iterator with the <code><b>foreach</b></code> command:
<p />
<div class="codesnippet">
<pre>
<span style="color:#008800;">// Display a list of all lights in the level.</span>
function Something()
{
	local Actor A;

	<span style="color:#008800;">// Go through all actors in the level.</span>
	log( "Physics:" );
	foreach AllActors( class 'Actor', A )
	{
		if( A.Physics != PHYS_Interpolating )
			log( A );
	}
}
</pre>
</div>
<p />
The first parameter in all <code><b>foreach</b></code> commands is a constant class, which specifies what kinds of actors to search. You can use this to limit the search to, for example, all <code><b>Pawns</b></code> only.
<p />
The second parameter in the <code><b>foreach</b></code> command is a variable that is assigned as an actor for the duration of each iteration through the <code><b>foreach</b></code> loop.
<p />
<h2><a name="Iterator Functions"></a> Iterator Functions </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
Here are all of the iterator functions that work with the <code><b>foreach</b></code> command.
<p />
<strong>Actor</strong>
<p />
These iterator functions are all members of the <code><b>Actor</b></code> class so if you want to use an iterator from within a function in a non-Actor, you must have an actor variable and use the following syntax:
<p /> <dl>
<dt> <strong>AllActors ( class&lt;actor&gt; BaseClass, out actor Actor, optional class<Interface> InterfaceClass )</strong>  </dt><dd> Iterates through all actors in the level. If you specify an optional <code><b>InterfaceClass</b></code>, only includes actors that implement the <code><b>InterfaceClass</b></code>.
</dd> <dt> <strong>DynamicActors( class&lt;actor&gt; BaseClass, out actor Actor, optional class<Interface> InterfaceClass )</strong>  </dt><dd> Iterates through all actors with <code><b>bStatic=false</b></code>
</dd> <dt> <strong>ChildActors( class&lt;actor&gt; BaseClass, out actor Actor )</strong>  </dt><dd> Iterates through all actors owned by this actor.
</dd> <dt> <strong>BasedActors( class&lt;actor&gt; BaseClass, out actor Actor )</strong>  </dt><dd> Iterates through all actors which use this actor as a base.
</dd> <dt> <strong>TouchingActors( class&lt;actor&gt; BaseClass, out actor Actor )</strong>  </dt><dd> Iterates through all actors which are touching (interpenetrating) this actor.
</dd> <dt> <strong>TraceActors( class&lt;actor&gt; BaseClass, out actor Actor, out vector HitLoc, out vector HitNorm, vector End, optional vector Start, optional vector Extent )</strong>  </dt><dd> Iterates through all actors which touch a line traced from the <code><b>Start</b></code> point to the <code><b>End</b></code> point, using a box of collision extent <code><b>Extent</b></code>. On each iteration, <code><b>HitLoc</b></code> is set to the hit location, and <code><b>HitNorm</b></code> is set to an outward-pointing hit normal.
</dd> <dt> <strong>OverlappingActors( class&lt;actor&gt; BaseClass, out actor Actor, float Radius, optional vector Loc, optional bool bIgnoreHidden )</strong>  </dt><dd> Iterates through all actors within a specified <code><b>Radius</b></code> of the specified location (or if none is specified, this actor's location).
</dd> <dt> <strong>VisibleActors( class&lt;actor&gt; BaseClass, out actor Actor, optional float Radius, optional vector Loc )</strong>  </dt><dd> Iterates through a list of all actors who are visible to the specified ==Loc==ation (or if no location is specified, this actor's location).
</dd> <dt> <strong>VisibleCollidingActors ( class&lt;actor&gt; BaseClass, out actor Actor, float Radius, optional vector Loc, optional bool bIgnoreHidden )</strong>  </dt><dd> returns all colliding (<code><b>bCollideActors==true</b></code>) actors within a certain radius for which a trace from <code><b>Loc</b></code> (which defaults to caller's Location) to that actor's Location does not hit the world. Much faster than <code><b>AllActors()</b></code> since it uses the collision hash.
</dd> <dt> <strong>CollidingActors ( class&lt;actor&gt; BaseClass, out actor Actor, float Radius, optional vector Loc )</strong>  </dt><dd> returns colliding (<code><b>bCollideActors==true</b></code>) actors within a certain <code><b>Radius</b></code>. Much faster than <code><b>AllActors()</b></code> for reasonably small radii since it uses the collision hash
</dd> <dt> <strong>ComponentList( class&lt;ActorComponent&gt; BaseClass, out ActorComponent out_Component )</strong>  </dt><dd> returns all components in the actor's Component's list
</dd> <dt> <strong>AllOwnedComponents( class&lt;Component&gt; BaseClass, out ActorComponent OutComponent )</strong>  </dt><dd> returns all components attached "directly or indirectly" to the actor
</dd> <dt> <strong>LocalPlayerControllers( class&lt;PlayerController&gt; BaseClass, out PlayerController PC)</strong>  </dt><dd> returns all local PlayerControllers
</dd></dl>
<p />
The syntax for using one of these iterators from a non-Actor would be:
<p />
<div class="codesnippet">
<pre>
foreach ActorVar.DynamicActors(class&#39;Pawn&#39;, P)
</pre>
</div>
<p />
So, from within an <code><b>Interaction</b></code> class, you could do:
<p />
<div class="codesnippet">
<pre>
foreach ViewportOwner.Actor.DynamicActors(class&#39;Pawn&#39;, P)
</pre>
</div>
<p />
<strong>WorldInfo</strong>
<p />
These iterator functions are all members of the <code><b>WorldInfo</b></code> class so you need a reference to the WorldInfo to use any of these.
<p /> <dl>
<dt> <strong>AllControllers(class&lt;Controller&gt; BaseClass, out Controller C)</strong>  </dt><dd> Iterates through all the <code><b>Controllers</b></code> (Player or AI) currently in the level.
</dd> <dt> <strong>AllPawns(class&lt;Pawn&gt; BaseClass, out Pawn P, optional vector TestLocation, optional float TestRadius)</strong>  </dt><dd> Iterates through all the <code><b>Pawns</b></code> within the current level. You can optionally specify a radius (<code><b>TestRadius</b></code>) to iterate within around a given location (<code><b>TestLocation</b></code>)
</dd> <dt> <strong>AllNavigationPoints(class&lt;NavigationPoint&gt; BaseClass, out NavigationPoint N)</strong>  </dt><dd> Iterates through the list of all <code><b>NavigationPoints</b></code> in the <code><b>NavigationPointList</b></code>.
</dd> <dt> <strong>RadiusNavigationPoints(class&lt;NavigationPoint&gt; BaseClass, out NavigationPoint N, vector Point, float Radius)</strong>  </dt><dd> Iterates through the list of all <code><b>NavigationPoints</b></code> in the <code><b>NavigationPointList</b></code> within the specified <code><b>Radius</b></code> of the location specified by the <code><b>Point</b></code> parameter.
</dd> <dt> <strong>AllClientConnections(out Player ClientConnection, out int ClientIP, out int ClientPort)</strong>  </dt><dd> Iterates through the list of all Player objects that have a Network Connection, along with their IP and Port.  May only be run on servers.
</dd></dl>
<p />
The syntax for using one of these iterators from an Actor would be:
<p />
<div class="codesnippet">
<pre>
foreach WorldInfo.AllControllers(class&#39;Controller&#39;, C)
</pre>
</div>
<p />
From within a non-Actor, you could do:
<p />
<div class="codesnippet">
<pre>
foreach class&#39;WorldInfo&#39;.static.GetWorldInfo().AllControllers(class&#39;Controller&#39;, C)
</pre>
</div>
<p />
<h2><a name="Foreach with Dynamic Arrays"></a> Foreach with Dynamic Arrays </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
Dynamic arrays now support iteration using the <code><b>foreach</b></code> command as well. The basic syntax is:
<p />
<div class="codesnippet">
<pre>
foreach ArrayVariable(out ArrayItem, optional out ItemIndex)
{
   ...
}
</pre>
</div>
<p />
<code><b>ArrayItem</b></code> must be of the same type as the elements in the array. Each iteration will increment the index and write out the item as well as the index if a property is supplied.
<p />
See the <a href="UnrealScriptVariables.html#DynArrayIterator" class="twikiAnchorLink">Iterating Dynamic Arrays</a> section on the <a href="UnrealScriptVariables.html" class="twikiLink">UnrealScript Variables</a> page for more information.
<p />
</noautolink>
<p />
<p />
<p />
<p />
<p />
<p />


<!-- BEGIN UE4 NOTICE -->



<div id="version_message" style="display:none;">

    <div style="position:fixed;top:0px;left:0px;width:100%;height:100%;background:#000;opacity:0.5;">

    </div>

    <div style="position:fixed;top:50%;left:50%;margin:-70px 0px 0px -240px;background:#FFF;border-radius:6px;width:480px;box-shadow:0px 5px 30px -5px rgba(0,0,0,0.9);">

        <div style="font-size:16px;font-weight:bold;background: url(rsrc/Three/warning.png) no-repeat scroll 5px 5px;padding:4px 10px 5px 25px;height:21px;width:440px;">

            Important!

        </div>

        <div style="font-size:11px;padding:5px 10px 10px;width:460px;">

            <p>You are viewing documentation for the <strong>Unreal Development Kit (UDK)</strong>.</p>



            <p>If you are looking for the Unreal Engine 4 documentation, please visit the <a style="color:#000;" href="https://docs.unrealengine.com">Unreal Engine 4 Documentation</a> site.</p>

        </div>

        <div style="height:20px;padding:4px;margin:6px;border-top:1px solid #a0a0a0;">

            <form onsubmit="return closeVersionMessage();">

                <input type="checkbox" id="dismiss" value="dismiss" />

                <label for="dsimiss">Don't show me this again</label>

                <input type="submit" value="Close" style="cursor:pointer;float:right;width:60px;color:#f0f0f0;font-weight:bold;background:#882222;height:24px;padding:2px 3px 3px;text-align:center;border:1px outset #000;" />

            </form>

        </div>

    </div>

</div>



<script type="text/javascript">

    window.onload = function () {

        LoadVersionMessage();

    }



    function LoadVersionMessage()

    {

        var showMessage = "false";
        if(showMessage != "false")

        {

            showVersionMessage();

        }

    }



    function showVersionMessage()

    {

        var message = document.getElementById("version_message");

        if(message)

        {

            message.style.display = "block";

        }

    }



    function closeVersionMessage() {

        var dismiss = document.getElementById("dismiss");

        var message = document.getElementById("version_message");

        if (message) {

            message.style.display = "none";

        }

        if (dismiss.checked) {

            eraseCookie("doc_version_message");

            createCookie("doc_version_message", "false", 365);

            dismiss.checked = false;

        }

        return false;

    }



    function createCookie(name, value, days) {

        if (days) {

            var date = new Date();

            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));

            var expires = "; expires=" + date.toGMTString();

        }

        else var expires = "";

        document.cookie = name + "=" + value + expires + "; path=/";

    }



    function readCookie(name) {

        var nameEQ = name + "=";

        var ca = document.cookie.split(';');

        for (var i = 0; i < ca.length; i++) {

            var c = ca[i];

            while (c.charAt(0) == ' ') c = c.substring(1, c.length);

            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);

        }

        return null;

    }



    function eraseCookie(name) {

        createCookie(name, "", -1);

    }

</script>



<!-- END UE4 NOTICE -->



</div></div><div id="footer"><div style="BACKGROUND-COLOR: transparent; margin: 0; padding: 0; width: 100%;"><div>&nbsp;</div><div style="float: left; text-align: left; vertical-align: bottom; width: 50%;"><a href="http://www.videogamevoters.org"><img src="rsrc/vgvn.jpg" border="0" width="234" height="60" alt="Video Game Voters Network" /></a></div><div style="float: right; text-align: right; vertical-align: bottom; width: 50%;">Copyright &copy; 2001-2012 <a href="http://www.epicgames.com" target="_top">Epic Games, Inc.</a><br /><a href="../Main/TermsAndConditions.html" class="twikiLink">Terms and Conditions</a><br /><a href="http://epicgames.com/privacynotice" target="_top">Privacy Notice</a></div></div></div></div>
<p />
</html></body>
