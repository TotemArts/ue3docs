<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title> UDK | SettingUpVehicles    </title>

<style type="text/css" media="all">@import "rsrc/twiki_webs.css";</style>
<style type="text/css" media="all">@import "rsrc/udn_new.css";</style>
<link rel="icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />


<!-- view.static_udn3.tmpl  -->
<script language="JavaScript" type="text/javascript" src="rsrc/udn.js"></script>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

</head>
<p />
<body id="webbgThree">
<p />

<p />
<div id="webThree"><div id="head">
<!--
<div class="header">
 -->
<div style="background: url(/pub/webbg_udn.jpg); background-repeat: no-repeat; height:140px; width: 100%;" >
<!--
<div style="background: transparent url(/pub/udn_header_bg.jpg); background-repeat: repeat-x; height:140px; width: 100%; margin-left: 991px;">
 -->
<p />
<div id="nav">
<ul class="nav">
<font color=black>|</font>&nbsp;&nbsp;<li class=nav_Three><a href="../Main/WebHome.html" class="twikiLink">Main</a></li><font color=black>|</font><li class=nav_Three><a href="../Two/WebHome.html" class="twikiLink">UnrealEngine2</a></li><font color=black>|</font><li class=nav_Three><a href="WebHome.html" class="twikiLink">UnrealEngine3</a></li><font color=black>|</font><li class=nav_Three><a href="https://docs.unrealengine.com" class="twikiLink">UnrealEngine4</a></li><font color=black>|</font><li class=nav_Three><a href="../Main/BusinessAndLegal.html" class="twikiLink">Business &amp; Legal</a></li><font color=black>|</font>
</ul><br><br><br>
</div>
</div>
</div> <!-- end head -->
<div id="pagedefault">
<div id="maincol">
<div id="tool">
<div id="tooltop">UDN</div>
<div id="tooltext" style="padding: 10px 10px 10px 10px;">
Search public documentation: <br>
<form ACTION="/search/index.php" METHOD="GET" NAME="main" ID="main">
<input TYPE="TEXT" NAME="q" SIZE="15" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;">
<input TYPE="SUBMIT" VALUE="Search" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;"><br>
</form>
</div>
<div id="toolband">SettingUpVehicles  </b></div>
<div id="tooltext">
<a href="SettingUpVehiclesJP.html" class="twikiLink">日本語訳</a><br><a href="SettingUpVehiclesCH.html" class="twikiLink">中国翻译</a><br><a href="SettingUpVehiclesKR.html" class="twikiLink">한국어</a><br>

<!-- Three/SettingUpVehicles -->
<hr size="1" noshade="noshade" />
Interested in the Unreal Engine? <br>
Visit the <a href="http://www.unrealtechnology.com" target="_top">Unreal Technology</a> site.<br>
<br>
Looking for jobs and company info? <br>
Check out the <a href="http://www.epicgames.com" target="_top">Epic games</a> site.<br>
<br>
Questions about support via UDN? <br>
Contact the <a href="../Main/ContactUDNStaff.html" class="twikiLink">UDN Staff</a> <br>
<br>
</div> <!-- end toolbox content -->
<div id="toolbottom"></div>
</div> <!-- end tool -->
<p />
<noautolink>
<p />
<div style="padding:0px 0px 0px 4px;font:10px Verdana;">
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="GameplayHome.html" class="twikiLink">Gameplay Elements</a></b> &gt; Setting Up Vehicles
</div>
<hr size="1" noshade="noshade">
<h1><a name="Setting Up Vehicles"></a> Setting Up Vehicles </h1>
<hr size="1" noshade="noshade">
<p />
<div class="twikiToc"> <ul>
<li> <a href="SettingUpVehicles.html#Setting Up Vehicles"> Setting Up Vehicles</a> <ul>
<li> <a href="SettingUpVehicles.html#Modeling Vehicles - Setup and Rigging"> Modeling Vehicles - Setup and Rigging</a>
</li> <li> <a href="SettingUpVehicles.html#Vehicle Export"> Vehicle Export</a>
</li> <li> <a href="SettingUpVehicles.html#Vehicle Import and Setup"> Vehicle Import and Setup</a> <ul>
<li> <a href="SettingUpVehicles.html#Create A Physics Asset"> Create A Physics Asset</a>
</li> <li> <a href="SettingUpVehicles.html#Create An Anim Tree"> Create An Anim Tree</a> <ul>
<li> <a href="SettingUpVehicles.html#Setting Up Wheels"> Setting Up Wheels</a>
</li> <li> <a href="SettingUpVehicles.html#Setting Up Suspension Bones"> Setting Up Suspension Bones</a>
</li> <li> <a href="SettingUpVehicles.html#Setting Up Damage Nodes"> Setting Up Damage Nodes</a> <ul>
<li> <a href="SettingUpVehicles.html#Morph Nodes"> Morph Nodes</a>
</li> <li> <a href="SettingUpVehicles.html#Damage Nodes"> Damage Nodes</a>
</li></ul>
</li></ul>
</li> <li> <a href="SettingUpVehicles.html#Setting Up Sockets"> Setting Up Sockets</a>
</li> <li> <a href="SettingUpVehicles.html#Creating Projectiles"> Creating Projectiles</a>
</li> <li> <a href="SettingUpVehicles.html#Setting Up Muzzle Flashes"> Setting Up Muzzle Flashes</a>
</li></ul>
</li> <li> <a href="SettingUpVehicles.html#For Programmers"> For Programmers</a> <ul>
<li> <a href="SettingUpVehicles.html#Creating The Script File"> Creating The Script File</a>
</li> <li> <a href="SettingUpVehicles.html#Performance: Tuning Vehicles"> Performance: Tuning Vehicles</a> <ul>
<li> <a href="SettingUpVehicles.html#Useful Console Commands"> Useful Console Commands</a>
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</div>
<p />
<h2><a name="Modeling Vehicles - Setup and Rigging"></a> Modeling Vehicles - Setup and Rigging </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
Vehicles in UnrealEngine 3 use a skeletal mesh to render. This makes it easy to import a mesh with multiple moving parts for wheels, suspension, flaps, doors etc as one asset. Vehicles can take many different forms - but the code does assume they have a single rigid chassis. If your vehicle has wheels, you can use any number you like, and they can be of different sizes. any more than four wheels will require additional programming.
<p />
There are a few key things to keep in mind when creating a vehicle mesh for use in UE3:
<p /> <ul>
<li> The root bone must be weighted to the main rigid chassis of the vehicle.
</li> <li> The vehicle should point down the +X axis and have +Z as up, and the root `chassis' bone should point down the +X axis and have +Z as up as well. It is a good idea to get the vehicle pointing in the right direction before adding any bones.
</li> <li> Any other bones for wheels and suspension should be direct children of the chassis bone. Do <strong>not</strong> make wheel bones children of suspension bones - leave them as children of the chassis.
</li> <li> Place each tire bone where you want the wheel to rotate (both roll and steering). One axis of the bone should point along the roll axis and another should point along the steering axis (you can tell the engine which axis to use once it has been imported and you are setting up the AnimTree).
</li> <li> When exporting the vehicle, make sure the wheel bones are moved down to the fullest extension of the suspension.
</li> <li> Any weapons will need bones to be able to rotate, both Pitch and Yaw (can be the same bone for both or separate). For vehicle with multiple seats for passengers, each seat should have a bone which the passenger occupying that seat will be attached to (if visible). Also, the camera(s) and any effects (such as muzzle flashes and spawning projectiles, thruster effects, damage effects, etc.)  used by the vehicle will need sockets to be attached to. In many cases, these will not require bones at the exact location here the socket will be located, but it often makes setting up the sockets much quicker if they are.
</li></ul>
<p />
<img alt="Vehicle_Paladin.jpg" src="rsrc/Three/SettingUpVehicles/Vehicle_Paladin.jpg" />
<p />
<img alt="Vehicle_Scorpion.jpg" src="rsrc/Three/SettingUpVehicles/Vehicle_Scorpion.jpg" />
<p />
<h2><a name="Vehicle Export"></a> Vehicle Export </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
Exporting a weapon skeletal mesh into the engine is done in exactly the same way as a standard skeletal mesh. You can either choose to use <a href="ActorX.html" class="twikiLink">ActorX</a> to export your mesh and animations to a .PSK and .PSA file, respectively; or you can make use of Unreal's <a href="FBXImporterUserGuide.html" class="twikiLink">FBX Import pipeline</a> by exporting your mesh and animations to an .FBX file with your 3D application's built-in export tools. You should export the mesh and each of the animations that will be needed for that particular vehicle.
<p />
Depending on what class your vehicle is extending from or whether you have implemented your own damage system, you may also a set of morph targets that need to be exported using ActorX or your 3D application's .FBX export tools. In addition, it is possible you will need specific damaged/destroyed pieces of the vehicle to be exported to static meshes (export to .ASE in 3dsMax or by using ActorX in Maya via the 'axmesh' command), e.g. the UTVehicle class spawns vehicle "gibs" when parts are destroyed, including any turrets the vehicle may contain.
<p />
<h2><a name="Vehicle Import and Setup"></a> Vehicle Import and Setup </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
The .PSK file (or .FBX file depending on your preferred file format) for the vehicle should be imported into the Content Browser as a skeletal mesh.
<p />
<img alt="meshimportpsk.jpg" src="rsrc/Three/SettingUpVehicles/meshimportpsk.jpg" /> <img alt="meshimport_fbx.jpg" src="rsrc/Three/SettingUpVehicles/meshimport_fbx.jpg" />
<p />
Textures and materials for the vehicle should also be imported, set up, and assigned to the skeletal mesh. In the AnimSet Editor, you can create a new AnimSet for the vehicle from the File menu by choosing <em>New AnimSet...</em> and then providing a Package, Group (optional), and Name.
<p />
<img alt="newanimset.jpg" src="rsrc/Three/SettingUpVehicles/newanimset.jpg" />
<p />
Then, the .PSA file containing any animations for the vehicle should be imported into the vehicle's AnimSet by choosing <em>Import PSA...</em>, again from the File menu in the AnimSet Editor.
<p />
<img alt="newanimation.jpg" src="rsrc/Three/SettingUpVehicles/newanimation.jpg" />
<p />
If you are using the .FBX file format, you would choose <em>Import FBX Animation...</em> here, instead, to import your animations.
<p />
If the vehicle has any morph targets, those can be imported through the AnimSet Editor as well. First, create a new MorphTargetSet by choosing <em>New MorphTargetSet</em> from the <em>File</em> menu and the provide a Package, Group (optional), and Name.
<p />
<img alt="newmorphset.jpg" src="rsrc/Three/SettingUpVehicles/newmorphset.jpg" />
<p />
Then each individual morph target can be imported into that morph target set by choosing <em>Import MorphTarget</em> from the <em>File</em> menu.
<p />
<img alt="newmorphtarget.jpg" src="rsrc/Three/SettingUpVehicles/newmorphtarget.jpg" />
<p />
This option provides the ability to import .PSK or .FBX files conatining a morph target.
<p />
<h3><a name="Create A Physics Asset"></a> Create A Physics Asset </h3>
<p />
Once you have imported your vehicle mesh into the engine, you need to create a Physics Asset for it, to define the collision shape for it. To do this you need to use PhAT (the <a href="PhATUserGuide.html" class="twikiLink">Physics Asset editing Tool</a>).
<p />
The only body that is important for a Physics Asset used with a vehicle is the root `chassis' bone. You do not need to create physics bodies for any other bones - you don't need to create joints for wheels for example. Wheel simulation is all handled by the vehicle physics code. Only the chassis body will be created as a physics object, and used for the vehicle collision. PhysicsAssets are used for line check and player collision against the vehicle though, so you may want to create collision shapes for other bones to get more accurate collision - particularly if those bones are going to move (doors, flaps, turrets etc).
<p />
The mass and inertia of a vehicle in the game is calculated based on the volume of the chassis collision geometry, and the Density property of the PhysicalMaterial applied to the chassis BodySetup. To modify the mass of a vehicle in the game you can either modify the PhysicalMaterial, or adjust the MassScale property of the chassis BodySetup.
<p />
<h3><a name="Create An Anim Tree"></a> Create An Anim Tree </h3>
<p />
Although you may not be playing animation on your vehicle, you will still need to create an AnimTree for it to work properly. This is because AnimTrees also contain SkelControls to move individual bones around procedurally in the game. The UE3 vehicle system uses a special type of bone controller to move the wheel bones to match the underlying simulation. You can find more information on wheel SkelControls on the <a href="UsingSkeletalControllers.html#SkelControlWheel" class="twikiAnchorLink">Using Skeletal Controllers</a> page.
<p />
See the <a href="AnimTreeEditorUserGuide.html" class="twikiLink">AnimTree Editor User Guide</a> for more information about basic AnimTree setup and using the editor.
<p />
<h4><a name="Setting Up Wheels"></a> Setting Up Wheels </h4>
<p />
<img alt="SkelControlWheel.jpg" src="rsrc/Three/SettingUpVehicles/SkelControlWheel.jpg" />
<p />
The `WheelDisplacement', `WheelRoll', and `WheelSteering' settings are simply visual so you can see, in the editor, that things are moving the correct direction in the correct axis.  They do not actually change the performance or limitations of the vehicle.
<p />
The `WheelMaxRenderDisplacement' setting will set the upper limit of translation in the Z axis.  This will determine the range of movement for the suspension.  So enter values into `WheelDisplacement' to visually determine where you want the upper most limit of travel for the wheel.  Then enter that final value into `WheelMaxRenderDisplacement' to set it as a limit.  While using the vehicle in game, the wheels will travel up and down between 0 and the number you specify in `WheelMaxRenderDisplacement'. The Roll and Steering axis can be changed and inverted using the remaining settings.
<p />
You need to set the ControlName property of the SkelControlWheel. This will be passed to the simulation so it knows which control to update as you drive around.
<p />
<h4><a name="Setting Up Suspension Bones"></a> Setting Up Suspension Bones </h4>
<p />
As well as having a control to move the wheels as you drive, you may want to add some additional controls to bones that control suspension arms. There is a type of SkelControl called a `look at' controller, which tells the bone to always point one axis towards another object, bone, or point in space. This node is used to control suspension bones.
<p />
<img alt="SuspensionRig.jpg" src="rsrc/Three/SettingUpVehicles/SuspensionRig.jpg" />
<p />
<img alt="SkelControlLookAt.JPG" src="rsrc/Three/SettingUpVehicles/SkelControlLookAt.JPG" />
<p />
The blue diamond shape is the aiming target. The `TargetLocationSpace' setting determines what the aim target is relative to:  itself, its parent, actor space, world space, or in this case, another bone. Enter the name of the bone you want to aim at in the `TargetSpaceBoneName' setting. The `Target Location' setting will offset the position of the aim target relative to its `Target Location Space' setting.  You can also offset the aim by chaining a SkelControlSingleBone node after the LookAt node to offset the rotation of the suspension bone.
<p />
<img alt="SkelControlSingleBone.JPG" src="rsrc/Three/SettingUpVehicles/SkelControlSingleBone.JPG" />
<p />
You can change or invert the LookAtAxis or UpAxis if it was aligned different in your 3D package. Depending on the complexity of your suspension, you could use the LookAt nodes and SingleBone nodes to create pistons and other connected moving parts.
<p />
LookAt nodes can also be used to cancel out rotation on parts connected to the wheel, such as fenders, that need to rotate with the steering and move with the suspension, but should not spin forwards or backwards.  To do this, add a bone, parented under the wheel bone, but located in the exact same place.  Bind the fender mesh to this bone.  Add another bone directly above wheel bone.  This will be what the fender will aim at.  In the AnimTree, add a LookAt constraint to the fender bone, aiming at the fender-aim bone.  In the LookAt node settings, set both the LookAt Axis and Up Axis to Z.  The fender bone should now move with the wheel bone during suspension travel, and steering, but will not spin.
<p />
<img alt="FenderTip1.JPG" src="rsrc/Three/SettingUpVehicles/FenderTip1.JPG" />
<p />
<img alt="FenderTip2.JPG" src="rsrc/Three/SettingUpVehicles/FenderTip2.JPG" />
<p />
<h4><a name="Setting Up Damage Nodes"></a> Setting Up Damage Nodes </h4>
<p />
Vehicles extending from the UTVehicle class can make use of the localized damage system. This allows vehicles to show progressive damage in the locations where the damage is being done. The system makes use of morph targets as well as special skeletal controllers, the UTSkelControl_Damage, UTSkelControl_DamageHinge, and UTSkelControl_DamageSpring nodes.
<p />
<h5><a name="Morph Nodes"></a> Morph Nodes </h5>
<p />
Morph targets can be used to alter the appearance of the vehicle as it gets damaged by blending from the undamaged mesh to any number of damaged meshes. Usually, you will have one morph target for each area of the vehicle you want to be able to take damage individually of the rest of the vehicle, e.g. for a car-like vehicle you might have morph targets for the hood, each of the fenders, the rear, each of the doors, etc. This way, when another vehicle runs into the left front fender, the damage system can blend in that morph target an only that fender will appear damaged.
<p />
<img alt="damage_morph.jpg" src="rsrc/Three/SettingUpVehicles/damage_morph.jpg" />
<p />
Importing morph targets was covered in the <a href="#Vehicle Import and Setup">Vehicle Import and Setup</a> section.
<p />
Once you have the vehicle's morph targets imported and ready to go, they must be set up in the AnimTree. First, a MorphNodePose must be created for each morph target. The <em>Morph Name</em> property of this node is what determines which morph target it controls.
<p />
<img alt="damage_morphpose.jpg" src="rsrc/Three/SettingUpVehicles/damage_morphpose.jpg" />
<p />
Next, a MorphNodeWeight must be added. This node controls how much of the MorphNodePose's morph target is blended in at any time. The MorphNodePose should connect to the MorphNodeWeight which in turn should connect to the Morph link on the base AnimTreenode. Make sure to give the MorphNodeWeight a name using the <em>NodeName</em> property as this is how it will be referenced in the scripts by your programmer.
<p />
<img alt="damage_morphweight.jpg" src="rsrc/Three/SettingUpVehicles/damage_morphweight.jpg" />
<p />
This process must be done for each morph target used in the damage system.
<p />
<img alt="damage_morphnodes.jpg" src="rsrc/Three/SettingUpVehicles/damage_morphnodes.jpg" />
<p />
<h5><a name="Damage Nodes"></a> Damage Nodes </h5>
<p />
Skeletal controllers can be used with the damage system to cause parts to break off as they get damaged as well as explode when the vehicle is destroyed. The basic damage controller is the UTSkelControl_Damage. This node is mainly used for spawning broken vehicle parts when the vehicle dies, but can also be used for breaking pieces off the vehicle as it becomes more and more dmamaged. The UTSkelControl_DamageHinge and UTSkelControl_DamageSpring nodes are mainly used for breaking pieces off the vehicle as it becomes more damaged. They also add the ability to have the associated vehicle parts become more flappy or looser (depending ont he type of node used, hinge or spring) until they break off.
<p />
The node gets linked to a specifc bone and damage caused in the location of that bone (or closer to it than any other bone) will be applied to the associated damage controller.
<p />
<img alt="SkelControlDamage.jpg" src="rsrc/Three/SettingUpVehicles/SkelControlDamage.jpg" />
<p />
There are many properties common to the UTSkelControl_Damage, UTSkelControl_DamageHinge, and UTSkelControl_DamageSpring nodes:
<p />
<strong>Damage</strong>
<p /> <ul>
<li> <strong>On Damage Active</strong> - If true, the damage and breaking functionality is enabled for this control.
</li> <li> <strong>Control Str Follows Health</strong> - If true, the control strength once active is determined by the current health of the controller. Otherwise it is always full strength once active.
</li> <li> <strong>Damage Bone Scale</strong> - The scale to set the associated bone too when the controller breaks apart. Usually (0,0,0) to hide the part completely.
</li> <li> <strong>Damage Max</strong> - The amount of damage the controller can take before it is considered dead; essentially, this is the maximum health of the controller.
</li> <li> <strong>Activation Threshold</strong> - The health ratio (current health / maximum health) below which the controller becomes active.
</li> <li> <strong>Break Mesh</strong> - The StaticMesh to spawn when this controller breaks.
</li> <li> <strong>Break Threshold</strong> - The control strength above which the controller looks the begin breaking.
</li> <li> <strong>Break Time</strong> - The amount of time it takes to go from breaking to completely broken.
</li> <li> <strong>Default Break Dir</strong> - The direction used to determine the velocity of the broken off piece.
</li> <li> <strong>Damage Scale</strong> - The scale to be used for the spawned vehicle part. Useful for mirroring the same StaticMesh when being used for multiple parts on opposite sides of the vehicle.
</li> <li> <strong>PS_Damage On Break</strong> - The ParticleSystem to spawn when the controller breaks apart, e.g. a small explosion effect.
</li> <li> <strong>PS_Damage Trail</strong> - The ParticleSystem to attach to the broken off part as a trail, e.g. a smoke trail effect.
</li></ul>
<p />
<strong>OnDeath</strong>
<p /> <ul>
<li> <strong>On Death Active</strong> - If true, the death breaking functionality is enabled for this control.
</li> <li> <strong>On Death Use For Secondary Explosion</strong> - If true, this damage control is used for the secondary death explosion of the vehicle instead of the primary death.
</li> <li> <strong>Death Percent To Actually Spawn</strong> - The percent chance (0 to 1) that this control will actually spawn a broken off part when the vehicle dies.
</li> <li> <strong>Death Bone Scale</strong> - The scale to set the associated bone too when the controller breaks apart. Usually (0,0,0) to hide the part completely.
</li> <li> <strong>Death Static Mesh</strong> - The StaticMesh to spawn when this controller breaks.
</li> <li> <strong>Death Impulse Dir</strong> - The direction used to determine the velocity of the broken off piece.
</li> <li> <strong>Death Scale</strong> - The scale to be used for the spawned vehicle part. Useful for mirroring the same StaticMesh when being used for multiple parts on opposite sides of the vehicle.
</li> <li> <strong>PS_Death On Break</strong> - The ParticleSystem to spawn when the controller breaks apart on death, e.g. a small explosion effect.
</li> <li> <strong>PS_Death Trail</strong> - The ParticleSystem to attach to the broken off part as a trail, e.g. a smoke trail effect.
</li></ul>
<p />
<h3><a name="Setting Up Sockets"></a> Setting Up Sockets </h3>
<p />
Sockets were mentioned previously as being used as attachment points for player cameras and weapon muzzle flashes as well as any additional effects the vehicle may require. Sockets are essentially locators parented to a specific bone which can named and then be offset and given their own individual rotation. This provides an easy way to attach or spawn items at specific locations.
<p />
Sockets are added to a skeletal mesh inside of UnrealEd through the AnimSet Editor. Press the <img alt="toolbar_socket.jpg" src="" /> button in the toolbar to open the Socket Manager.
<p />
<img alt="socketmanager.jpg" src="rsrc/Three/SettingUpVehicles/socketmanager.jpg" />
<p />
The <img alt="newsocket_button.jpg" src="" /> button will open a new dialog that lists all the bones available in the mesh.
<p />
<img alt="newsocket_bone.jpg" src="rsrc/Three/SettingUpVehicles/newsocket_bone.jpg" />
<p />
Select the bone that was added at the tip of the barrel of the mesh and then press <em>OK</em>. This will bring up another dialog where the new socket can be given a name that will be used to identify it in code.
<p />
<img alt="newsocket_name.jpg" src="rsrc/Three/SettingUpVehicles/newsocket_name.jpg" />
<p />
Once you've entered a name, press <em>OK</em> to add the new socket. It should appear in the Preview Pane of the AnimSet Editor and in the socket list of the Socket Manager.
<p />
<img alt="newsocket_complete.jpg" src="rsrc/Three/SettingUpVehicles/newsocket_complete.jpg" />
<p />
The example shown would be used asa  locator for attaching a camera for the passenger controlling the turret. Other sockets would also be added at the ends of each of the weapon barrels and in any other locations where effects might need to be attached. The example vehicle below has had all the necessary sockets added.
<p />
<img alt="vehicle_sockets.jpg" src="rsrc/Three/SettingUpVehicles/vehicle_sockets.jpg" />
<p />
<h3><a name="Creating Projectiles"></a> Creating Projectiles </h3>
<p />
A projectile is the physical representation of the weapon fire. The visual component of Projectiles in Unreal are simply particle systems. Creating particle sytems for projectiles is a straightforward process similar to making any other particle system. Essentially, you want to set up a particle system that recreates how you want to the projectile to appear while in flight. The particle system can be made up of as many emitters as necessary to get the desired effect.
<p />
Some examples of projectile particle systems are shown below:
<p />
<img alt="projectile_link.jpg" src="rsrc/Three/SettingUpVehicles/projectile_link.jpg" /> <img alt="projectile_rocket.jpg" src="rsrc/Three/SettingUpVehicles/projectile_rocket.jpg" /> <img alt="Manta_Proj.jpg" src="rsrc/Three/SettingUpVehicles/Manta_Proj.jpg" />
<p />
<h3><a name="Setting Up Muzzle Flashes"></a> Setting Up Muzzle Flashes </h3>
<p />
Muzzle flashes are used to simulate the projectile being expelled from the barrel of the weapon, like the flash you would see when a gun is fired in real life. The weapon system in Unreal uses a particle system as the visual component of a muzzle flash. As with projectiles, the particle system for a muzzle flash can be made up of as many emitters as necessary to get the desired look.
<p />
Some examples of muzzle flash particle systems are shown below:
<p />
<img alt="Scorpion_Flash.jpg" src="rsrc/Three/SettingUpVehicles/Scorpion_Flash.jpg" /> <img alt="mf_rocket.jpg" src="rsrc/Three/SettingUpVehicles/mf_rocket.jpg" /> <img alt="Manta_Flash.jpg" src="rsrc/Three/SettingUpVehicles/Manta_Flash.jpg" />
<p />
<h2><a name="For Programmers"></a> For Programmers </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
Once you have all the assets set up correctly, you need to give some information to a programmer for implementation. The information you will need is:
<p /> <ul>
<li> The name of the SkeletalMesh.
</li> <li> The name of the PhysicsAsset.
</li> <li> The name of the AnimTree.
</li> <li> The name of each wheel bone.
</li> <li> The name of each SkelControlWheel.
</li> <li> The radius of each wheel.
</li></ul>
<p />
For efficient iteration, it's best to come up with a set of standards for this information.
<p />
<strong>Note:</strong> What information and assets are needed will depend entirely on what class your vehicle extends from. The above example assumes extending from SVehicle. If you were to extend from UTVehicle, you would obviously need many more assets (such as effects and weapon classes) as well as needing to define seats and other items specific to the UTVehicle class.
<p />
<h3><a name="Creating The Script File"></a> Creating The Script File </h3>
<p />
Below is an example of how you would enter all of the needed information into an UnrealScript class (.uc) file for your vehicle:
<p />
<div class="codesnippet">
<pre>
// Saved as MyVehicle.uc
class MyVehicle extends SVehicle;

defaultproperties
{

   Begin Object Name&#61;SVehicleMesh
      SkeletalMesh&#61;SkeletalMesh&#39;VehiclePackage.VehicleMesh&#39;
      AnimTreeTemplate&#61;AnimTree&#39;VehiclePackage.VehicleAnimTree&#39;
      PhysicsAsset&#61;PhysicsAsset&#39;VehiclePackage.VehiclePhysAsset&#39;
   End Object

   Begin Object Class&#61;SVehicleWheel Name&#61;RRWheel
      BoneName&#61;&#34;R&#95;R&#95;Tire&#34;
      SkelControlName&#61;&#34;R&#95;R&#95;Tire&#95;Cont&#34;
      WheelRadius&#61;25
   End Object
   Wheels(0)&#61;RRWheel
}
</pre>
</div>
<p />
<strong>Note:</strong> You would have one SVehicleWheel property for each wheel of the vehicle. Also, the above example assumes extending from SVehicle. If you were to extend from UTVehicle, there would be several other aspects of the vehicle needing to be setup in the script by a programmer.
<p />
<h3><a name="Performance: Tuning Vehicles"></a> Performance: Tuning Vehicles </h3>
<p />
There are many parameters which control how a vehicle handles. Some are per-wheel parameters which reside in each SVehicleWheel object, whereas those that affect the entire vehicle are in the SVehicle and SVehicleSim objects. An explanation of each parameters is available on the <a href="VehiclesTechnicalGuide.html" class="twikiLink">Vehicles Technical Guide</a> page.
<p />
<h4><a name="Useful Console Commands"></a> Useful Console Commands </h4>
<p />
One feature of the Unreal Engine which is very useful for tuning vehicles is the <code>editactor</code> <a href="ConsoleCommands.html" class="twikiLink">console command</a>. While driving the vehicle you can type <code>editactor class=svehicle</code> at the console, and a property window should pop up. This allows you to tune almost all of the parameters as you drive around, making iteration very quick.
<p />
</noautolink>
<p />
<style type="text/css">
<!--
div.codesnippet
{
    margin:0px 10px;
    padding:0px 10px;
    background:#f0f0f0;
    font:12px Courier;
    max-height:500px;
    overflow:auto;
    border:2px inset #989898;
}
-->
</style>
<p />
<p />
<p />
<p />
<p />
<p />


<!-- BEGIN UE4 NOTICE -->



<div id="version_message" style="display:none;">

    <div style="position:fixed;top:0px;left:0px;width:100%;height:100%;background:#000;opacity:0.5;">

    </div>

    <div style="position:fixed;top:50%;left:50%;margin:-70px 0px 0px -240px;background:#FFF;border-radius:6px;width:480px;box-shadow:0px 5px 30px -5px rgba(0,0,0,0.9);">

        <div style="font-size:16px;font-weight:bold;background: url(rsrc/Three/warning.png) no-repeat scroll 5px 5px;padding:4px 10px 5px 25px;height:21px;width:440px;">

            Important!

        </div>

        <div style="font-size:11px;padding:5px 10px 10px;width:460px;">

            <p>You are viewing documentation for the <strong>Unreal Development Kit (UDK)</strong>.</p>



            <p>If you are looking for the Unreal Engine 4 documentation, please visit the <a style="color:#000;" href="https://docs.unrealengine.com">Unreal Engine 4 Documentation</a> site.</p>

        </div>

        <div style="height:20px;padding:4px;margin:6px;border-top:1px solid #a0a0a0;">

            <form onsubmit="return closeVersionMessage();">

                <input type="checkbox" id="dismiss" value="dismiss" />

                <label for="dsimiss">Don't show me this again</label>

                <input type="submit" value="Close" style="cursor:pointer;float:right;width:60px;color:#f0f0f0;font-weight:bold;background:#882222;height:24px;padding:2px 3px 3px;text-align:center;border:1px outset #000;" />

            </form>

        </div>

    </div>

</div>



<script type="text/javascript">

    window.onload = function () {

        LoadVersionMessage();

    }



    function LoadVersionMessage()

    {

        var showMessage = "false";
        if(showMessage != "false")

        {

            showVersionMessage();

        }

    }



    function showVersionMessage()

    {

        var message = document.getElementById("version_message");

        if(message)

        {

            message.style.display = "block";

        }

    }



    function closeVersionMessage() {

        var dismiss = document.getElementById("dismiss");

        var message = document.getElementById("version_message");

        if (message) {

            message.style.display = "none";

        }

        if (dismiss.checked) {

            eraseCookie("doc_version_message");

            createCookie("doc_version_message", "false", 365);

            dismiss.checked = false;

        }

        return false;

    }



    function createCookie(name, value, days) {

        if (days) {

            var date = new Date();

            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));

            var expires = "; expires=" + date.toGMTString();

        }

        else var expires = "";

        document.cookie = name + "=" + value + expires + "; path=/";

    }



    function readCookie(name) {

        var nameEQ = name + "=";

        var ca = document.cookie.split(';');

        for (var i = 0; i < ca.length; i++) {

            var c = ca[i];

            while (c.charAt(0) == ' ') c = c.substring(1, c.length);

            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);

        }

        return null;

    }



    function eraseCookie(name) {

        createCookie(name, "", -1);

    }

</script>



<!-- END UE4 NOTICE -->



</div></div><div id="footer"><div style="BACKGROUND-COLOR: transparent; margin: 0; padding: 0; width: 100%;"><div>&nbsp;</div><div style="float: left; text-align: left; vertical-align: bottom; width: 50%;"><a href="http://www.videogamevoters.org"><img src="rsrc/vgvn.jpg" border="0" width="234" height="60" alt="Video Game Voters Network" /></a></div><div style="float: right; text-align: right; vertical-align: bottom; width: 50%;">Copyright &copy; 2001-2012 <a href="http://www.epicgames.com" target="_top">Epic Games, Inc.</a><br /><a href="../Main/TermsAndConditions.html" class="twikiLink">Terms and Conditions</a><br /><a href="http://epicgames.com/privacynotice" target="_top">Privacy Notice</a></div></div></div></div>
<p />
</html></body>
