<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title> UDK | UsingInstanceParameters    </title>

<style type="text/css" media="all">@import "rsrc/twiki_webs.css";</style>
<style type="text/css" media="all">@import "rsrc/udn_new.css";</style>
<link rel="icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />


<!-- view.static_udn3.tmpl  -->
<script language="JavaScript" type="text/javascript" src="rsrc/udn.js"></script>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

</head>
<p />
<body id="webbgThree">
<p />

<p />
<div id="webThree"><div id="head">
<!--
<div class="header">
 -->
<div style="background: url(/pub/webbg_udn.jpg); background-repeat: no-repeat; height:140px; width: 100%;" >
<!--
<div style="background: transparent url(/pub/udn_header_bg.jpg); background-repeat: repeat-x; height:140px; width: 100%; margin-left: 991px;">
 -->
<p />
<div id="nav">
<ul class="nav">
<font color=black>|</font>&nbsp;&nbsp;<li class=nav_Three><a href="../Main/WebHome.html" class="twikiLink">Main</a></li><font color=black>|</font><li class=nav_Three><a href="../Two/WebHome.html" class="twikiLink">UnrealEngine2</a></li><font color=black>|</font><li class=nav_Three><a href="WebHome.html" class="twikiLink">UnrealEngine3</a></li><font color=black>|</font><li class=nav_Three><a href="https://docs.unrealengine.com" class="twikiLink">UnrealEngine4</a></li><font color=black>|</font><li class=nav_Three><a href="../Main/BusinessAndLegal.html" class="twikiLink">Business &amp; Legal</a></li><font color=black>|</font>
</ul><br><br><br>
</div>
</div>
</div> <!-- end head -->
<div id="pagedefault">
<div id="maincol">
<div id="tool">
<div id="tooltop">UDN</div>
<div id="tooltext" style="padding: 10px 10px 10px 10px;">
Search public documentation: <br>
<form ACTION="/search/index.php" METHOD="GET" NAME="main" ID="main">
<input TYPE="TEXT" NAME="q" SIZE="15" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;">
<input TYPE="SUBMIT" VALUE="Search" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;"><br>
</form>
</div>
<div id="toolband">UsingInstanceParameters  </b></div>
<div id="tooltext">
<a href="UsingInstanceParametersJP.html" class="twikiLink">日本語訳</a><br><a href="UsingInstanceParametersCH.html" class="twikiLink">中国翻译</a><br><a href="UsingInstanceParametersKR.html" class="twikiLink">한국어</a><br>

<!-- Three/UsingInstanceParameters -->
<hr size="1" noshade="noshade" />
Interested in the Unreal Engine? <br>
Visit the <a href="http://www.unrealtechnology.com" target="_top">Unreal Technology</a> site.<br>
<br>
Looking for jobs and company info? <br>
Check out the <a href="http://www.epicgames.com" target="_top">Epic games</a> site.<br>
<br>
Questions about support via UDN? <br>
Contact the <a href="../Main/ContactUDNStaff.html" class="twikiLink">UDN Staff</a> <br>
<br>
</div> <!-- end toolbox content -->
<div id="toolbottom"></div>
</div> <!-- end tool -->
<p />
<noautolink>
<p />
<div style="padding:0px 0px 0px 4px;font:10px Verdana;">
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="ParticlesAndEffectsHome.html" class="twikiLink">Particles &amp; Effects</a></b> &gt; <b><a href="ParticleSystemsHome.html" class="twikiLink">Particles Systems</a></b> &gt; Using Instance Parameters with Particle Systems <br/>
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="FXArtistHome.html" class="twikiLink">FX Artists</a></b> &gt; Using Instance Parameters with Particle Systems
</div>
<hr size="1" noshade="noshade">
<h1><a name="Using Instance Parameters with Particle Systems"></a> Using Instance Parameters with Particle Systems </h1>
<hr size="1" noshade="noshade">
<p />
<div class="twikiToc"> <ul>
<li> <a href="UsingInstanceParameters.html#Using Instance Parameters with Particle Systems"> Using Instance Parameters with Particle Systems</a> <ul>
<li> <a href="UsingInstanceParameters.html#Overview"> Overview</a>
</li> <li> <a href="UsingInstanceParameters.html#Controlling Color Through Parameters"> Controlling Color Through Parameters</a> <ul>
<li> <a href="UsingInstanceParameters.html#Setting up the Instance Parameter"> Setting up the Instance Parameter</a>
</li></ul>
</li> <li> <a href="UsingInstanceParameters.html#Controlling Location Through Parameters (Reducing _EmitterActor counts)"> Controlling Location Through Parameters (Reducing EmitterActor counts)</a> <ul>
<li> <a href="UsingInstanceParameters.html#Setting Up the Particle Parameter"> Setting Up the Particle Parameter</a>
</li></ul>
</li></ul>
</li></ul>
</div>
<p />
<h2><a name="Overview"></a> Overview </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
Instance Parameters are a very powerful part of the effects pipeline in UE3.  Particle Paramters  can be used to control a multitude of values, on a per instance basis.  Particle Parameters are often used on placed level effects, though they can also be called by game code to control various modules.
<p />
<h2><a name="Controlling Color Through Parameters"></a> Controlling Color Through Parameters </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
For this demonstration we will control the color of a fire particle system using the <em>ScaleColorLife</em> module, setup with a <em>ParticleParameter</em>.
<p />
<img src="rsrc/Three/UsingInstanceParameters/fireexample.jpg" alt="fireexample.jpg" width="624" height="482" />
<p />
First open your effect in Cascade, and make certain you have an initialColor or ColorOverLife module in your particle system.
<p />
Next add the <em>Color &gt; ScaleColor/Life</em> module to your system.  In the case of ScaleColor/Life the parameter gets utilized very often so setup is as easy as right-clicking and choosing <em>Set up particle parameter</em>. <strong>Note:</strong> this is not the case with all particleParameters.
<p />
<img src="rsrc/Three/UsingInstanceParameters/setupparameter.jpg" alt="setupparameter.jpg" width="624" height="421" />
<p />
If you select the module and view it's properties you can see vector and constant values have been defined for this module,   The Parameters have been automatically named Color and Alpha, it is possible to modify this name and have multiple Parameter names in any particle system, placed on unique emitter stacks.
<p />
<img src="rsrc/Three/UsingInstanceParameters/cascadeparameters.jpg" alt="cascadeparameters.jpg" width="624" height="394" />
<p />
<h3><a name="Setting up the Instance Parameter"></a> Setting up the Instance Parameter </h3>
<p />
The next step involves the individual EmitterActor placed in the scene.  Select the EmitterActor and right-click, then choose <em>Emitter &gt; AutoPopulate</em> from the drop down menu.
<p />
<img src="rsrc/Three/UsingInstanceParameters/autopopulate.jpg" alt="autopopulate.jpg" width="624" height="496" />
<p />
Your particle system may disappear at this point, depending upon your alpha/color settings and blend mode, this is normal behavior.  Open up the EmitterActor's property window by pressing <strong>F4</strong>.
<p />
Located in the ParticleSystemComponent section is a newly generated set of data under the Instance Parameters section.  Instance Parameters should now look Bold.
<p />
<img src="rsrc/Three/UsingInstanceParameters/instanceparams.jpg" alt="instanceparams.jpg" width="624" height="190" />
<p />
You will see the two parameters which were specified in your effect, to the right, with their names listed.  Open up the parameter and edit the settings, Vector for RGB and Scalar for Alpha as circled below.
<p />
<img src="rsrc/Three/UsingInstanceParameters/editedparams.jpg" alt="editedparams.jpg" width="624" height="432" />
<p />
The original placed effect:
<p />
<img src="rsrc/Three/UsingInstanceParameters/originaleffect.jpg" alt="originaleffect.jpg" width="624" height="482" />
<p />
The same effect manipulated with a particleParameter on the emitterActor to have more bloom and color saturation:
<p />
<img src="rsrc/Three/UsingInstanceParameters/modifiedeffect.jpg" alt="modifiedeffect.jpg" width="624" height="507" />
<p />
It is possible to use the color parameter to create one particle effect, and manipulate the color as needed without having to copy/paste multiple effects into your packages for basic color variation across different levels.
<p />
ParticleParameters can make organizing and finding effects much simpler, reduce memory, level load times, and reduce the amount of files required to be stored on disk.
<p />
<h2><a name="Controlling Location Through Parameters (Reducing _EmitterActor counts)"></a> Controlling Location Through Parameters (Reducing EmitterActor counts) </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
In this demonstration we will show how to use a particle parameter to control the initialLocation of an emitter, using a particle parameter can add add flexibility to your effects allowing for the use of fewer effects emitters in a scene.
<p />
For this example we will be referencing this fire effect.
<p />
<img src="rsrc/Three/UsingInstanceParameters/locationeffect.jpg" alt="locationeffect.jpg" width="624" height="326" />
<p />
<strong>Note:</strong> the effect is intended for usage over a wide area, with two main sources of flame at the origin of the emitter and fwd in X, Y.  Using a particle parameter we can modify the look of this effect, and only load one particle system into memory.
<p />
Below is the same effect modified with a particle parameter:
<p />
<img src="rsrc/Three/UsingInstanceParameters/locationeffectparam.jpg" alt="locationeffectparam.jpg" width="624" height="321" />
<p />
<h3><a name="Setting Up the Particle Parameter"></a> Setting Up the Particle Parameter </h3>
<p />
Using a single emitter we will move the position of our effect with a particle parameter.
<p />
<img src="rsrc/Three/UsingInstanceParameters/basiceffect.jpg" alt="basiceffect.jpg" width="624" height="487" />
<p />
Right Click and add an Initial Position module to your Emitter in Cascade.
<p />
Select the Initial Location module and in the Distribution List choose <em>DistributionVectorParticleParameter</em>.
<p />
<img src="rsrc/Three/UsingInstanceParameters/distributionparam.jpg" alt="distributionparam.jpg" width="624" height="159" />
<p />
Change the Parameter Name to <code>InitialPosition</code> or any parameter name you choose, just make it unique for this emitter, unless you wish to share position values across multiple emitters using a shared particle parameter.
<p />
<img src="rsrc/Three/UsingInstanceParameters/paramname.jpg" alt="paramname.jpg" width="624" height="246" />
<p />
Open the Param Modes section and change the drop downs to <em>DPM_Direct</em>
<p />
<img src="rsrc/Three/UsingInstanceParameters/parammodes.jpg" alt="parammodes.jpg" width="624" height="291" />
<p />
Select your Emitter Actor placed in the world and setup the particle parameter by right clicking and choosing <em>Emitter &gt; AutoPopulate</em>.
<p />
Press F4 to view the emitter properties in the Particle System Component section.  Note the Instance parameter section is now bold and contains a [0] entry. The name in this entry should match the name in your module's of IntialPosition
<p />
<img src="rsrc/Three/UsingInstanceParameters/instancename.jpg" alt="instancename.jpg" width="624" height="291" />
<p />
Change the Vector values to match whatever the desired position.
<p />
<img src="rsrc/Three/UsingInstanceParameters/instancevalues.jpg" alt="instancevalues.jpg" width="624" height="327" />
<p />
Before using a particle parameter to control position:
<p />
<img src="rsrc/Three/UsingInstanceParameters/beforelocation.jpg" alt="beforelocation.jpg" width="624" height="487" />
<p />
After using a particle parameter to control position:
<p />
<img src="rsrc/Three/UsingInstanceParameters/afterlocation.jpg" alt="afterlocation.jpg" width="624" height="543" />
<p />
This demonstration is a simplified example of using particle parameters, there are many uses for this feature which may prove to be a savings for your project.
<p />
Using one EmitterActor to place 3 fires using a particle parameter with a unique name on 3 unique emitters in Cascade:
<p />
<img src="rsrc/Three/UsingInstanceParameters/finallocation.jpg" alt="finallocation.jpg" width="624" height="402" />
<p />
It is essential when working with complex effects to name your particle parameters clearly, returning to an older effect with poorly name parameters can be a confusing process which may waste time deducing how the parameters work.  It is possible to use multiple particle parameters to control behavior across several modules in a single emitter or multiple emitters.  Try editing color, position, scale, lifetime etc.  It can prove beneficial to experiment with different settings to achieve the desired result.
<p />
In this particular case a particle parameter can be used to move the position of effect elements around in a scene, reducing emitterActor counts which in turn can help performance and load times.  It is also possible to control particle parameters through matinee and game code.
<p />
</noautolink>
<p />
<p />
<p />
<p />
<p />
<p />


<!-- BEGIN UE4 NOTICE -->



<div id="version_message" style="display:none;">

    <div style="position:fixed;top:0px;left:0px;width:100%;height:100%;background:#000;opacity:0.5;">

    </div>

    <div style="position:fixed;top:50%;left:50%;margin:-70px 0px 0px -240px;background:#FFF;border-radius:6px;width:480px;box-shadow:0px 5px 30px -5px rgba(0,0,0,0.9);">

        <div style="font-size:16px;font-weight:bold;background: url(rsrc/Three/warning.png) no-repeat scroll 5px 5px;padding:4px 10px 5px 25px;height:21px;width:440px;">

            Important!

        </div>

        <div style="font-size:11px;padding:5px 10px 10px;width:460px;">

            <p>You are viewing documentation for the <strong>Unreal Development Kit (UDK)</strong>.</p>



            <p>If you are looking for the Unreal Engine 4 documentation, please visit the <a style="color:#000;" href="https://docs.unrealengine.com">Unreal Engine 4 Documentation</a> site.</p>

        </div>

        <div style="height:20px;padding:4px;margin:6px;border-top:1px solid #a0a0a0;">

            <form onsubmit="return closeVersionMessage();">

                <input type="checkbox" id="dismiss" value="dismiss" />

                <label for="dsimiss">Don't show me this again</label>

                <input type="submit" value="Close" style="cursor:pointer;float:right;width:60px;color:#f0f0f0;font-weight:bold;background:#882222;height:24px;padding:2px 3px 3px;text-align:center;border:1px outset #000;" />

            </form>

        </div>

    </div>

</div>



<script type="text/javascript">

    window.onload = function () {

        LoadVersionMessage();

    }



    function LoadVersionMessage()

    {

        var showMessage = "false";
        if(showMessage != "false")

        {

            showVersionMessage();

        }

    }



    function showVersionMessage()

    {

        var message = document.getElementById("version_message");

        if(message)

        {

            message.style.display = "block";

        }

    }



    function closeVersionMessage() {

        var dismiss = document.getElementById("dismiss");

        var message = document.getElementById("version_message");

        if (message) {

            message.style.display = "none";

        }

        if (dismiss.checked) {

            eraseCookie("doc_version_message");

            createCookie("doc_version_message", "false", 365);

            dismiss.checked = false;

        }

        return false;

    }



    function createCookie(name, value, days) {

        if (days) {

            var date = new Date();

            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));

            var expires = "; expires=" + date.toGMTString();

        }

        else var expires = "";

        document.cookie = name + "=" + value + expires + "; path=/";

    }



    function readCookie(name) {

        var nameEQ = name + "=";

        var ca = document.cookie.split(';');

        for (var i = 0; i < ca.length; i++) {

            var c = ca[i];

            while (c.charAt(0) == ' ') c = c.substring(1, c.length);

            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);

        }

        return null;

    }



    function eraseCookie(name) {

        createCookie(name, "", -1);

    }

</script>



<!-- END UE4 NOTICE -->



</div></div><div id="footer"><div style="BACKGROUND-COLOR: transparent; margin: 0; padding: 0; width: 100%;"><div>&nbsp;</div><div style="float: left; text-align: left; vertical-align: bottom; width: 50%;"><a href="http://www.videogamevoters.org"><img src="rsrc/vgvn.jpg" border="0" width="234" height="60" alt="Video Game Voters Network" /></a></div><div style="float: right; text-align: right; vertical-align: bottom; width: 50%;">Copyright &copy; 2001-2012 <a href="http://www.epicgames.com" target="_top">Epic Games, Inc.</a><br /><a href="../Main/TermsAndConditions.html" class="twikiLink">Terms and Conditions</a><br /><a href="http://epicgames.com/privacynotice" target="_top">Privacy Notice</a></div></div></div></div>
<p />
</html></body>
