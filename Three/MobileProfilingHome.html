<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title> UDK | MobileProfilingHome    </title>

<style type="text/css" media="all">@import "rsrc/twiki_webs.css";</style>
<style type="text/css" media="all">@import "rsrc/udn_new.css";</style>
<link rel="icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />


<!-- view.static_udn3.tmpl  -->
<script language="JavaScript" type="text/javascript" src="rsrc/udn.js"></script>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

</head>
<p />
<body id="webbgThree">
<p />

<p />
<div id="webThree"><div id="head">
<!--
<div class="header">
 -->
<div style="background: url(/pub/webbg_udn.jpg); background-repeat: no-repeat; height:140px; width: 100%;" >
<!--
<div style="background: transparent url(/pub/udn_header_bg.jpg); background-repeat: repeat-x; height:140px; width: 100%; margin-left: 991px;">
 -->
<p />
<div id="nav">
<ul class="nav">
<font color=black>|</font>&nbsp;&nbsp;<li class=nav_Three><a href="../Main/WebHome.html" class="twikiLink">Main</a></li><font color=black>|</font><li class=nav_Three><a href="../Two/WebHome.html" class="twikiLink">UnrealEngine2</a></li><font color=black>|</font><li class=nav_Three><a href="WebHome.html" class="twikiLink">UnrealEngine3</a></li><font color=black>|</font><li class=nav_Three><a href="https://docs.unrealengine.com" class="twikiLink">UnrealEngine4</a></li><font color=black>|</font><li class=nav_Three><a href="../Main/BusinessAndLegal.html" class="twikiLink">Business &amp; Legal</a></li><font color=black>|</font>
</ul><br><br><br>
</div>
</div>
</div> <!-- end head -->
<div id="pagedefault">
<div id="maincol">
<div id="tool">
<div id="tooltop">UDN</div>
<div id="tooltext" style="padding: 10px 10px 10px 10px;">
Search public documentation: <br>
<form ACTION="/search/index.php" METHOD="GET" NAME="main" ID="main">
<input TYPE="TEXT" NAME="q" SIZE="15" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;">
<input TYPE="SUBMIT" VALUE="Search" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;"><br>
</form>
</div>
<div id="toolband">MobileProfilingHome  </b></div>
<div id="tooltext">
<a href="MobileProfilingHomeJP.html" class="twikiLink">日本語訳</a><br><a href="MobileProfilingHomeCH.html" class="twikiLink">中国翻译</a><br><a href="MobileProfilingHomeKR.html" class="twikiLink">한국어</a><br>

<!-- Three/MobileProfilingHome -->
<hr size="1" noshade="noshade" />
Interested in the Unreal Engine? <br>
Visit the <a href="http://www.unrealtechnology.com" target="_top">Unreal Technology</a> site.<br>
<br>
Looking for jobs and company info? <br>
Check out the <a href="http://www.epicgames.com" target="_top">Epic games</a> site.<br>
<br>
Questions about support via UDN? <br>
Contact the <a href="../Main/ContactUDNStaff.html" class="twikiLink">UDN Staff</a> <br>
<br>
</div> <!-- end toolbox content -->
<div id="toolbottom"></div>
</div> <!-- end tool -->
<p />
<noautolink>
<p />
<div style="padding:0px 0px 0px 4px;font:10px Verdana;">
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="PerformanceHome.html" class="twikiLink">Performance, Profiling, and Optimization</a></b> &gt; Profiling for Mobile Devices <br/>
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="MobileHome.html" class="twikiLink">Mobile Home</a></b> &gt; Profiling for Mobile Devices
</div>
<hr size="1" noshade="noshade">
<h1><a name="Profiling for Mobile Devices"></a> Profiling for Mobile Devices </h1>
<hr size="1" noshade="noshade">
<p />
<div class="twikiToc"> <ul>
<li> <a href="MobileProfilingHome.html#Profiling for Mobile Devices"> Profiling for Mobile Devices</a> <ul>
<li> <a href="MobileProfilingHome.html#Overview"> Overview</a>
</li> <li> <a href="MobileProfilingHome.html#STAT Commands"> STAT Commands</a> <ul>
<li> <a href="MobileProfilingHome.html#Executing Commands"> Executing Commands</a>
</li> <li> <a href="MobileProfilingHome.html#Limited Screenspace"> Limited Screenspace</a>
</li></ul>
</li> <li> <a href="MobileProfilingHome.html#Game Thread Profiling"> Game Thread Profiling</a> <ul>
<li> <a href="MobileProfilingHome.html#Retrieving Profiling Files"> Retrieving Profiling Files</a>
</li></ul>
</li> <li> <a href="MobileProfilingHome.html#Instruments"> Instruments</a>
</li> <li> <a href="MobileProfilingHome.html#Memory Profiler"> Memory Profiler</a>
</li> <li> <a href="MobileProfilingHome.html#Common Performance Issues"> Common Performance Issues</a>
</li></ul>
</li></ul>
</div>
<p />
<h2><a name="Overview"></a> Overview </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
In general, profiling for mobile devices involves the same techniques and tools that profiling for PC games with Unreal Engine 3 involves. However, there are some minor differences and considerations that must be taken into account as there is no in-game console on mobile devices, certain files are saved on the device instead of in the game's directory, etc. In addition, there are tools specifically for profiling on mobile devices, such as Apple's Instruments tool. This document serves to detail  the process of using Unreal Engine 3's profiling tools along with other external tools to get the most out of the engine on mobile devices.
<p />
For general profiling and optimization information when developing with Unreal Engine 3, see the <a href="PerformanceHome.html" class="twikiLink">Performance, Profiling, and Optimization</a> page.
<p />
<h2><a name="STAT Commands"></a> STAT Commands </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
STAT commands are one of the most useful and common methods of profiling. Each command displays a different group of statistics on the screen giving a realtime snapshot of what is going on under the hood at any given time. This makes it extremely easy to go to a specific trouble spot in the game and see immediately what might be the issue.
<p />
<img src="rsrc/Three/MobileProfilingHome/stats.jpg" alt="stats.jpg" width="640" height="360" />
<p />
For a complete listing of all STAT commands and descriptions of all the stats, see the <a href="StatsDescriptions.html" class="twikiLink">Stat Command Descriptions</a> page.
<p />
These work on mobile just as they would for profiling a game on PC with a couple exceptions.
<p />
<h3><a name="Executing Commands"></a> Executing Commands </h3>
<p />
There is no console on mobile games so there is no means to arbritrarily execute commands through keyboard entry. Some methods of executing commands are:
<p /> <ul>
<li> <strong>Kismet</strong> - Sequences can be set up in Kismet to execute STAT commands using the Console Command action. These sequences can be triggered at the beginning of the level or by specific events.   <img src="rsrc/Three/MobileProfilingHome/kismet.jpg" alt="kismet.jpg" width="502" height="445" />
</li> <li> <strong>UnrealScript</strong> - UnrealScript can be used to execute STAT commands by calling the <code>ConsoleCommand()</code> function on the <code>PlayerController</code> and passing it the command to execute. This gives great flexibility, but obviously requires changing code and recompiling to call different commands.
</li> <li> <strong>Menu Buttons</strong> - A debug menu can be created using the <a href="MobileMenuTechnicalGuide.html" class="twikiLink">Mobile Menu System</a>, where each button in the menu executes a different command through UnrealScript using the same method described above.   <img src="rsrc/Three/MobileProfilingHome/menu.jpg" alt="menu.jpg" width="480" height="320" />
</li></ul>
<p />
<h3><a name="Limited Screenspace"></a> Limited Screenspace </h3>
<p />
Keep in mind that the STAT commands display the statistical information directly on the screen. This means it may be possible that only a portion of the stats for any one command may be visible. It also makes displaying multiple groups of stats simultaneously virtually impossible. Of course, you can always use these commands when running the game in the <a href="MobilePreviewer.html" class="twikiLink">Mobile Previewer</a> which will allow you to see the full set of stats. Just be aware that certain aspects may perform differently in the Mobile Previewer than on the actual device.
<p />
<h2><a name="Game Thread Profiling"></a> Game Thread Profiling </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
The tools used to profile gameplay on PC in Unreal Engine 3 can also be used with mobile devices. This includes the <a href="GameplayProfiler.html" class="twikiLink">Gameplay Profiler</a> and <a href="GameThreadProfilingHome.html#StatsViewer" class="twikiAnchorLink">Stats Viewer</a>. These are both extremely useful tools that can be used to dump information to files that can then be opened in their respective tools and analyzed to see what might be causing any issues.
<p />
<img src="rsrc/Three/MobileProfilingHome/gameplay.jpg" alt="gameplay.jpg" width="900" height="913" />
<p />
<h3><a name="Retrieving Profiling Files"></a> Retrieving Profiling Files </h3>
<p />
When running on a mobile device, the profiling files are created on the device itself. In order to use those files, they need to be recovered from the device. The process for doing so is detailed below.
<p />
How to Get Files from iPhone via the <a href="UnrealiPhonePackager.html" class="twikiLink">Unreal iPhone Packager</a> tool:
<p /> <ul>
<li> Open IPP.exe in <code>/binaries/iPhone/</code>
</li> <li> In the Deployment Tools tab, select the device and click <em>Backup Documents</em>
</li> <li> Navigate to the IPA that you used on device. For example, if you cooked Release MobileGame, the IPA would be: <code>\Binaries\IPhone\Release-iphoneos\MobileGam\MobileGame.ipa</code>.
</li> <li> The files will be saved to <code>\UnrealEngine3\MobileGame\iOS_Backups\</code>
</li> <li> You can then open up any profiling files via the associated application, such as GameplayProfiler.exe.
</li></ul>
<p />
<h2><a name="Instruments"></a> Instruments </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
Instruments is an appllication provided by Apple for profiling applications on iOS devices (and OS X as well). It allows you to track processes and collect data on both the app and the operating system. This gives you the ability to do detailed performance analysis of your game running on the device.
<p />
<img src="rsrc/Three/MobileProfilingHome/Instruments.jpg" alt="Instruments.jpg" width="900" height="661" />
<p />
To monitor the processes and memory usage associated with your game:
<p /> <ol>
<li> Select Memory Monitor and Activity Monitor from the iPhone section of the LIbrary.
</li> <li> Select the iOS device running the game and <em>All Processes</em> from the dropdown by the <em>Record</em> button.
</li> <li> Click the <em>Record</em> button to begin profiling.
</li></ol>
<p />
The Memory Monitor shows overall physical memory usage, while the Activity Monitor shows each process.
<p />
Apple provides extensive documentation on using the Instruments. See the <a href="http://developer.apple.com/library/mac/#documentation/DeveloperTools/Conceptual/InstrumentsUserGuide/Introduction/Introduction.html">Instruments User Guide</a> on Apple's Developer site for complete details on how to use this application.
<p />
<img src="rsrc/TWiki/TWikiDocGraphics/warning.gif" alt="ALERT!" title="ALERT!" width="16" height="16" border="0" /> <strong>Note:</strong> This application requires a Mac.
<p />
<h2><a name="Memory Profiler"></a> Memory Profiler </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
<a href="https://udn.epicgames.com/Three/MemoryProfiler" class="restricted" class="restricted" class="twikiLink">Unreal Memory Profiler</a> now supports advanced memory tracking for iOS. This can be used to help you investigate any bottle necks you may be facing.
<p />
<img src="rsrc/TWiki/TWikiDocGraphics/warning.gif" alt="ALERT!" title="ALERT!" width="16" height="16" border="0" /> <strong>Note:</strong> This application requires a Mac.
<p />
<h2><a name="Common Performance Issues"></a> Common Performance Issues </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p /> <ul>
<li> Using gamma correction on mobile devices can cause a serious impact on performance. It is only meant for use on powerful and future mobile devices (iPad 2 and better). If you have enabled gamma correction on mobile devices for your maps and are noticing performance issues, it may be necessary to disable it and address the lack of gamma correction through content. See <a href="DesigningForMobile.html#Gamma" class="twikiAnchorLink">Gamma</a> for information on designing content for non-gamma corrected mobile devices.
</li></ul>
<p />
</noautolink>
<p />
<p />
<p />
<p />
<p />
<p />


<!-- BEGIN UE4 NOTICE -->



<div id="version_message" style="display:none;">

    <div style="position:fixed;top:0px;left:0px;width:100%;height:100%;background:#000;opacity:0.5;">

    </div>

    <div style="position:fixed;top:50%;left:50%;margin:-70px 0px 0px -240px;background:#FFF;border-radius:6px;width:480px;box-shadow:0px 5px 30px -5px rgba(0,0,0,0.9);">

        <div style="font-size:16px;font-weight:bold;background: url(rsrc/Three/warning.png) no-repeat scroll 5px 5px;padding:4px 10px 5px 25px;height:21px;width:440px;">

            Important!

        </div>

        <div style="font-size:11px;padding:5px 10px 10px;width:460px;">

            <p>You are viewing documentation for the <strong>Unreal Development Kit (UDK)</strong>.</p>



            <p>If you are looking for the Unreal Engine 4 documentation, please visit the <a style="color:#000;" href="https://docs.unrealengine.com">Unreal Engine 4 Documentation</a> site.</p>

        </div>

        <div style="height:20px;padding:4px;margin:6px;border-top:1px solid #a0a0a0;">

            <form onsubmit="return closeVersionMessage();">

                <input type="checkbox" id="dismiss" value="dismiss" />

                <label for="dsimiss">Don't show me this again</label>

                <input type="submit" value="Close" style="cursor:pointer;float:right;width:60px;color:#f0f0f0;font-weight:bold;background:#882222;height:24px;padding:2px 3px 3px;text-align:center;border:1px outset #000;" />

            </form>

        </div>

    </div>

</div>



<script type="text/javascript">

    window.onload = function () {

        LoadVersionMessage();

    }



    function LoadVersionMessage()

    {

        var showMessage = "false";
        if(showMessage != "false")

        {

            showVersionMessage();

        }

    }



    function showVersionMessage()

    {

        var message = document.getElementById("version_message");

        if(message)

        {

            message.style.display = "block";

        }

    }



    function closeVersionMessage() {

        var dismiss = document.getElementById("dismiss");

        var message = document.getElementById("version_message");

        if (message) {

            message.style.display = "none";

        }

        if (dismiss.checked) {

            eraseCookie("doc_version_message");

            createCookie("doc_version_message", "false", 365);

            dismiss.checked = false;

        }

        return false;

    }



    function createCookie(name, value, days) {

        if (days) {

            var date = new Date();

            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));

            var expires = "; expires=" + date.toGMTString();

        }

        else var expires = "";

        document.cookie = name + "=" + value + expires + "; path=/";

    }



    function readCookie(name) {

        var nameEQ = name + "=";

        var ca = document.cookie.split(';');

        for (var i = 0; i < ca.length; i++) {

            var c = ca[i];

            while (c.charAt(0) == ' ') c = c.substring(1, c.length);

            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);

        }

        return null;

    }



    function eraseCookie(name) {

        createCookie(name, "", -1);

    }

</script>



<!-- END UE4 NOTICE -->



</div></div><div id="footer"><div style="BACKGROUND-COLOR: transparent; margin: 0; padding: 0; width: 100%;"><div>&nbsp;</div><div style="float: left; text-align: left; vertical-align: bottom; width: 50%;"><a href="http://www.videogamevoters.org"><img src="rsrc/vgvn.jpg" border="0" width="234" height="60" alt="Video Game Voters Network" /></a></div><div style="float: right; text-align: right; vertical-align: bottom; width: 50%;">Copyright &copy; 2001-2012 <a href="http://www.epicgames.com" target="_top">Epic Games, Inc.</a><br /><a href="../Main/TermsAndConditions.html" class="twikiLink">Terms and Conditions</a><br /><a href="http://epicgames.com/privacynotice" target="_top">Privacy Notice</a></div></div></div></div>
<p />
</html></body>
