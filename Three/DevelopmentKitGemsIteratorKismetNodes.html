<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title> UDK | DevelopmentKitGemsIteratorKismetNodes    </title>

<style type="text/css" media="all">@import "rsrc/twiki_webs.css";</style>
<style type="text/css" media="all">@import "rsrc/udn_new.css";</style>
<link rel="icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />


<!-- view.static_udn3.tmpl  -->
<script language="JavaScript" type="text/javascript" src="rsrc/udn.js"></script>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

</head>
<p />
<body id="webbgThree">
<p />

<p />
<div id="webThree"><div id="head">
<!--
<div class="header">
 -->
<div style="background: url(/pub/webbg_udn.jpg); background-repeat: no-repeat; height:140px; width: 100%;" >
<!--
<div style="background: transparent url(/pub/udn_header_bg.jpg); background-repeat: repeat-x; height:140px; width: 100%; margin-left: 991px;">
 -->
<p />
<div id="nav">
<ul class="nav">
<font color=black>|</font>&nbsp;&nbsp;<li class=nav_Three><a href="../Main/WebHome.html" class="twikiLink">Main</a></li><font color=black>|</font><li class=nav_Three><a href="../Two/WebHome.html" class="twikiLink">UnrealEngine2</a></li><font color=black>|</font><li class=nav_Three><a href="WebHome.html" class="twikiLink">UnrealEngine3</a></li><font color=black>|</font><li class=nav_Three><a href="https://docs.unrealengine.com" class="twikiLink">UnrealEngine4</a></li><font color=black>|</font><li class=nav_Three><a href="../Main/BusinessAndLegal.html" class="twikiLink">Business &amp; Legal</a></li><font color=black>|</font>
</ul><br><br><br>
</div>
</div>
</div> <!-- end head -->
<div id="pagedefault">
<div id="maincol">
<div id="tool">
<div id="tooltop">UDN</div>
<div id="tooltext" style="padding: 10px 10px 10px 10px;">
Search public documentation: <br>
<form ACTION="/search/index.php" METHOD="GET" NAME="main" ID="main">
<input TYPE="TEXT" NAME="q" SIZE="15" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;">
<input TYPE="SUBMIT" VALUE="Search" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;"><br>
</form>
</div>
<div id="toolband">DevelopmentKitGemsIteratorKismetNodes  </b></div>
<div id="tooltext">
<a href="DevelopmentKitGemsIteratorKismetNodesJP.html" class="twikiLink">日本語訳</a><br><a href="DevelopmentKitGemsIteratorKismetNodesCH.html" class="twikiLink">中国翻译</a><br><a href="DevelopmentKitGemsIteratorKismetNodesKR.html" class="twikiLink">한국어</a><br>

<!-- Three/DevelopmentKitGemsIteratorKismetNodes -->
<hr size="1" noshade="noshade" />
Interested in the Unreal Engine? <br>
Visit the <a href="http://www.unrealtechnology.com" target="_top">Unreal Technology</a> site.<br>
<br>
Looking for jobs and company info? <br>
Check out the <a href="http://www.epicgames.com" target="_top">Epic games</a> site.<br>
<br>
Questions about support via UDN? <br>
Contact the <a href="../Main/ContactUDNStaff.html" class="twikiLink">UDN Staff</a> <br>
<br>
</div> <!-- end toolbox content -->
<div id="toolbottom"></div>
</div> <!-- end tool -->
<p />
<noautolink>
<style type="text/css" media="all">@import "rsrc/UDNCSS_test.css";</style>
<div style="padding:0px 0px 0px 4px;font:10px Verdana;">
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="DevelopmentKitGems.html" class="twikiLink">Unreal Development Kit Gems</a></b> &gt; Creating Iterator Kismet nodes <br/>
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="KismetHome.html" class="twikiLink">Kismet Visual Scripting</a></b> &gt; Creating Iterator Kismet nodes
</div>
<hr size="1" noshade="noshade">
<p />
<h1><a name="Creating Iterator Kismet nodes"></a> Creating Iterator Kismet nodes </h1>
<hr size="1" noshade="noshade">
<p />
<strong><em>Last tested against UDK Apr, 2011</em></strong>
<br>
<strong><em>PC and iOS compatible</em></strong>
<p />
<div class="twikiToc"> <ul>
<li> <a href="DevelopmentKitGemsIteratorKismetNodes.html#Creating Iterator Kismet nodes"> Creating Iterator Kismet nodes</a> <ul>
<li> <a href="DevelopmentKitGemsIteratorKismetNodes.html#Overview"> Overview</a>
</li> <li> <a href="DevelopmentKitGemsIteratorKismetNodes.html#All Actors"> All Actors</a> <ul>
<li> <a href="DevelopmentKitGemsIteratorKismetNodes.html#Variables"> Variables</a>
</li> <li> <a href="DevelopmentKitGemsIteratorKismetNodes.html#Unrealscript"> Unrealscript</a>
</li> <li> <a href="DevelopmentKitGemsIteratorKismetNodes.html#Using the All Actors Kismet node"> Using the All Actors Kismet node</a>
</li></ul>
</li> <li> <a href="DevelopmentKitGemsIteratorKismetNodes.html#Based Actors"> Based Actors</a> <ul>
<li> <a href="DevelopmentKitGemsIteratorKismetNodes.html#Variables"> Variables</a>
</li> <li> <a href="DevelopmentKitGemsIteratorKismetNodes.html#Unrealscript"> Unrealscript</a>
</li> <li> <a href="DevelopmentKitGemsIteratorKismetNodes.html#Using the Based Actors Kismet node"> Using the Based Actors Kismet node</a>
</li></ul>
</li> <li> <a href="DevelopmentKitGemsIteratorKismetNodes.html#Child Actors"> Child Actors</a> <ul>
<li> <a href="DevelopmentKitGemsIteratorKismetNodes.html#Variables"> Variables</a>
</li> <li> <a href="DevelopmentKitGemsIteratorKismetNodes.html#Unrealscript"> Unrealscript</a>
</li> <li> <a href="DevelopmentKitGemsIteratorKismetNodes.html#Using the Child Actors Kismet node"> Using the Child Actors Kismet node</a>
</li></ul>
</li> <li> <a href="DevelopmentKitGemsIteratorKismetNodes.html#Radial Actors"> Radial Actors</a> <ul>
<li> <a href="DevelopmentKitGemsIteratorKismetNodes.html#Variables"> Variables</a>
</li> <li> <a href="DevelopmentKitGemsIteratorKismetNodes.html#Unrealscript"> Unrealscript</a>
</li> <li> <a href="DevelopmentKitGemsIteratorKismetNodes.html#Using the Radial Actors Kismet node"> Using the Radial Actors Kismet node</a>
</li></ul>
</li> <li> <a href="DevelopmentKitGemsIteratorKismetNodes.html#Touching Actors"> Touching Actors</a> <ul>
<li> <a href="DevelopmentKitGemsIteratorKismetNodes.html#Variables"> Variables</a>
</li> <li> <a href="DevelopmentKitGemsIteratorKismetNodes.html#Unrealscript"> Unrealscript</a>
</li> <li> <a href="DevelopmentKitGemsIteratorKismetNodes.html#Using the Touching Actors Kismet node"> Using the Touching Actors Kismet node</a>
</li></ul>
</li> <li> <a href="DevelopmentKitGemsIteratorKismetNodes.html#Trace Actors"> Trace Actors</a> <ul>
<li> <a href="DevelopmentKitGemsIteratorKismetNodes.html#Variables"> Variables</a>
</li> <li> <a href="DevelopmentKitGemsIteratorKismetNodes.html#Unrealscript"> Unrealscript</a>
</li> <li> <a href="DevelopmentKitGemsIteratorKismetNodes.html#Using the Trace Actors Kismet node"> Using the Trace Actors Kismet node</a>
</li></ul>
</li> <li> <a href="DevelopmentKitGemsIteratorKismetNodes.html#Downloads"> Downloads</a>
</li></ul>
</li></ul>
</div>
<p />
<h2><a name="Overview"></a> Overview </h2>
<hr size="1" noshade="noshade">
Sometimes it's necessary to be able to find nearby pawns (players or monsters) or other kinds of actors that may not exist in the level during the level design phase. Or, sometimes you may want to attach special effects onto a certain kind of actor, but only if they are within a certain radius of something. This gem helps you to create new Kismet nodes which expose this functionality.
<p />
<h2><a name="All Actors"></a> All Actors </h2>
<hr size="1" noshade="noshade">
The all actors node uses either an AllActors or a DynamicActors iterator to retrieve the desired actor filtered by class and or interface. The Kismet node works by first getting the reference to the WorldInfo by using the static function available in WorldInfo. The WorldInfo reference is needed because AllActors and DynamicActors require an Actor reference to work. Since WorldInfo is always available, and easy to find a reference to, it is chosen for this purpose. If a reference to WorldInfo is valid, the attached ObjectList kismet variable node is then found and type casted. If the level designer checked <strong>AlwaysClearObjectList</strong>, then the ObjectList's array is cleared before adding found actors to it. If the <strong>DynamicActorsOnly</strong> is checked, the the DynamicActors iterator is used to retrieve actor references. Otherwise the AllActors iterator is used to retrieve actor rferences. This was done primarily as a performance between the two iterators may make a difference.
<p /> <ul>
<li> <img src="rsrc/TWiki/TWikiDocGraphics/warning.gif" alt="ALERT!" title="ALERT!" width="16" height="16" border="0" /> AllActors is slow, use sparingly.
</li> <li> <img src="rsrc/TWiki/TWikiDocGraphics/warning.gif" alt="ALERT!" title="ALERT!" width="16" height="16" border="0" /> DynamicActors is faster than AllActors, consider other iterators if possible before using this.
</li></ul>
<p />
<h3><a name="Variables"></a> Variables </h3> <ul>
<li> <strong>ActorClass</strong> - Filter actors by class. Actors must be this class or a subclass.
</li> <li> <strong>InterfaceClass</strong> - Filter actors by interface implementation. Actors must implement this interface or subclassed interface.
</li> <li> <strong>AlwaysClearObjectList</strong> - Before filling the ObjectList with new actors, clear the ObjectList.
</li> <li> <strong>DynamicActorsOnly</strong> - Only search for actors within the non-static actor list.
</li></ul>
<p />
<h3><a name="Unrealscript"></a> Unrealscript </h3>
<div class="codetitlebar">
SeqAct_AllActors.uc
</div>
<div class="codesnippet">
<pre>
class SeqAct&#95;AllActors extends SequenceAction;

var() class&#60;Actor&#62; ActorClass;
var() class&#60;Interface&#62; InterfaceClass;
var() bool AlwaysClearObjectList;
var() bool DynamicActorsOnly;

event Activated()
{
  local Actor Actor;
  local WorldInfo WorldInfo;
  local array&#60;SequenceObject&#62; ObjectList;
  local SeqVar&#95;ObjectList SeqVar&#95;ObjectList;

  if (ActorClass !&#61; None)
  {
    WorldInfo &#61; class&#39;WorldInfo&#39;.static.GetWorldInfo();
    if (WorldInfo !&#61; None)
    {
      // Get the object list seq var
      GetLinkedObjects(ObjectList, class&#39;SeqVar&#95;ObjectList&#39;, false);

      if (ObjectList.Length &#62; 0)
      {
        SeqVar&#95;ObjectList &#61; SeqVar&#95;ObjectList(ObjectList&#91;0]);

        if (SeqVar&#95;ObjectList !&#61; None)
        {
          if (AlwaysClearObjectList)
          {
            SeqVar&#95;ObjectList.ObjList.Length &#61; 0;
          }

          if (DynamicActorsOnly)
          {
            ForEach WorldInfo.DynamicActors(ActorClass, Actor, InterfaceClass)
            {
              SeqVar&#95;ObjectList.ObjList.AddItem(Actor);
            }
          }
          else
          {
            ForEach WorldInfo.AllActors(ActorClass, Actor, InterfaceClass)
            {
              SeqVar&#95;ObjectList.ObjList.AddItem(Actor);
            }
          }
        }
      }
    }
  }

  ActivateOutputLink(0);
}

defaultproperties
{
  ObjName&#61;&#34;All Actors&#34;
  ObjCategory&#61;&#34;Iterators&#34;
  InputLinks(0)&#61;(LinkDesc&#61;&#34;In&#34;)
  OutputLinks(0)&#61;(LinkDesc&#61;&#34;Out&#34;)
  VariableLinks.Empty
  VariableLinks(0)&#61;(ExpectedType&#61;class&#39;SeqVar&#95;ObjectList&#39;,LinkDesc&#61;&#34;Out Objects&#34;,bWriteable&#61;true)
}
</pre>
</div>
<p />
<h3><a name="Using the All Actors Kismet node"></a> Using the All Actors Kismet node </h3>
In this example, the All Actors node is activated when the player touches a trigger on the ground. The All Actors node then finds all Note actors within the level. Finally, a random Note is picked from the ObjectList and an explosion is triggered at the Note's location.
<p />
<img src="rsrc/Three/DevelopmentKitGemsIteratorKismetNodes/KI_AllActorsTest.jpg" alt="KI_AllActorsTest.jpg" width='800' height='640' />
<p />
<h2><a name="Based Actors"></a> Based Actors </h2>
<hr size="1" noshade="noshade">
Based actors is useful when you want to find actors that are currently on top of another actor. For example, you may want to know how many actors are on top of a pressure platform. If there three pawns, then you decide that it is heavy enough to trigger another type of Kismet event. This particular example can already be achieved by using Touch triggers and so forth, but perhaps there is another way that this iterator Kismet node may be useful to you.
<p />
This iterator Kismet node does not need to find a reference to the WorldInfo because the iterator needs to be performed on a specific actor. Thus, the <strong>BaseActor</strong> variable is exposed to Kismet to allow the level designer to specify what actor to use. From there, the ObjectList is found and type casted. The level designer may check <strong>AlwaysClearObjectList</strong> to clear the object list before filling it with new actor references. Lastly the BasedActors iterator is called to find all of the actors that are currently based on <strong>BaseActor</strong>. The BasedActor iterator is fast.
<p />
<h3><a name="Variables"></a> Variables </h3> <ul>
<li> <strong>ActorClass</strong> - Filter actors by class. Actors must be this class or a subclass.
</li> <li> <strong>AlwaysClearObjectList</strong> - Before filling the ObjectList with new actors, clear the ObjectList.
</li></ul>
<p />
<h3><a name="Unrealscript"></a> Unrealscript </h3>
<div class="codetitlebar">
SeqAct_BasedActors.uc
</div>
<div class="codesnippet">
<pre>
class SeqAct&#95;BasedActors extends SequenceAction;

var() class&#60;Actor&#62; ActorClass;
var() bool AlwaysClearObjectList;
var Actor BaseActor;

event Activated()
{
  local Actor Actor;
  local array&#60;SequenceObject&#62; ObjectList;
  local SeqVar&#95;ObjectList SeqVar&#95;ObjectList;

  if (ActorClass !&#61; None &#38;&#38; BaseActor !&#61; None)
  {
    // Get the object list seq var
    GetLinkedObjects(ObjectList, class&#39;SeqVar&#95;ObjectList&#39;, false);

    if (ObjectList.Length &#62; 0)
    {
      SeqVar&#95;ObjectList &#61; SeqVar&#95;ObjectList(ObjectList&#91;0]);

      if (SeqVar&#95;ObjectList !&#61; None)
      {
        if (AlwaysClearObjectList)
        {
          SeqVar&#95;ObjectList.ObjList.Length &#61; 0;
        }

        ForEach BaseActor.BasedActors(ActorClass, Actor)
        {
          SeqVar&#95;ObjectList.ObjList.AddItem(Actor);
        }
      }
    }
  }

  ActivateOutputLink(0);
}

defaultproperties
{
  ObjName&#61;&#34;Based Actors&#34;
  ObjCategory&#61;&#34;Iterators&#34;
  InputLinks(0)&#61;(LinkDesc&#61;&#34;In&#34;)
  OutputLinks(0)&#61;(LinkDesc&#61;&#34;Out&#34;)
  VariableLinks.Empty
  VariableLinks(0)&#61;(ExpectedType&#61;class&#39;SeqVar&#95;ObjectList&#39;,LinkDesc&#61;&#34;Out Objects&#34;,bWriteable&#61;true)
  VariableLinks(1)&#61;(ExpectedType&#61;class&#39;SeqVar&#95;Object&#39;,LinkDesc&#61;&#34;Base Actor&#34;,PropertyName&#61;BaseActor)
}
</pre>
</div>
<p />
<h3><a name="Using the Based Actors Kismet node"></a> Using the Based Actors Kismet node </h3>
In this example, a loop is set up when the level is loaded. At each loop interval, the Based Actors node finds all UTPawn actors that are currently based on the InterpActor in the level. It then finds the first valid object in the ObjectList and logs it onto the screen. The ObjectList is cleared immediately afterwards.
<p />
<img src="rsrc/Three/DevelopmentKitGemsIteratorKismetNodes/KI_BasedActorsTest.jpg" alt="KI_BasedActorsTest.jpg" width='800' height='640' />
<p />
<h2><a name="Child Actors"></a> Child Actors </h2>
<hr size="1" noshade="noshade">
The Child Actors Kismet node returns all actor references that are currently owned by the <strong>OwningActor</strong>. Much like the Based Actors iterator Kismet node, the level designer is responsible for setting the <strong>OwningActor</strong> by using the exposed Kismet variable node. The code is very similar to the Based Actors iterator Kismet node, except that the ChildActors iterator is used instead.
<p /> <ul>
<li> <img src="rsrc/TWiki/TWikiDocGraphics/warning.gif" alt="ALERT!" title="ALERT!" width="16" height="16" border="0" /> ChildActors is slow and should be avoided if possible
</li></ul>
<p />
<h3><a name="Variables"></a> Variables </h3> <ul>
<li> <strong>ActorClass</strong> - Filter actors by class. Actors must be this class or a subclass.
</li> <li> <strong>AlwaysClearObjectList</strong> - Before filling the ObjectList with new actors, clear the ObjectList.
</li></ul>
<p />
<h3><a name="Unrealscript"></a> Unrealscript </h3>
<div class="codetitlebar">
SeqAct_ChildActors.uc
</div>
<div class="codesnippet">
<pre>
class SeqAct&#95;ChildActors extends SequenceAction;

var() class&#60;Actor&#62; ActorClass;
var() bool AlwaysClearObjectList;
var Actor OwningActor;

event Activated()
{
  local Actor Actor;
  local array&#60;SequenceObject&#62; ObjectList;
  local SeqVar&#95;ObjectList SeqVar&#95;ObjectList;

  if (ActorClass !&#61; None &#38;&#38; OwningActor !&#61; None)
  {
    // Get the object list seq var
    GetLinkedObjects(ObjectList, class&#39;SeqVar&#95;ObjectList&#39;, false);

    if (ObjectList.Length &#62; 0)
    {
      SeqVar&#95;ObjectList &#61; SeqVar&#95;ObjectList(ObjectList&#91;0]);

      if (SeqVar&#95;ObjectList !&#61; None)
      {
        if (AlwaysClearObjectList)
        {
          SeqVar&#95;ObjectList.ObjList.Length &#61; 0;
        }

        ForEach OwningActor.ChildActors(ActorClass, Actor)
        {
          SeqVar&#95;ObjectList.ObjList.AddItem(Actor);
        }
      }
    }
  }

  ActivateOutputLink(0);
}

defaultproperties
{
  ObjName&#61;&#34;Child Actors&#34;
  ObjCategory&#61;&#34;Iterators&#34;
  InputLinks(0)&#61;(LinkDesc&#61;&#34;In&#34;)
  OutputLinks(0)&#61;(LinkDesc&#61;&#34;Out&#34;)
  VariableLinks.Empty
  VariableLinks(0)&#61;(ExpectedType&#61;class&#39;SeqVar&#95;ObjectList&#39;,LinkDesc&#61;&#34;Out Objects&#34;,bWriteable&#61;true)
  VariableLinks(1)&#61;(ExpectedType&#61;class&#39;SeqVar&#95;Object&#39;,LinkDesc&#61;&#34;Owning Actor&#34;,PropertyName&#61;OwningActor)
}
</pre>
</div>
<p />
<h3><a name="Using the Child Actors Kismet node"></a> Using the Child Actors Kismet node </h3>
In this example, a loop is set up upon level load. For each loop interval, the Child Actors node finds all UTPawn actors that are owned by the Player. A random object is then chosen from the ObjectList and logged on the screen.
<p />
<img src="rsrc/Three/DevelopmentKitGemsIteratorKismetNodes/KI_ChildActorsTest.jpg" alt="KI_ChildActorsTest.jpg" width='800' height='640' />
<p />
<h2><a name="Radial Actors"></a> Radial Actors </h2>
<hr size="1" noshade="noshade">
This iterator Kismet node finds actors within a radius. It also has options which allow level designers to filter out actors based on visibility, collision and if its overlapping. The visibility filter checks to see if the actor is hidden or not. The collision filter checks to see if the actor is collidable (bCollideActors is true) with other actors. The overlapping filter checks to see if the actor's collision components (bCollideActors is true) overlaps a sphere with the radii defined by <strong>Radius</strong>.
<p />
First a reference to the WorldInfo is acquired by using the static function within WorldInfo. If a valid WorldInfo is found, the ObjectList is then found and type casted so that it can be used. The location of the iterator is dependent on the following logic.
<p /> <ul>
<li> If <strong>ActorLocation</strong> has been used to reference an actor in the world, then use that Actor's location as the origin for the radius scan.
</li> <li> Otherwise use <strong>Location</strong> as the origin for the radius scan.
</li></ul>
<p />
If <strong>AlwaysClearObjectList</strong> is checked, then the ObjectList is cleared before adding new items to it. From there the most appropriate iterator is used together with the various properties set by the level designer. The performance impact by this Kismet node depends on which type of iterator is used.
<p />
<h3><a name="Variables"></a> Variables </h3> <ul>
<li> <strong>ActorClass</strong> - Filter actors by class. Actors must be this class or a subclass.
</li> <li> <strong>AlwaysClearObjectList</strong> - Before filling the ObjectList with new actors, clear the ObjectList.
</li> <li> <strong>IteratorType</strong> - Type of iterator to use. <ul>
<li> <strong>Visible</strong> - Slow, avoid using this iterator type if possible.
</li> <li> <strong>Visible and Collidable</strong> - Fast as it uses the collision octree when a reasonably small radii is used. <ul>
<li> <strong>Ignore Hidden</strong> - Ignores actors that are hidden.
</li> <li> <strong>Trace Extent</strong> - Extent to use when using traces to check if there is no world geometry between the origin and the actor's location.
</li> <li> <strong>Trace Actors</strong> - Check if you wish to perform a trace to check if there is no world geometry between the origin and the actor's location.
</li> <li> <strong>Interface Class</strong> - Set to something other than none if you wish to filter actors by interface implementation.
</li></ul>
</li> <li> <strong>Collidable</strong> - Fast as it uses the collision octree when a reasonably small radii is used. <ul>
<li> <strong>Use Overlap Check</strong> - Check to ensure that the actor is within the radii, instead of just checking if an actor's location is within the radii.
</li> <li> <strong>Interface Class</strong> - Set to something other than none if you wish to filter actors by interface implementation.
</li></ul>
</li> <li> <strong>Overlapping</strong> - Slow, avoid using this iterator type if possible. <ul>
<li> <strong>Ignore Hidden</strong> - Ignores actors that are hidden.
</li></ul>
</li></ul>
</li></ul>
<p />
<h3><a name="Unrealscript"></a> Unrealscript </h3>
<div class="codetitlebar">
SeqAct_RadialActors.uc
</div>
<div class="codesnippet">
<pre>
class SeqAct&#95;RadialActors extends SequenceAction;

enum EIteratorType
{
  EIT&#95;Visible&#60;DisplayName&#61;&#34;Visible&#34;&#62;,
  EIT&#95;VisibleColliding&#60;DisplayName&#61;&#34;Visible and Collidable&#34;&#62;,
  EIT&#95;Colliding&#60;DisplayName&#61;&#34;Collidable&#34;&#62;,
  EIT&#95;Overlapping&#60;DisplayName&#61;&#34;Overlapping&#34;&#62;
};

var() class&#60;Actor&#62; ActorClass;
var() bool AlwaysClearObjectList;
var() EIteratorType IteratorType;

var() float Radius;
// Location will be overriden when using an attached actor
var() Vector Location;
var Actor ActorLocation;

var(VisibleCollidingActors) bool VCAIgnoreHidden&#60;DisplayName&#61;&#34;Ignore Hidden&#34;&#62;;
var(VisibleCollidingActors) Vector VCAExtent&#60;DisplayName&#61;&#34;Trace Extent&#34;&#62;;
var(VisibleCollidingActors) bool VCATraceActors&#60;DisplayName&#61;&#34;Trace Actors&#34;&#62;;
var(VisibleCollidingActors) class&#60;Interface&#62; VCAInterfaceClass&#60;DisplayName&#61;&#34;Interface Class&#34;&#62;;

var(CollidingActors) bool CAUseOverlapCheck&#60;DisplayName&#61;&#34;Use Overlap Check&#34;&#62;;
var(CollidingActors) class&#60;Interface&#62; CAInterfaceClass&#60;DisplayName&#61;&#34;Interface Class&#34;&#62;;

var(OverlappingActors) bool OAIgnoreHidden&#60;DisplayName&#61;&#34;Ignore Hidden&#34;&#62;;

event Activated()
{
  local WorldInfo WorldInfo;
  local Actor Actor;
  local array&#60;SequenceObject&#62; ObjectList;
  local SeqVar&#95;ObjectList SeqVar&#95;ObjectList;
  local Vector IteratorLocation;

  if (ActorClass !&#61; None)
  {
    WorldInfo &#61; class&#39;WorldInfo&#39;.static.GetWorldInfo();

    if (WorldInfo !&#61; None)
    {
      // Get the object list seq var
      GetLinkedObjects(ObjectList, class&#39;SeqVar&#95;ObjectList&#39;, false);

      if (ObjectList.Length &#62; 0)
      {
        SeqVar&#95;ObjectList &#61; SeqVar&#95;ObjectList(ObjectList&#91;0]);

        if (SeqVar&#95;ObjectList !&#61; None)
        {
          IteratorLocation &#61; (ActorLocation !&#61; None) ? ActorLocation.Location : Location;

          if (AlwaysClearObjectList)
          {
            SeqVar&#95;ObjectList.ObjList.Length &#61; 0;
          }

          switch (IteratorType)
          {
          case EIT&#95;Visible:
            ForEach WorldInfo.VisibleActors(ActorClass, Actor, Radius, IteratorLocation)
            {
              SeqVar&#95;ObjectList.ObjList.AddItem(Actor);
            }
            break;

          case EIT&#95;VisibleColliding:
            ForEach WorldInfo.VisibleCollidingActors(ActorClass, Actor, Radius, IteratorLocation, VCAIgnoreHidden, VCAExtent, VCATraceActors, VCAInterfaceClass)
            {
              SeqVar&#95;ObjectList.ObjList.AddItem(Actor);
            }
            break;

          case EIT&#95;Colliding:
            ForEach WorldInfo.CollidingActors(ActorClass, Actor, Radius, IteratorLocation, CAUseOverlapCheck, CAInterfaceClass)
            {
              SeqVar&#95;ObjectList.ObjList.AddItem(Actor);
            }
            break;

          case EIT&#95;Overlapping:
            ForEach WorldInfo.OverlappingActors(ActorClass, Actor, Radius, IteratorLocation, OAIgnoreHidden)
            {
              SeqVar&#95;ObjectList.ObjList.AddItem(Actor);
            }
            break;

          default:
            break;
          }
        }
      }
    }
  }

  ActivateOutputLink(0);
}

defaultproperties
{
  ObjName&#61;&#34;Radial Actors&#34;
  ObjCategory&#61;&#34;Iterators&#34;
  InputLinks(0)&#61;(LinkDesc&#61;&#34;In&#34;)
  OutputLinks(0)&#61;(LinkDesc&#61;&#34;Out&#34;)
  VariableLinks.Empty
  VariableLinks(0)&#61;(ExpectedType&#61;class&#39;SeqVar&#95;ObjectList&#39;,LinkDesc&#61;&#34;Out Objects&#34;,bWriteable&#61;true)
  VariableLinks(1)&#61;(ExpectedType&#61;class&#39;SeqVar&#95;Float&#39;,LinkDesc&#61;&#34;Radius&#34;,PropertyName&#61;Radius)
  VariableLinks(2)&#61;(ExpectedType&#61;class&#39;SeqVar&#95;Object&#39;,LinkDesc&#61;&#34;Actor Location&#34;,bHidden&#61;true,PropertyName&#61;ActorLocation)
  VariableLinks(3)&#61;(ExpectedType&#61;class&#39;SeqVar&#95;Vector&#39;,LinkDesc&#61;&#34;Location&#34;,PropertyName&#61;Location)
}
</pre>
</div>
<p />
<h3><a name="Using the Radial Actors Kismet node"></a> Using the Radial Actors Kismet node </h3>
In this example, the player's pawn is first found and stored when the player spawns. The Radial Actors note then searches for PathNodes that are within the radii, which is defined at 192.f, at the player's pawn's location. A random object is chosen from the ObjectList and a explosion is triggered at that object's location.
<p />
<img src="rsrc/Three/DevelopmentKitGemsIteratorKismetNodes/KI_RadiusActorsTest.jpg" alt="KI_RadiusActorsTest.jpg" width='800' height='640' />
<p />
<h2><a name="Touching Actors"></a> Touching Actors </h2>
<hr size="1" noshade="noshade">
This iterator Kismet node returns all of the actors that are currently touching the <strong>BaseActor</strong>. Its code is very similar to the BasedActors iterator Kismet node, but using the TouchingActors iterator instead. This iterator is fast.
<p />
<h3><a name="Variables"></a> Variables </h3> <ul>
<li> <strong>ActorClass</strong> - Filter actors by class. Actors must be this class or a subclass.
</li> <li> <strong>AlwaysClearObjectList</strong> - Before filling the ObjectList with new actors, clear the ObjectList.
</li></ul>
<p />
<h3><a name="Unrealscript"></a> Unrealscript </h3>
<div class="codetitlebar">
SeqAct_TouchingActors.uc
</div>
<div class="codesnippet">
<pre>
class SeqAct&#95;TouchingActors extends SequenceAction;

var() class&#60;Actor&#62; ActorClass;
var() bool AlwaysClearObjectList;
var Actor BaseActor;

event Activated()
{
  local Actor Actor;
  local array&#60;SequenceObject&#62; ObjectList;
  local SeqVar&#95;ObjectList SeqVar&#95;ObjectList;

  if (ActorClass !&#61; None &#38;&#38; BaseActor !&#61; None)
  {
    // Get the object list seq var
    GetLinkedObjects(ObjectList, class&#39;SeqVar&#95;ObjectList&#39;, false);

    if (ObjectList.Length &#62; 0)
    {
      SeqVar&#95;ObjectList &#61; SeqVar&#95;ObjectList(ObjectList&#91;0]);

      if (SeqVar&#95;ObjectList !&#61; None)
      {
        if (AlwaysClearObjectList)
        {
          SeqVar&#95;ObjectList.ObjList.Length &#61; 0;
        }

        ForEach BaseActor.TouchingActors(ActorClass, Actor)
        {
          SeqVar&#95;ObjectList.ObjList.AddItem(Actor);
        }
      }
    }
  }

  ActivateOutputLink(0);
}

defaultproperties
{
  ObjName&#61;&#34;Touching Actors&#34;
  ObjCategory&#61;&#34;Iterators&#34;
  InputLinks(0)&#61;(LinkDesc&#61;&#34;In&#34;)
  OutputLinks(0)&#61;(LinkDesc&#61;&#34;Out&#34;)
  VariableLinks.Empty
  VariableLinks(0)&#61;(ExpectedType&#61;class&#39;SeqVar&#95;ObjectList&#39;,LinkDesc&#61;&#34;Out Objects&#34;,bWriteable&#61;true)
  VariableLinks(1)&#61;(ExpectedType&#61;class&#39;SeqVar&#95;Object&#39;,LinkDesc&#61;&#34;Base Actor&#34;,PropertyName&#61;BaseActor)
}
</pre>
</div>
<p />
<h3><a name="Using the Touching Actors Kismet node"></a> Using the Touching Actors Kismet node </h3>
In this example, a loop is set up when the level is loaded. For each loop interval, the Touching Actors node looks for all UTProj_LinkPlasma actors that are current touching Trigger_0. A random object is then chosen from the ObjectList and logged on the screen. The ObjectList is cleared immediately afterwards.
<p />
<img src="rsrc/Three/DevelopmentKitGemsIteratorKismetNodes/KI_TouchingActorsTest.jpg" alt="KI_TouchingActorsTest.jpg" width='800' height='640' />
<p />
<h2><a name="Trace Actors"></a> Trace Actors </h2>
<hr size="1" noshade="noshade">
This iterator Kismet node performs a trace between <strong>TraceStart</strong> and <strong>TraceEnd</strong>. <strong>TraceExtent</strong> defines the width and height of the trace (non-zero extent trace) if it is required. This iterator Kismet node can be useful when you want to find actors in a straight line, such as a laser beam.
<p />
First a reference to the WorldInfo is found by using the static function available within WorldInfo. From there, the ObjectList is found and type casted. If <strong>AlwaysClearObjectList</strong> is checked, the  the ObjectList is cleared. Finally, a TraceActors iterator is performed using the <strong>TraceStart</strong>, <strong>TraceEnd</strong> and <strong>TraceExtent</strong> inputs. <strong>HitLocation</strong> and <strong>HitNormal</strong> information gathered by the iterator is discarded. All actors within the trace points are then inserted in to the ObjectList. Reasonably fast like any trace.
<p />
<h3><a name="Variables"></a> Variables </h3> <ul>
<li> <strong>ActorClass</strong> - Filter actors by class. Actors must be this class or a subclass.
</li> <li> <strong>AlwaysClearObjectList</strong> - Before filling the ObjectList with new actors, clear the ObjectList.
</li> <li> <strong>TraceStart</strong> - Where to start the trace.
</li> <li> <strong>TraceEnd</strong> - Where to end the trace.
</li> <li> <strong>TraceExtent</strong> - Thickness of the trace. Can be zero to use zero-extent traces.
</li></ul>
<p />
<h3><a name="Unrealscript"></a> Unrealscript </h3>
<div class="codetitlebar">
SeqAct_TraceActors.uc
</div>
<div class="codesnippet">
<pre>
class SeqAct&#95;TraceActors extends SequenceAction;

var() class&#60;Actor&#62; ActorClass;
var() bool AlwaysClearObjectList;
var() Vector TraceStart;
var() Vector TraceEnd;
var() Vector TraceExtent;

event Activated()
{
  local WorldInfo WorldInfo;
  local Actor Actor;
  local array&#60;SequenceObject&#62; ObjectList;
  local SeqVar&#95;ObjectList SeqVar&#95;ObjectList;
  local Vector HitLocation, HitNormal;

  if (ActorClass !&#61; None)
  {
    WorldInfo &#61; class&#39;WorldInfo&#39;.static.GetWorldInfo();

    if (WorldInfo !&#61; None)
    {
      // Get the object list seq var
      GetLinkedObjects(ObjectList, class&#39;SeqVar&#95;ObjectList&#39;, false);

      if (ObjectList.Length &#62; 0)
      {
        SeqVar&#95;ObjectList &#61; SeqVar&#95;ObjectList(ObjectList&#91;0]);

        if (SeqVar&#95;ObjectList !&#61; None)
        {
          if (AlwaysClearObjectList)
          {
            SeqVar&#95;ObjectList.ObjList.Length &#61; 0;
          }

          ForEach WorldInfo.TraceActors(ActorClass, Actor, HitLocation, HitNormal, TraceEnd, TraceStart, TraceExtent)
          {
            SeqVar&#95;ObjectList.ObjList.AddItem(Actor);
          }
        }
      }
    }
  }

  ActivateOutputLink(0);
}

defaultproperties
{
  ObjName&#61;&#34;Trace Actors&#34;
  ObjCategory&#61;&#34;Iterators&#34;
  InputLinks(0)&#61;(LinkDesc&#61;&#34;In&#34;)
  OutputLinks(0)&#61;(LinkDesc&#61;&#34;Out&#34;)
  VariableLinks.Empty
  VariableLinks(0)&#61;(ExpectedType&#61;class&#39;SeqVar&#95;ObjectList&#39;,LinkDesc&#61;&#34;Out Objects&#34;,bWriteable&#61;true)
  VariableLinks(1)&#61;(ExpectedType&#61;class&#39;SeqVar&#95;Vector&#39;,LinkDesc&#61;&#34;Trace Start&#34;,PropertyName&#61;TraceStart)
  VariableLinks(2)&#61;(ExpectedType&#61;class&#39;SeqVar&#95;Vector&#39;,LinkDesc&#61;&#34;Trace End&#34;,PropertyName&#61;TraceEnd)
  VariableLinks(3)&#61;(ExpectedType&#61;class&#39;SeqVar&#95;Vector&#39;,LinkDesc&#61;&#34;Trace Extent&#34;,PropertyName&#61;TraceExtent)
}
</pre>
</div>
<p />
<h3><a name="Using the Trace Actors Kismet node"></a> Using the Trace Actors Kismet node </h3>
In this example, the location of Note_0 and Note_1 is first found. A looping setup is then created when these two variables have been set. For each loop interval, the Trace Actors performs a trace between Note_0 and Note_1; looking for any UTPawns within the trace. A random object is then chosen from the ObjectList. A log is written on the screen and an alarm sound is played back. The ObjectList is immediately cleared after that.
<p />
<img src="rsrc/Three/DevelopmentKitGemsIteratorKismetNodes/KI_TraceActorsTest.jpg" alt="KI_TraceActorsTest.jpg" width='800' height='640' />
<p />
<h2><a name="Downloads"></a> Downloads </h2>
<hr size="1" noshade="noshade">
<p /> <ul>
<li> <a href="rsrc/Three/DevelopmentKitGemsIteratorKismetNodes/KismetIterators.zip" target="_top">Download</a> the source code and maps used in this gem. (KismetIterators.zip)
</li></ul>
<p />
</noautolink>
<p />
<p />
<p />
<p />
<p />
<p />


<!-- BEGIN UE4 NOTICE -->



<div id="version_message" style="display:none;">

    <div style="position:fixed;top:0px;left:0px;width:100%;height:100%;background:#000;opacity:0.5;">

    </div>

    <div style="position:fixed;top:50%;left:50%;margin:-70px 0px 0px -240px;background:#FFF;border-radius:6px;width:480px;box-shadow:0px 5px 30px -5px rgba(0,0,0,0.9);">

        <div style="font-size:16px;font-weight:bold;background: url(rsrc/Three/warning.png) no-repeat scroll 5px 5px;padding:4px 10px 5px 25px;height:21px;width:440px;">

            Important!

        </div>

        <div style="font-size:11px;padding:5px 10px 10px;width:460px;">

            <p>You are viewing documentation for the <strong>Unreal Development Kit (UDK)</strong>.</p>



            <p>If you are looking for the Unreal Engine 4 documentation, please visit the <a style="color:#000;" href="https://docs.unrealengine.com">Unreal Engine 4 Documentation</a> site.</p>

        </div>

        <div style="height:20px;padding:4px;margin:6px;border-top:1px solid #a0a0a0;">

            <form onsubmit="return closeVersionMessage();">

                <input type="checkbox" id="dismiss" value="dismiss" />

                <label for="dsimiss">Don't show me this again</label>

                <input type="submit" value="Close" style="cursor:pointer;float:right;width:60px;color:#f0f0f0;font-weight:bold;background:#882222;height:24px;padding:2px 3px 3px;text-align:center;border:1px outset #000;" />

            </form>

        </div>

    </div>

</div>



<script type="text/javascript">

    window.onload = function () {

        LoadVersionMessage();

    }



    function LoadVersionMessage()

    {

        var showMessage = "false";
        if(showMessage != "false")

        {

            showVersionMessage();

        }

    }



    function showVersionMessage()

    {

        var message = document.getElementById("version_message");

        if(message)

        {

            message.style.display = "block";

        }

    }



    function closeVersionMessage() {

        var dismiss = document.getElementById("dismiss");

        var message = document.getElementById("version_message");

        if (message) {

            message.style.display = "none";

        }

        if (dismiss.checked) {

            eraseCookie("doc_version_message");

            createCookie("doc_version_message", "false", 365);

            dismiss.checked = false;

        }

        return false;

    }



    function createCookie(name, value, days) {

        if (days) {

            var date = new Date();

            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));

            var expires = "; expires=" + date.toGMTString();

        }

        else var expires = "";

        document.cookie = name + "=" + value + expires + "; path=/";

    }



    function readCookie(name) {

        var nameEQ = name + "=";

        var ca = document.cookie.split(';');

        for (var i = 0; i < ca.length; i++) {

            var c = ca[i];

            while (c.charAt(0) == ' ') c = c.substring(1, c.length);

            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);

        }

        return null;

    }



    function eraseCookie(name) {

        createCookie(name, "", -1);

    }

</script>



<!-- END UE4 NOTICE -->



</div></div><div id="footer"><div style="BACKGROUND-COLOR: transparent; margin: 0; padding: 0; width: 100%;"><div>&nbsp;</div><div style="float: left; text-align: left; vertical-align: bottom; width: 50%;"><a href="http://www.videogamevoters.org"><img src="rsrc/vgvn.jpg" border="0" width="234" height="60" alt="Video Game Voters Network" /></a></div><div style="float: right; text-align: right; vertical-align: bottom; width: 50%;">Copyright &copy; 2001-2012 <a href="http://www.epicgames.com" target="_top">Epic Games, Inc.</a><br /><a href="../Main/TermsAndConditions.html" class="twikiLink">Terms and Conditions</a><br /><a href="http://epicgames.com/privacynotice" target="_top">Privacy Notice</a></div></div></div></div>
<p />
</html></body>
