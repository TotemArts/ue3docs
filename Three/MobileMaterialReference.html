<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title> UDK | MobileMaterialReference    </title>

<style type="text/css" media="all">@import "rsrc/twiki_webs.css";</style>
<style type="text/css" media="all">@import "rsrc/udn_new.css";</style>
<link rel="icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />


<!-- view.static_udn3.tmpl  -->
<script language="JavaScript" type="text/javascript" src="rsrc/udn.js"></script>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

</head>
<p />
<body id="webbgThree">
<p />

<p />
<div id="webThree"><div id="head">
<!--
<div class="header">
 -->
<div style="background: url(/pub/webbg_udn.jpg); background-repeat: no-repeat; height:140px; width: 100%;" >
<!--
<div style="background: transparent url(/pub/udn_header_bg.jpg); background-repeat: repeat-x; height:140px; width: 100%; margin-left: 991px;">
 -->
<p />
<div id="nav">
<ul class="nav">
<font color=black>|</font>&nbsp;&nbsp;<li class=nav_Three><a href="../Main/WebHome.html" class="twikiLink">Main</a></li><font color=black>|</font><li class=nav_Three><a href="../Two/WebHome.html" class="twikiLink">UnrealEngine2</a></li><font color=black>|</font><li class=nav_Three><a href="WebHome.html" class="twikiLink">UnrealEngine3</a></li><font color=black>|</font><li class=nav_Three><a href="https://docs.unrealengine.com" class="twikiLink">UnrealEngine4</a></li><font color=black>|</font><li class=nav_Three><a href="../Main/BusinessAndLegal.html" class="twikiLink">Business &amp; Legal</a></li><font color=black>|</font>
</ul><br><br><br>
</div>
</div>
</div> <!-- end head -->
<div id="pagedefault">
<div id="maincol">
<div id="tool">
<div id="tooltop">UDN</div>
<div id="tooltext" style="padding: 10px 10px 10px 10px;">
Search public documentation: <br>
<form ACTION="/search/index.php" METHOD="GET" NAME="main" ID="main">
<input TYPE="TEXT" NAME="q" SIZE="15" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;">
<input TYPE="SUBMIT" VALUE="Search" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;"><br>
</form>
</div>
<div id="toolband">MobileMaterialReference  </b></div>
<div id="tooltext">
<a href="MobileMaterialReferenceJP.html" class="twikiLink">日本語訳</a><br><a href="MobileMaterialReferenceCH.html" class="twikiLink">中国翻译</a><br><a href="MobileMaterialReferenceKR.html" class="twikiLink">한국어</a><br>

<!-- Three/MobileMaterialReference -->
<hr size="1" noshade="noshade" />
Interested in the Unreal Engine? <br>
Visit the <a href="http://www.unrealtechnology.com" target="_top">Unreal Technology</a> site.<br>
<br>
Looking for jobs and company info? <br>
Check out the <a href="http://www.epicgames.com" target="_top">Epic games</a> site.<br>
<br>
Questions about support via UDN? <br>
Contact the <a href="../Main/ContactUDNStaff.html" class="twikiLink">UDN Staff</a> <br>
<br>
</div> <!-- end toolbox content -->
<div id="toolbottom"></div>
</div> <!-- end tool -->
<p />
<noautolink>
<p />
<div style="padding:0px 0px 0px 4px;font:10px Verdana;">
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="MobileHome.html" class="twikiLink">Mobile Home</a></b> &gt; Materials for Mobile Platforms <br/>
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="MaterialsAndTexturesHome.html" class="twikiLink">Materials &amp; Textures</a></b> &gt; Materials for Mobile Platforms <br/>
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="CharacterArtistHome.html" class="twikiLink">Character Artist</a></b> / <b><a href="EnvironmentArtistHome.html" class="twikiLink">Environment Artist</a></b> &gt; Materials for Mobile Platforms
</div>
<hr size="1" noshade="noshade">
<h1><a name="Materials for Mobile Platforms"></a> Materials for Mobile Platforms </h1>
<hr size="1" noshade="noshade">
<p />
<img src="rsrc/Three/MobileMaterialReference/MobileMaterialReferenceTitle.jpg" alt="MobileMaterialReferenceTitle.jpg" width="646" height="188" />
<p />
<div class="twikiToc"> <ul>
<li> <a href="MobileMaterialReference.html#Materials for Mobile Platforms"> Materials for Mobile Platforms</a> <ul>
<li> <a href="MobileMaterialReference.html#Overview"> Overview</a>
</li> <li> <a href="MobileMaterialReference.html#Previewing Mobile Materials"> Previewing Mobile Materials</a>
</li> <li> <a href="MobileMaterialReference.html#Mobile Material Properties"> Mobile Material Properties</a> <ul>
<li> <a href="MobileMaterialReference.html#Basic"> Basic</a>
</li> <li> <a href="MobileMaterialReference.html#Specular"> Specular</a>
</li> <li> <a href="MobileMaterialReference.html#Emissive"> Emissive</a>
</li> <li> <a href="MobileMaterialReference.html#Environment"> Environment</a>
</li> <li> <a href="MobileMaterialReference.html#Rim Lighting"> Rim Lighting</a>
</li> <li> <a href="MobileMaterialReference.html#Bump Offset"> Bump Offset</a>
</li> <li> <a href="MobileMaterialReference.html#Masking"> Masking</a>
</li> <li> <a href="MobileMaterialReference.html#Texture Blending"> Texture Blending</a>
</li> <li> <a href="MobileMaterialReference.html#Color Blending"> Color Blending</a>
</li> <li> <a href="MobileMaterialReference.html#Texture Transform"> Texture Transform</a>
</li> <li> <a href="MobileMaterialReference.html#Vertex Animation"> Vertex Animation</a>
</li></ul>
</li> <li> <a href="MobileMaterialReference.html#Flattening"> Flattening</a> <ul>
<li> <a href="MobileMaterialReference.html#Configuring Flattening"> Configuring Flattening</a>
</li></ul>
</li> <li> <a href="MobileMaterialReference.html#Lightmass and Mobile Materials"> Lightmass and Mobile Materials</a> <ul>
<li> <a href="MobileMaterialReference.html#Modifying lightmaps"> Modifying lightmaps</a>
</li></ul>
</li> <li> <a href="MobileMaterialReference.html#Mobile Shader Generation"> Mobile Shader Generation</a>
</li> <li> <a href="MobileMaterialReference.html#Material Instances"> Material Instances</a>
</li> <li> <a href="MobileMaterialReference.html#Other Notes"> Other Notes</a>
</li></ul>
</li></ul>
</div>
<p />
<h2><a name="Overview"></a> Overview </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
The workflow for creating mobile materials is a bit different that regular materials in Unreal Engine 3.  If you've created materials before in Unreal Editor, you're probably used to building up a shader network of expressions.  By default, mobile materials do not use the shader network and instead are generated from a series of fixed switches and settings.
<p />
You can find the various mobile-specific material settings in the <a href="MaterialEditorUserGuide.html" class="twikiLink">Material Editor</a>'s property window.
<p />
<img src="rsrc/Three/MobileMaterialReference/MobileMaterialProperties.png" alt="MobileMaterialProperties.jpg" width="526" height="317" />
<p />
Mobile material settings are stored alongside the regular shader network material data.  This means you use the same material for rendering your mesh on both mobile platforms and other platforms (PC and consoles.)  However on mobile platforms, the mobile-specific properties will control the material's visuals instead of the shader network's expressions.
<p />
This allows you to create a single material that will render optimally for both mobile platforms and PC or consoles.
<p />
Note that it is possible to automatically create mobile textures from your material's shader network by "<a href="MobileMaterialReference.html#Flattening" class="twikiAnchorLink">flattening</a>" the material into a texture.
<p />
<h2><a name="Previewing Mobile Materials"></a> Previewing Mobile Materials </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
Currently, you must use the Mobile Previewer to view mobile materials on PC platform.  You can launch the mobile previewer by clicking the <strong>Play on Mobile Previewer</strong> button in the editor tool bar, as well as through the level viewport right-click menu.
<p />
<img src="rsrc/Three/MobileMaterialReference/PlayOnMobilePreviewer.png" alt="PlayOnMobilePreviewer.jpg" width="131" height="53" />
<p />
<strong>Note:</strong> Editor viewports may not display materials as they appear on mobile devices.  The editor uses the material expression network that you set up in the material editor to render materials.  You can emulate mobile materials in the editor by setting up your expression network based on your mobile material settings.
<p />
<h2><a name="Mobile Material Properties"></a> Mobile Material Properties </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
Material settings for mobile are organized into different subcategories to make it easier to locate properties and modify materials.
<p />
<h3><a name="Basic"></a> Basic </h3>
<p />
The most important texture properties is the Base Texture, but several other miscellaneous settings can be found in the main section of mobile material properties too.
<p /> <ul>
<li> <strong>Auto Flatten Mobile</strong> - When enabled, the editor will automatically generate a Base Texture using the material shader network expressions.  See the section on <a href="MobileMaterialReference.html#Flattening" class="twikiAnchorLink">flattening</a> for more information.
</li></ul>
<p /> <ul>
<li> <strong>Mobile Base Texture</strong> - The base texture for this material.  For most materials, you can think of this as your diffuse texture.  If this texture is missing, a default texture will be displayed instead (unless <a href="MobileMaterialReference.html#Flattening" class="twikiAnchorLink">automatic flattening</a> is enabled.)
</li></ul>
<img src="rsrc/Three/MobileMaterialReference/base_diffuse.jpg" alt="base_diffuse.jpg" width="400" height="400" /> <ul>
<li> <strong>Mobile Base Texture Tex Coords Source</strong> - This is where you select which vertex UV set you want to use when sampling the base texture.  You can a single UV set to use from up to the four available UV sets.  Except in special cases, you usually want to use the first UV set (TexCoords0) for this.
</li></ul>
<p /> <ul>
<li> <strong>Mobile Normal Texture</strong> - Sets a normal map texture for this material and enables per-pixel shading features.  A normal map texture may be required for other material features, such as per-pixel specular.  Setting a normal map texture may significantly impact the shading performance of the material.
</li></ul>
<img src="rsrc/Three/MobileMaterialReference/base_normal.jpg" alt="base_normal.jpg" width="400" height="400" /> <ul>
<li> <strong>Mobile Ambient Occlusion Source</strong> - Enables baked ambient occlusion, which scales the amount of sky lighting (or ambient light) applied to the mesh.  If your mesh has ambient occlusion data baked into the vertex colors, you can select the color channel the data is stored in here.  Currently, this feature only works for dynamically lit skeletal meshes.  Performance cost of this feature is very minimal.
</li></ul>
<p /> <ul>
<li> <strong>Mobile Allow Fog</strong> - Enables distance-based fog for this material.  You can disable this to turn off fog on primitives that won't need it.  Disabling this feature may improve shading performance.
</li></ul>
<p />
<h3><a name="Specular"></a> Specular </h3>
<p />
These settings allow you to enable and configure specular lighting.  Specular lighting allows for a more realistic lighting model.
<p /> <ul>
<li> <strong>Use Mobile Specular</strong> - Enables dynamic specular lighting on this material.  For primitives with light environments, the most prominent light direction for the object will be used for specular lighting.  Otherwise, the brightest directional light in the scene will be used for specular lighting (point lights are not supported, yet.)  For mobile, specular lighting can be enabled even on primitives that are otherwise unlit.  Enabling specular will have a significant performance cost.
</li></ul>
<img src="rsrc/Three/MobileMaterialReference/diffuse_default.jpg" alt="diffuse_default.jpg" width="400" height="400" /><img src="rsrc/Three/MobileMaterialReference/spec_default.jpg" alt="spec_default.jpg" width="400" height="400" /> <ul>
<li> <strong>Use Mobile Pixel Specular</strong> - Enables high quality per-pixel specular highlights.  When specular is enabled and a normal map texture is set, turning this setting on will enable per-pixel specular lighting.  Otherwise, per-vertex specular lighting will be used.  Per-pixel specular is significantly more costly to performance than per-vertex specular.
</li></ul>
<img src="rsrc/Three/MobileMaterialReference/spec_default.jpg" alt="spec_default.jpg" width="400" height="400" /><img src="rsrc/Three/MobileMaterialReference/spec_perpixel.jpg" alt="spec_perpixel.jpg" width="400" height="400" /> <ul>
<li> <strong>Mobile Specular Color</strong> - Color to use for specular highlights.  Note that the light source's color will be automatically taken into account, but you can use this to achieve a preferred highlight color if you want.  Changing this setting has no performance impact.
</li></ul>
<img src="rsrc/Three/MobileMaterialReference/spec_perpixel.jpg" alt="spec_perpixel.jpg" width="400" height="400" /><img src="rsrc/Three/MobileMaterialReference/spec_color.jpg" alt="spec_color.jpg" width="400" height="400" /> <ul>
<li> <strong>Mobile Specular Power</strong> - Sets the sharpness of the specular highlight.  Higher values yield a sharper highlight, while smaller values produce a broad, dull highlight.  If you're using per-pixel specular, usually you can get away with much sharper highlights than when using per-vertex specular.  Changing this setting usually has no performance impact.
</li></ul>
<img src="rsrc/Three/MobileMaterialReference/spec_perpixel.jpg" alt="spec_perpixel.jpg" width="400" height="400" /><img src="rsrc/Three/MobileMaterialReference/spec_power.jpg" alt="spec_power.jpg" width="400" height="400" /> <ul>
<li> <strong>Mobile Specular Mask</strong> - Sometimes it's useful to restrict specular to specific areas of a primitive.  You can achieve this by painting specular mask data into either the mesh's vertex color, a mask texture or by simply using a channel in the diffuse texture as a mask.  Also, you can select 'Luminance' to use the diffuse texture's luminance value as the specular mask.  By default, specular is not masked (Constant) and will affect the entire primitive uniformly.  Enabling a specular mask will have some performance impact.
</li></ul>
<img src="rsrc/Three/MobileMaterialReference/spec_perpixel.jpg" alt="spec_perpixel.jpg" width="400" height="400" /><img src="rsrc/Three/MobileMaterialReference/spec_mask.jpg" alt="spec_mask.jpg" width="400" height="400" />
<p />
<h3><a name="Emissive"></a> Emissive </h3>
<p />
These settings are for emissive lighting effects.  Emissive lighting lets your material appear to produce light from it's surface.
<p />
<img src="rsrc/Three/MobileMaterialReference/emissive.jpg" alt="emissive.jpg" width="400" height="400" />
<p /> <ul>
<li> <strong>Mobile Emissive Texture</strong> - Sets the emissive texture and enables emissive lighting (when Mobile Emissive Color Source is set to Emissive Texture.)  Emissive color is not influenced by lighting and basically allows your material to 'glow in the dark'.  There is only minor performance cost with enabling emissive lighting.
</li></ul>
<p /> <ul>
<li> <strong>Mobile Emissive Color Source</strong> - Selects the source of emissive light. <ul>
<li> <em>Emissive Texture</em> - Emissive lighting will only be enabled if a texture is bound to the 'Mobile Emissive Texture' property.
</li> <li> <em>Base Texture</em> - Enables emissive lighting and uses the base texture as the emissive color.
</li> <li> <em>Constant</em> - Enables emissive lighting and uses a constant color.  When enabled, the color value is set in the 'Mobile Emissive Color' property.  Constant emissive yields uniform emissive lighting over the entire primitive, but is the cheapest type of emissive lighting, performance-wise.
</li></ul>
</li></ul>
<p /> <ul>
<li> <strong>Mobile Emissive Color</strong> - Sets the color to use for emissive lighting when 'Emissive Color Source' is set to 'Constant'.  Changing this setting has no performance impact.
</li></ul>
<p /> <ul>
<li> <strong>Mobile Emissive Mask Source</strong> - Allows you to scale the contribution of emissive lighting over the surface of the primitive. <ul>
<li> <em>Constant</em> - Disables emissive masking.  This is the cheapest mode, performance-wise.
</li> <li> <em>Vertex Color (Channel)</em> - Scales emissive contribution by the specified vertex color channel.
</li> <li> <em>Base Texture (Channel)</em> - Scales emissive contribution by the specified base texture color channel.
</li> <li> <em>Mask Texture (Channel)</em> - Scales emissive contribution by the specified mask texture color channel.
</li> <li> <em>Normal Texture Alpha</em> - Scales emissive by the normal map's alpha channel.  You must supply a valid Normal Texture for this to work.
</li></ul>
</li></ul>
<p />
<h3><a name="Environment"></a> Environment </h3>
<p />
These settings let you turn on environment mapping and configure how it looks.  Environment reflections are usually used to make objects appear more glossy, or even more metallic.
<p /> <ul>
<li> <strong>Mobile Environment Texture</strong> - Enables spherical environment reflection mapping and sets the environment map texture to use.  If a normal map texture is bound, environment mapping will be computed per-pixel, otherwise per-vertex.  Environment mapping adds significant performance cost to your material.
</li></ul>
<p /> <ul>
<li> <strong>Mobile Environment Mask Source</strong> - Allows you to scale the contribution of environment mapping over the surface of the primitive. <ul>
<li> <em>Constant</em> - Disables environment map masking.  This is the cheapest mode, performance-wise.
</li> <li> <em>Vertex Color (Channel)</em> - Scales environment map contribution by the specified vertex color channel.
</li> <li> <em>Base Texture (Channel)</em> - Scales environment map contribution by the specified base texture color channel.
</li> <li> <em>Mask Texture (Channel)</em> - Scales environment map contribution by the specified mask texture color channel.
</li> <li> <em>Normal Texture Alpha</em> - Scales environment map by the normal map's alpha channel.  You must supply a valid Normal Texture for this to work.
</li></ul>
</li></ul>
<p /> <ul>
<li> <strong>Mobile Environment Map Amount</strong> - Sets the 'strength' of the environment reflection map, or how much the environment map will contribute to the primitives final color.  Larger values yield a bright environment reflection.  There is no performance cost to change this setting.
</li></ul>
<p /> <ul>
<li> <strong>Mobile Environment Blend Mode</strong> - Configures how the environment map combines with base diffuse lighting on the primitive.  By default, environment reflection is added to the diffuse light, but you can also configure it to "replace" the diffuse texture color by interpolating based on reflection amount.  There is no significant cost to changing this setting. <ul>
<li> <em>Add</em> - The environment reflection will be added to the diffuse light contribution, creating a bright, glossy reflection.  This is the default.
</li> <li> <em>Lerp</em> - The diffuse texture and environment texture will be blended together by the environment reflection amount.  This yields a more metallic effect without increasing the primitives brightness.
</li></ul>
</li></ul>
<p /> <ul>
<li> <strong>Mobile Environment Color</strong> - Scales the color of the environment map reflection.  Changing this setting has no performance impact.
</li></ul>
<p /> <ul>
<li> <strong>Mobile Environment Fresnel Amount</strong> - Enables a fresnel effect when set to a value other than zero, which can be used to reduce the reflectivity of the surface at direct angles to the viewer.  The value controls what percentage of the environment map's contribution is affected by fresnel.  Usually fresnel yields a more realistic reflection, but enabling this feature will add some performance overhead to your material.
</li></ul>
<p /> <ul>
<li> <strong>Mobile Environment Fresnel Exponent</strong> - Sets the sharpness of the fresnel effect when fresnel is enabled.  Higher values will require a more glancing view angle for reflections to be visible, where lower values will yield a broad reflective surface.  Changing this setting usually has minimal performance impact.
</li></ul>
<p />
<h3><a name="Rim Lighting"></a> Rim Lighting </h3>
<p />
These properties allow you to enable a rim lighting effect for your material.  Rim lighting is used to highlight the silhouette of your object.
<p /> <ul>
<li> <strong>Mobile Rim Lighting Strength</strong> - Enables rim lighting when set to anything except zero, and sets the strength of the rim lighting effect.  This feature has a significant performance cost.
</li></ul>
<img src="rsrc/Three/MobileMaterialReference/rim_none.jpg" alt="rim_none.jpg" width="300" height="300" /><img src="rsrc/Three/MobileMaterialReference/rim_default.jpg" alt="rim_default.jpg" width="300" height="300" /><img src="rsrc/Three/MobileMaterialReference/rim_strength.jpg" alt="rim_strength.jpg" width="300" height="300" /> <ul>
<li> <strong>Mobile Rim Lighting Exponent</strong> - Sets the sharpness of the rim lighting effect around the object's silhouette.  Larger exponent values will yield a tighter highlight at glancing angles to the viewer, while smaller values will create a broad effect over the surface.  There is usually no significant performance cost to changing this setting.
</li></ul>
<img src="rsrc/Three/MobileMaterialReference/rim_color.jpg" alt="rim_color.jpg" width="400" height="400" /><img src="rsrc/Three/MobileMaterialReference/rim_exponent.jpg" alt="rim_exponent.jpg" width="400" height="400" /> <ul>
<li> <strong>Mobile Rim Lighting Mask Source</strong> - Allows you to scale the contribution of rim lighting over the surface of the primitive. <ul>
<li> <em>Constant</em> - Disables rim light masking.  This is the cheapest mode, performance-wise.
</li> <li> <em>Vertex Color (Channel)</em> - Scales rim lighting contribution by the specified vertex color channel.
</li> <li> <em>Base Texture (Channel)</em> - Scales rim lighting contribution by the specified base texture color channel.
</li> <li> <em>Mask Texture (Channel)</em> - Scales rim lighting contribution by the specified mask texture color channel.
</li> <li> <em>Normal Texture Alpha</em> - Scales rim lighting by the normal map's alpha channel.  You must supply a valid Normal Texture for this to work.
</li></ul>
</li></ul>
<img src="rsrc/Three/MobileMaterialReference/rim_color.jpg" alt="rim_color.jpg" width="400" height="400" /><img src="rsrc/Three/MobileMaterialReference/rim_mask.jpg" alt="rim_mask.jpg" width="400" height="400" /> <ul>
<li> <strong>Mobile Rim Lighting Color</strong> - Sets the color of the rim lighting effect.  There is no performance cost to changing this setting.
</li></ul>
<img src="rsrc/Three/MobileMaterialReference/rim_default.jpg" alt="rim_default.jpg" width="400" height="400" /><img src="rsrc/Three/MobileMaterialReference/rim_color.jpg" alt="rim_color.jpg" width="400" height="400" />
<p />
<a name="BumpOffsetAnchor"></a>
<h3><a name="Bump Offset"></a> Bump Offset </h3>
<p />
These properties allow you to enable a 'bump offset' effect that simulates a very primitive form of parallax displacement texture sampling.  Basically this gives the appearance of 3D depth to your material based on the viewer's location. Note that bump offset needs to be applied in the World Properties. See <a href="DesigningForMobile.html#PerLevelAnchor" class="twikiAnchorLink">this section</a> for more info.
<p /> <ul>
<li> <strong>Use Mobile Bump Offset</strong> - Enables the bump offset effect.  <strong>Important:</strong> When enabled, a Mask Texture must be set.  The <em>Mask Texture's red channel</em> will be used to sample the bump offset height at every texel.  You must remember to bind a Mask Texture if you want to use bump offset effects on mobile platforms.  Enabling this feature has a fairly high performance cost.
</li></ul>
<img src="rsrc/Three/MobileMaterialReference/bump_none.jpg" alt="bump_none.jpg" width="300" height="300" /><img src="rsrc/Three/MobileMaterialReference/bump_default.jpg" alt="bump_default.jpg" width="300" height="300" /> <ul>
<li> <strong>Mobile Bump Offset Reference Plane</strong> - Specifies the approximate height in texture space to apply the effect. A value of 0 will appear to distort the texture completely off the surface, whereas a value of 0.5 (the default) means that some of the surface will pop off while some areas will be sunken.
</li></ul>
<img src="rsrc/Three/MobileMaterialReference/bump_ref0.jpg" alt="bump_ref0.jpg" width="300" height="300" /><img src="rsrc/Three/MobileMaterialReference/bump_ref1.jpg" alt="bump_ref1.jpg" width="300" height="300" /><img src="rsrc/Three/MobileMaterialReference/bump_ref2.jpg" alt="bump_ref2.jpg" width="300" height="300" /> <ul>
<li> <strong>Mobile Bump Offset Height Ratio</strong> - Multiplies the depth. The bigger the value, the more extreme the depth will be. Typical values range from .02 to .1.
</li></ul>
<img src="rsrc/Three/MobileMaterialReference/bump_height0.jpg" alt="bump_height0.jpg" width="300" height="300" /><img src="rsrc/Three/MobileMaterialReference/bump_height1.jpg" alt="bump_height1.jpg" width="300" height="300" /><img src="rsrc/Three/MobileMaterialReference/bump_height2.jpg" alt="bump_height2.jpg" width="300" height="300" />
<p />
<h3><a name="Masking"></a> Masking </h3>
<p />
The mask texture is a 'general purpose' texture that is used by various other mobile material features, such as bump offset or emissive/environment scaling.  You'll only need to set it up when another feature you're using requires it.
<p />
   <strong>Mobile Mask Texture</strong> - Sets the texture to as the mask texture.  Mask textures have various uses depending on the other features enabled in this material.  Examples of information that can be stored in the mask texture are: Bump Offset amount, Detail Texture blend factor, Emissive/Environment/Rim Light Masking.
<p />
   <strong>Mobile Mask Texture Tex Coords Source</strong> - Selects the vertex texture coordinate set to use when sampling the mask texture.  You can a single UV set to use from up to the four available UV sets.
<p />
<h3><a name="Texture Blending"></a> Texture Blending </h3>
<p />
These settings let you apply an additional texture to your material by blending it with your base texture.  It's also possible to animate this second texture by using the Texture Transform properties.
<p /> <ul>
<li> <strong>Mobile Detail Texture</strong> - Sets the 'detail texture' to use for this material.  Detail textures are usually used for blending between textures, or to blend an animated texture with the base texture.  When a detail texture is set, it will be blended with the base texture using the value configured in the 'Mobile Texture Blend Factor Source' property.  Setting a detail texture will cost some performance as it introduces an extra texture to sample.
</li></ul>
<img src="rsrc/Three/MobileMaterialReference/blend_none.jpg" alt="blend_none.jpg" width="400" height="400" /><img src="rsrc/Three/MobileMaterialReference/blend_mask.jpg" alt="blend_mask.jpg" width="400" height="400" /> <ul>
<li> <strong>Mobile Detail Texture Tex Coords Source</strong> - Selects the vertex texture coordinate set to use for the detail texture.  Note that by default, the second UV set from the mesh is used for the detail texture.  You can select from any of the four possible UV sets to use.  Changing this setting usually has no significant performance impact.
</li></ul>
<p /> <ul>
<li> <strong>Mobile Texture Blend Factor Source</strong> - Selects where the 'alpha' value that's used to blend between the base texture and the detail texture comes from.  You can either use the vertex color stored in the mesh, or a separate texture mask set using the 'Mobile Detail Texture' property.  Usually, using a separate detail texture as the mask is more expensive that using a vertex color.
</li></ul>
<img src="rsrc/Three/MobileMaterialReference/blend_tex.jpg" alt="blend_tex.jpg" width="400" height="400" /> <ul>
<li> <strong>Lock Color Blending</strong> - This is an advanced feature that allows this material to use texture blending even when forcibly disabled by the platform's system settings.  You can think of this as allowing you to override system settings in order to create special case materials.  In general, you should never turn this on.
</li></ul>
<p />
<h3><a name="Color Blending"></a> Color Blending </h3>
<p />
These settings let you apply painted vertex colors to your mobile material, or apply a single uniform color scaling to the entire material.
<p />
   <strong>Use Mobile Uniform Color Multiply</strong> - When enabled, scales the material's color by the color value specified in 'Default Uniform Color'.  Enabling this has a very minor performance cost.
<p />
   <strong>Default Uniform Color</strong> - Sets the color to scale the material by when 'Use Mobile Uniform Color Multiply' is enabled.  There is no performance cost to changing this setting.
<p />
   <strong>Use Mobile Vertex Color Multiply</strong> - Turns on vertex color scaling.  This is useful when you've painted vertex colors into the mesh and want to use those when rendering, or when using particle systems that have vertex color animation.  There is only a small performance cost to enabling this feature. If you attempt to use this option with a mesh which does not have vertex color data, then the material will fallback to a glaring pink  to allow easy identification of the issue.
<p />
<img src="rsrc/Three/MobileMaterialReference/VertexColorNoVertices.jpg" alt="VertexColorNoVertices.jpg" width="400" height="400" />
<p />
   <strong>Mobile Color Multiply Source</strong> - This option is available to allow a user to manipulate where they would like to apply the color blend. Given a simple material using the left texture as the Base Texture and the right as a Mask Texture
   <img src="rsrc/Three/MobileMaterialReference/ColorMultiplySourceBaseTexture.jpg" alt="ColorMultiplySourceBaseTexture.jpg" width="400" height="400" /><img src="rsrc/Three/MobileMaterialReference/ColorMultiplySourceMaskTexture.jpg" alt="ColorMultiplySourceMaskTexture.jpg" width="400" height="400" />
<p />
If you enable a color multiply option and Choose a channel from this drop down, you can manipulate certain areas of the material. The left image shows no blending, the next is using a default uniform color with the Mask Textures Red Channel, whilst the final is using a default uniform color with the Mask Textures Blue Channel
<p />
<img src="rsrc/Three/MobileMaterialReference/ColorMultiplySourceNoBlendEnabled.jpg" alt="ColorMultiplySourceNoBlendEnabled.jpg" width="400" height="400" /><img src="rsrc/Three/MobileMaterialReference/ColorMultiplySourceMaskRed.jpg" alt="ColorMultiplySourceMaskRed.jpg" width="400" height="400" /><img src="rsrc/Three/MobileMaterialReference/ColorMultiplySourceMaskBlue.jpg" alt="ColorMultiplySourceMaskBlue.jpg" width="400" height="400" />
<p />
<h3><a name="Texture Transform"></a> Texture Transform </h3>
<p />
These settings allow you to animate your materials!  You can dynamically translate, rotate and scale texture UVs for either the base texture or detail texture.  You can also apply a fixed scale to the texture UVs, or even apply simple sine-based oscillation.
<p /> <ul>
<li> <strong>Use Mobile Texture Transform</strong> - If true, transform effects will be enabled for this material.  There is a medium performance cost when this feature is turned on.
</li></ul>
<p /> <ul>
<li> <strong>Mobile Texture Transform Target</strong> - Selects which texture's UV set should be transformed, either the base texture or the detail texture.
</li></ul>
<p /> <ul>
<li> <strong>Transform Center X</strong> - Specifies the center of transformation in X for any rotation or scaling transformations.
</li></ul>
<p /> <ul>
<li> <strong>Transform Center Y</strong> - Specifies the center of transformation in Y for any rotation or scaling transformations.
</li></ul>
<p /> <ul>
<li> <strong>Panner Speed X</strong> - Specifies the speed at which the texture should pan in X.
</li></ul>
<p /> <ul>
<li> <strong>Panner Speed Y</strong> - Specifies the speed at which the texture should pan in Y.
</li></ul>
<p /> <ul>
<li> <strong>Rotate Speed</strong> - Specifies the speed at which the texture should rotate. Positive values are clockwise. Negative values are counter-clockwise.
</li></ul>
<p /> <ul>
<li> <strong>Fixed Scale X</strong> - Specifies the amount the texture should be scaled in X.
</li></ul>
<p /> <ul>
<li> <strong>Fixed Scale Y</strong> - Specifies the amount the texture should be scaled in Y.
</li></ul>
<p /> <ul>
<li> <strong>Sine Scale X</strong> - Specifies the amount the sine wave should be scaled in X for an oscillation effect.
</li></ul>
<p /> <ul>
<li> <strong>Sine Scale Y</strong> - Specifies the amount the sine wave should be scaled in Y for an oscillation effect.
</li></ul>
<p /> <ul>
<li> <strong>Sine Scale Frequency Multiplier</strong> - A multiplier for the frequency used with any oscillation effects.
</li></ul>
<p />
<h3><a name="Vertex Animation"></a> Vertex Animation </h3>
<p />
These properties can be used to configure special vertex animation effects.  Typically these are used to procedurally animate foliage, flags or cloth using a simple parametric animation effect.  Compared to skeletal animation, this type of animation is very cheap as it's performed by the graphics hardware.
<p /> <ul>
<li> <strong>Use Mobile Wave Vertex Movement</strong> - Turns on GPU-based vertex animation for this material.  This adds significant performance overhead when enabled.
</li></ul>
<p /> <ul>
<li> <strong>Mobile Tangent Vertex Frequency Multiplier</strong> - This movement is perpendicular to the vector from the center line of the object to the vertex.  It offers a bit of side-to-side sinusoidal movement to simulate wind (for trees, flags, etc).  A value of 1 indicates the movement will cycle after 1 second.
</li></ul>
<p /> <ul>
<li> <strong>Mobile Vertical Frequency Multiplier</strong> - Similar to the tangent movement, this setting offers up-and-down sinusoidal movement along the world z-axis.  A value of 1 indicates the movement will cycle after 1 second.  Normally, this value is kept offset from the tangent vertex frequency multiplier to avoid the appearance of looping.
</li></ul>
<p /> <ul>
<li> <strong>Mobile Max Vertex Movement Amplitude</strong> - The distance from the unaltered world position at the peak of either the tangential of vertical sine waves.  This value is multiplied by the <strong>red</strong> channel of the vertex color painted on the mesh.  <em>If no vertex color is painted, no movement will be applied.</em>
</li></ul>
<p /> <ul>
<li> <strong>Mobile Sway Frequency Multiplier</strong> - Using the objects y-axis (transformed into world space) and the object location, the sway movement offers a full object rotation to, for example, simulate the sway of a tree's canopy.  This multiplier is used to speed up or slow down a standard 1 second cycle.
</li></ul>
<p /> <ul>
<li> <strong>Mobile Sway Max Angle</strong> - The maximum angle at the peak of sine wave for sway.  This value is multiplied by the <strong>green</strong> channel of the vertex color painted on the mesh.  <em>If no vertex color is painted, no movement will be applied.</em>
</li></ul>
<p />
<h2><a name="Flattening"></a> Flattening </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
Unreal Engine supports automatic generation of textures for mobile using a feature called 'Auto Flatten'.
<p />
You can use the material flattening feature to collapse your shader network into a single texture that can be used on mobile platforms.  This works by rendering the complete shader network material into a texture.  Obviously, features that rely on camera positions or animation won't bake to a texture very well, but often the results are still quite useful, even with very complex graph networks.
<p />
To enable flattening, simply turn on the 'Auto Flatten Mobile' material property and clear the 'Mobile Base Texture'.  Next time the material is saved, the editor will generate and assign new asset for the flattened texture.
<p />
The size of the flattened texture is based on the largest texture used in the material. See the FlattenedTextureResolutionBias description below for how it is calculated.
<p />
<strong>Note:</strong> Texture flattening may make it easier to port existing or complex materials to mobile platforms, but in general we recommended to create content that is specifically optimized for mobile rendering.
<p />
<h3><a name="Configuring Flattening"></a> Configuring Flattening </h3>
<p />
Texture flattening has a few .ini configuration values that must be set correctly for your game.  These are:
<p />
<pre>
&#91;MobileSupport]
bShouldFlattenMaterials&#61;True
</pre>
<p />
This enables saving of flattened textures to new assets.  Without enabling this feature, flattened textures will not be generated even when 'Auto Flatten Mobile' is turned on in the material's properties.
<p />
<pre>
&#91;MobileSupport]
FlattenedTextureResolutionBias&#61;1
</pre>
<p />
This sets the resolution bias for flattened textures.  The higher this number, the lower resolution the generated textures will be.  For example, a graph network material that has 512x512 as the largest texture will flatten to a 256x256 texture when FlattenedTextureResolutionBias is set to 1.
<p />
<h2><a name="Lightmass and Mobile Materials"></a> Lightmass and Mobile Materials </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
While the mobile renderer will not use the shader graph network for rendering, Lightmass will still use this information for computing bounced light, baking normal map textures, etc.  Similarly, the main editor viewport will use the shader network to render primitives.
<p />
This means that you'll want to keep the graph network reasonably consistent with the mobile-specific settings, simply so that editor preview and Lightmass calculations match your mobile graphics properly.
<p />
<h3><a name="Modifying lightmaps"></a> Modifying lightmaps </h3>
<p />
You can bake normal mapped lighting into Lightmass-generated lightmaps by enabling the 'Use Normal Maps for Simple Lightmaps' option in your level's WorldInfo properties.  Just make sure you've configured a normal map in the shader network portion of your material so that Lightmass can find it.
<p />
Additionally, you can modify a lightmap with a texture (to add per-instance dirtiness, etc) by using the <code>SimpleLightmapModificationTexture</code> and <code>SimpleLightmapModificationFunction</code> properties in the MobileSettings settings group on a StaticMeshComponent.
<p />
<h2><a name="Mobile Shader Generation"></a> Mobile Shader Generation </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
Mobile shaders can only be compiled at runtime due to limitations with OpenGL ES2. In an effort to reduce loading time and runtime hitches due to shader compilation, the cooking process generates "keys" for each Material needed by the game. Materials that share the same keys only have to have their shaders compiled once. During load time, shaders that were preprocessed by the coooker are compiled. The remaining shaders are compiled when first used. Other materials using the same shader (determined by equivalent keys) will then be able to access it by its key value without recompiling. The more shaders that can use the same key means less time spent compiling unique shaders.
The keys are generated based on features enabled for the material. These features are things like alpha testing, rim lighting, emissive settings, fog settings, etc... If you find your game frequently hitching or having long load times, it may be due to shader compilation. In general, the more permuations of material settings in your game, the more unique keys that are generated which means more time spent compiling shaders.
<p />
<p />
<!--  -->
<p />
<h2><a name="Other Notes"></a> Other Notes </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p /> <ul>
<li> Shaders are compiled on the device during startup, which can greatly affect your game's boot time. Using different material setting combinations will cause unique shaders to be compiled. Note that two identical materials with only different textures will not cause two shaders to be compiled, only one.
</li></ul>
<p /> <ul>
<li> Certain material properties like <code>BlendMode</code> and <code>LightingModel</code> are still respected, even in the mobile renderer, with some restrictions.  You can create translucent or additive materials just like you normally would.  Similarly, the various <code>usage</code> flags are still used to delineate between decal materials, particle materials, etc.  You should make sure these settings are configured correctly, like with regular Unreal materials.
</li></ul>
<p /> <ul>
<li> Remember that dynamic lighting features are very limited on mobile right now.  Directional lights are fairly well-supported and some sky lighting/light environment features will work on characters.  Static lights baked into light maps work great.  However, may other combinations of light and shadow settings are not yet supported.  For example, multiple direct lights affecting a single primitive is only supported in special cases (light environment influence).
</li></ul>
<p /> <ul>
<li> Currently, sky lights are always enabled for dynamically-lit skeletal meshes.  These use light environments to compute an <code>Up</code> and <code>Down</code> color, then render using the settings configured in your material.
</li></ul>
<p /> <ul>
<li> Fog is supported on mobile but it works differently than on other platforms.  Instead of fog volumes, level-specific distance-based fog settings are configured in the level's World Properties. See <a href="DesigningForMobile.html#PerLevelAnchor" class="twikiAnchorLink">Per-level Rendering Settings</a> for more information.  Individual materials can opt out of being fogged using the <code>Allow Mobile Fog</code> option.
</li></ul>
<p /> <ul>
<li> <a href="GammaCorrection.html" class="twikiLink">Gamma Correction</a> is supported on mobile devices, but can cause performance issues on all but the most powerful devices. See the <a href="DesigningForMobile.html#Gamma" class="twikiAnchorLink">Gamma</a> section for information on creating content for use with non-gamma corrected devices.
</li></ul>
<p /> <ul>
<li> Mobile devices use the SimpleLightmaps (no directional lighting information is baked in). Simple lightmaps have a fixed color scale of 2.0, which means that lightmaps cannot brighten the diffuse texture by more than 2 times.
</li></ul>
<p /> <ul>
<li> Materials created using mobile switches will not display the effects set with those switches in the editor. This is because the editor uses Direct3D and mobile devices use OpenGL ES2 and require different shaders to display the effects.  Use the mobile previewer to view your materials as they will appear on device.
</li></ul>
<p />
</noautolink>
<p />
<p />
<p />
<p />
<p />
<p />


<!-- BEGIN UE4 NOTICE -->



<div id="version_message" style="display:none;">

    <div style="position:fixed;top:0px;left:0px;width:100%;height:100%;background:#000;opacity:0.5;">

    </div>

    <div style="position:fixed;top:50%;left:50%;margin:-70px 0px 0px -240px;background:#FFF;border-radius:6px;width:480px;box-shadow:0px 5px 30px -5px rgba(0,0,0,0.9);">

        <div style="font-size:16px;font-weight:bold;background: url(rsrc/Three/warning.png) no-repeat scroll 5px 5px;padding:4px 10px 5px 25px;height:21px;width:440px;">

            Important!

        </div>

        <div style="font-size:11px;padding:5px 10px 10px;width:460px;">

            <p>You are viewing documentation for the <strong>Unreal Development Kit (UDK)</strong>.</p>



            <p>If you are looking for the Unreal Engine 4 documentation, please visit the <a style="color:#000;" href="https://docs.unrealengine.com">Unreal Engine 4 Documentation</a> site.</p>

        </div>

        <div style="height:20px;padding:4px;margin:6px;border-top:1px solid #a0a0a0;">

            <form onsubmit="return closeVersionMessage();">

                <input type="checkbox" id="dismiss" value="dismiss" />

                <label for="dsimiss">Don't show me this again</label>

                <input type="submit" value="Close" style="cursor:pointer;float:right;width:60px;color:#f0f0f0;font-weight:bold;background:#882222;height:24px;padding:2px 3px 3px;text-align:center;border:1px outset #000;" />

            </form>

        </div>

    </div>

</div>



<script type="text/javascript">

    window.onload = function () {

        LoadVersionMessage();

    }



    function LoadVersionMessage()

    {

        var showMessage = "false";
        if(showMessage != "false")

        {

            showVersionMessage();

        }

    }



    function showVersionMessage()

    {

        var message = document.getElementById("version_message");

        if(message)

        {

            message.style.display = "block";

        }

    }



    function closeVersionMessage() {

        var dismiss = document.getElementById("dismiss");

        var message = document.getElementById("version_message");

        if (message) {

            message.style.display = "none";

        }

        if (dismiss.checked) {

            eraseCookie("doc_version_message");

            createCookie("doc_version_message", "false", 365);

            dismiss.checked = false;

        }

        return false;

    }



    function createCookie(name, value, days) {

        if (days) {

            var date = new Date();

            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));

            var expires = "; expires=" + date.toGMTString();

        }

        else var expires = "";

        document.cookie = name + "=" + value + expires + "; path=/";

    }



    function readCookie(name) {

        var nameEQ = name + "=";

        var ca = document.cookie.split(';');

        for (var i = 0; i < ca.length; i++) {

            var c = ca[i];

            while (c.charAt(0) == ' ') c = c.substring(1, c.length);

            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);

        }

        return null;

    }



    function eraseCookie(name) {

        createCookie(name, "", -1);

    }

</script>



<!-- END UE4 NOTICE -->



</div></div><div id="footer"><div style="BACKGROUND-COLOR: transparent; margin: 0; padding: 0; width: 100%;"><div>&nbsp;</div><div style="float: left; text-align: left; vertical-align: bottom; width: 50%;"><a href="http://www.videogamevoters.org"><img src="rsrc/vgvn.jpg" border="0" width="234" height="60" alt="Video Game Voters Network" /></a></div><div style="float: right; text-align: right; vertical-align: bottom; width: 50%;">Copyright &copy; 2001-2012 <a href="http://www.epicgames.com" target="_top">Epic Games, Inc.</a><br /><a href="../Main/TermsAndConditions.html" class="twikiLink">Terms and Conditions</a><br /><a href="http://epicgames.com/privacynotice" target="_top">Privacy Notice</a></div></div></div></div>
<p />
</html></body>
