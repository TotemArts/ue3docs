<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title> UDK | MOBAKitSpells    </title>

<style type="text/css" media="all">@import "rsrc/twiki_webs.css";</style>
<style type="text/css" media="all">@import "rsrc/udn_new.css";</style>
<link rel="icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />


<!-- view.static_udn3.tmpl  -->
<script language="JavaScript" type="text/javascript" src="rsrc/udn.js"></script>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

</head>
<p />
<body id="webbgThree">
<p />

<p />
<div id="webThree"><div id="head">
<!--
<div class="header">
 -->
<div style="background: url(/pub/webbg_udn.jpg); background-repeat: no-repeat; height:140px; width: 100%;" >
<!--
<div style="background: transparent url(/pub/udn_header_bg.jpg); background-repeat: repeat-x; height:140px; width: 100%; margin-left: 991px;">
 -->
<p />
<div id="nav">
<ul class="nav">
<font color=black>|</font>&nbsp;&nbsp;<li class=nav_Three><a href="../Main/WebHome.html" class="twikiLink">Main</a></li><font color=black>|</font><li class=nav_Three><a href="../Two/WebHome.html" class="twikiLink">UnrealEngine2</a></li><font color=black>|</font><li class=nav_Three><a href="WebHome.html" class="twikiLink">UnrealEngine3</a></li><font color=black>|</font><li class=nav_Three><a href="https://docs.unrealengine.com" class="twikiLink">UnrealEngine4</a></li><font color=black>|</font><li class=nav_Three><a href="../Main/BusinessAndLegal.html" class="twikiLink">Business &amp; Legal</a></li><font color=black>|</font>
</ul><br><br><br>
</div>
</div>
</div> <!-- end head -->
<div id="pagedefault">
<div id="maincol">
<div id="tool">
<div id="tooltop">UDN</div>
<div id="tooltext" style="padding: 10px 10px 10px 10px;">
Search public documentation: <br>
<form ACTION="/search/index.php" METHOD="GET" NAME="main" ID="main">
<input TYPE="TEXT" NAME="q" SIZE="15" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;">
<input TYPE="SUBMIT" VALUE="Search" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;"><br>
</form>
</div>
<div id="toolband">MOBAKitSpells  </b></div>
<div id="tooltext">
<a href="https://udn.epicgames.com/Three/MOBAKitSpellsJP" class="restricted" class="restricted" class="twikiLink">日本語訳</a><br><a href="MOBAKitSpellsCH.html" class="twikiLink">中国翻译</a><br><a href="MOBAKitSpellsKR.html" class="twikiLink">한국어</a><br>

<!-- Three/MOBAKitSpells -->
<hr size="1" noshade="noshade" />
Interested in the Unreal Engine? <br>
Visit the <a href="http://www.unrealtechnology.com" target="_top">Unreal Technology</a> site.<br>
<br>
Looking for jobs and company info? <br>
Check out the <a href="http://www.epicgames.com" target="_top">Epic games</a> site.<br>
<br>
Questions about support via UDN? <br>
Contact the <a href="../Main/ContactUDNStaff.html" class="twikiLink">UDN Staff</a> <br>
<br>
</div> <!-- end toolbox content -->
<div id="toolbottom"></div>
</div> <!-- end tool -->
<p />
<noautolink>
<div style="padding:0px 0px 0px 4px;font:10px Verdana;">
<style type="text/css" media="all">@import "rsrc/UDNCSS_test.css";</style>
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="DevelopmentKitGems.html" class="twikiLink">Unreal Development Kit Gems</a></b> &gt; <b><a href="MOBAKit.html" class="twikiLink">MOBA Starter Kit</a></b> &gt; Spells <br/>
</div>
<hr size="1" noshade="noshade">
<p />
<h1><a name="MOBA Starter Kit - Spells"></a> MOBA Starter Kit - Spells </h1>
<hr size="1" noshade="noshade">
<p />
<strong><em>Last tested against UDK May, 2012</em></strong>
<p />
<div class="twikiToc"> <ul>
<li> <a href="MOBAKitSpells.html#MOBA Starter Kit - Spells"> MOBA Starter Kit - Spells</a> <ul>
<li> <a href="MOBAKitSpells.html#Overview"> Overview</a>
</li> <li> <a href="MOBAKitSpells.html#What's a aiming spell?"> What's a aiming spell?</a>
</li> <li> <a href="MOBAKitSpells.html#What's a passive spell?"> What's a passive spell?</a>
</li> <li> <a href="MOBAKitSpells.html#What's a simple spell?"> What's a simple spell?</a>
</li> <li> <a href="MOBAKitSpells.html#What's a toggle spell?"> What's a toggle spell?</a>
</li> <li> <a href="MOBAKitSpells.html#UDKMOBASpell"> UDKMOBASpell</a> <ul>
<li> <a href="MOBAKitSpells.html#Functions"> Functions</a>
</li> <li> <a href="MOBAKitSpells.html#Variables"> Variables</a>
</li></ul>
</li> <li> <a href="MOBAKitSpells.html#How do I make a new spell?"> How do I make a new spell?</a>
</li></ul>
</li></ul>
</div>
<p />
<h2><a name="Overview"></a> Overview </h2>
<hr size="1" noshade="noshade">
Spells are a way for players to interact with creeps, heroes, tower and the world. They often can perform a multitude of things and can be set up in many different ways. Spells can be aimings, passives, simples and toggles. These four usually represent the majority of spell types in most games. Spells are synonymous with abilities and skills.
<p />
<h2><a name="What's a aiming spell?"></a> What's a aiming spell? </h2>
<hr size="1" noshade="noshade">
<p />
<img src="rsrc/Three/MOBAKitSpells/MOBAKitAimingSpell.jpg" alt="MOBAKitAimingSpell.jpg" width='800' height='453' />
<p />
An aiming spell is a spell which requires further input from the player. An aiming spell is often used when the spell required a target or an area defined. This allows game designers to make spells which only affect creeps, heroes, towers or an area within the world.
<p />
<h2><a name="What's a passive spell?"></a> What's a passive spell? </h2>
<hr size="1" noshade="noshade">
<p />
<img src="rsrc/Three/MOBAKitSpells/MOBAKitPassiveSpell.jpg" alt="MOBAKitPassiveSpell.jpg" width='800' height='453' />
<p />
A passive spell is a spell which is always active when conditions are met. This is often used for creating a radial buff or debuff.
<p />
<h2><a name="What's a simple spell?"></a> What's a simple spell? </h2>
<hr size="1" noshade="noshade">
A simple spell is a spell which is activated by the player and it does something. It can be used as a single shot weapon for example.
<p />
<h2><a name="What's a toggle spell?"></a> What's a toggle spell? </h2>
<hr size="1" noshade="noshade">
A toggle spell is a spell which can be activated or deactivated by the player. It can trigger something when the spell is being activated, deactivated or currently active. This could be used to create a temporary buff for other players but a debuff for the hero that owns the spell for example.
<p />
<h2><a name="UDKMOBASpell"></a> UDKMOBASpell </h2>
<hr size="1" noshade="noshade">
UDKMOBASpell is mostly a utility class to handle aspects such as cool down, a generic interface to use the spells and to store data about the spells. Note that we 'activate' a spell, which causes animations to start. After an 'activation time', we then 'cast' the spell, which actually deals damage/spawns a projectile/whatever. There can then be return animations, although once the 'cast' is made, other commands can be queued.
<p /> <ol>
<li> Player decides to use a spell.
</li> <li> Player optionally aims the spell.
</li> <li> The spell activates, effects spawn, animations start.
</li> <li> An activation time passes. If the spell is channeling, this is 0 seconds.
</li> <li> The spell casts, damage is deal, particles are spawned, reverse animations.
</li> <li> A cast time passes. If the spell is channeling, this can be interrupted.
</li></ol>
<p />
<h3><a name="Functions"></a> Functions </h3> <ul>
<li> <strong>ReplicatedEvent()</strong> - This is called when a variable flagged as RepNotify has been replicated to the client. This is used for catching when clients should initialize the spell, play effects when the spell is activated or casted.
</li> <li> <strong>ClientSetOwner()</strong> - This is a remote procedure call from the server to the client which passes the Owner.
</li> <li> <strong>Initialize()</strong> - This is called when the spell should be initialized. This function caches the pawn that owns this spell, and allows subclasses to cache other things as well.
</li> <li> <strong>SendPlayerMessage()</strong> - This is called when the spell should send the local player a message of some sort. This can range from telling the player that there isn't enough mana to cast or that the spell isn't ready.
</li> <li> <strong>CanCast()</strong> - This returns true if the spell can be cast or not.
</li> <li> <strong>GetManaCost()</strong> - This returns the current mana cost of the spell.
</li> <li> <strong>GetActivationTime()</strong> - This returns the current activation time of the spell.
</li> <li> <strong>GetCooldownTime()</strong> - This returns the current cool down time of the spell.
</li> <li> <strong>Activate()</strong> - This activates the spell.
</li> <li> <strong>SetTargetsFromAim()</strong> - This sets the target based on the input aim location, aim direction and how the spell targets.
</li> <li> <strong>ActivateEffects()</strong> - This is called when the spell has been activated.
</li> <li> <strong>Cast()</strong> - This casts the spell.
</li> <li> <strong>PerformCast()</strong> - This handles the spell's interaction logic. Spells should sub class this to do make their thing.
</li> <li> <strong>CastEffects()</strong> - This is called when the spell has been casted.
</li> <li> <strong>CooldownTimer()</strong> - This is called when the cool down timer has triggered.
</li> <li> <strong>AdjustDamage()</strong> - This adjusts the damage before applying it to the pawn owner. This iterates over all of the spells and items to allow them to adjust damage.
</li></ul>
<p />
<h3><a name="Variables"></a> Variables </h3> <ul>
<li> <strong>Spell</strong> <ul>
<li> <strong>IconName</strong> - Name of the texture to use for the spell icon in the UI. This should match the name of the frame within the icon GFx movie clip.
</li> <li> <strong>MaxLevel</strong> - The maximum level that the spell can be upgraded to.
</li> <li> <strong>ManaCost</strong> - Mana cost to use the active ability of this spell. The level of the spell is used to index this array.
</li> <li> <strong>HasActive</strong> - Whether this spell has an active ability at all. This is usually set false for passive spells.
</li> <li> <strong>AimingType</strong> - Whether this spell needs the user to choose where to fire it.
</li></ul>
</li> <li> <strong>Aim</strong> <ul>
<li> <strong>DecalMaterial</strong> - Decal material to use, only on PC. This is used to represents where the player is currently aiming this spell.
</li> <li> <strong>DecalSize</strong> - This is the size that the decal should be when it is used as a visual targeting marker.
</li></ul>
</li> <li> <strong>Active</strong> <ul>
<li> <strong>ActivatingSoundCue</strong> - Sound to play when activating the spell.
</li> <li> <strong>ActivatingParticleTemplate</strong> - Particle effect to instance when activating the spell.
</li> <li> <strong>CastingSoundCue</strong> - Sound to play when casting the spell.
</li> <li> <strong>CastingParticleTemplate</strong> - Particle effect to instance when casting the spell.
</li> <li> <strong>CooldownTime</strong> - Cooldown time. Time it takes for this spell to refresh after it has been cast. The level of the spell is used to index this array.
</li> <li> <strong>ActivationTime</strong> - How long (in seconds) from triggering the ability before damage/etc is actually dealt. The level of the spell is used to index this array.
</li> <li> <strong>AttackType</strong> - What sort of attack type a projectile or damage given uses.
</li></ul>
</li></ul>
<p />
<h2><a name="How do I make a new spell?"></a> How do I make a new spell? </h2>
<hr size="1" noshade="noshade">
New spells are created by first making a new class which derives from UDKMOBASpell. From here, the usual point of entry that you will be using is <strong>PerformCast()</strong>. If your spell is quite different, then it may be a good idea to have a look at the Cathode and DemoGuy examples for further modifications.
<p />
<img src="rsrc/Three/MOBAKitSpells/MOBAKitSpellCreateArchetype.jpg" alt="MOBAKitSpellCreateArchetype.jpg" width='496' height='648' />
<p />
After you've created the new spell class, you then create an archetype for it using Unreal Editor.
<p />
<img src="rsrc/Three/MOBAKitSpells/MOBAKitSpellSetupArchetype.jpg" alt="MOBAKitSpellSetupArchetype.jpg" width='424' height='621' />
<p />
Once created, you can tweak the variables that are exposed to the Editor.
<p />
<img src="rsrc/Three/MOBAKitSpells/MOBAKitSpellAssignSpell.jpg" alt="MOBAKitSpellAssignSpell.jpg" width='685' height='629' />
<p />
Finally, you assign the spell archetype to the UDKMOBAHero archetype so that the hero starts with that spell.
<p />
</noautolink>
<p />
<p />
<p />
<p />
<p />
<p />


<!-- BEGIN UE4 NOTICE -->



<div id="version_message" style="display:none;">

    <div style="position:fixed;top:0px;left:0px;width:100%;height:100%;background:#000;opacity:0.5;">

    </div>

    <div style="position:fixed;top:50%;left:50%;margin:-70px 0px 0px -240px;background:#FFF;border-radius:6px;width:480px;box-shadow:0px 5px 30px -5px rgba(0,0,0,0.9);">

        <div style="font-size:16px;font-weight:bold;background: url(rsrc/Three/warning.png) no-repeat scroll 5px 5px;padding:4px 10px 5px 25px;height:21px;width:440px;">

            Important!

        </div>

        <div style="font-size:11px;padding:5px 10px 10px;width:460px;">

            <p>You are viewing documentation for the <strong>Unreal Development Kit (UDK)</strong>.</p>



            <p>If you are looking for the Unreal Engine 4 documentation, please visit the <a style="color:#000;" href="https://docs.unrealengine.com">Unreal Engine 4 Documentation</a> site.</p>

        </div>

        <div style="height:20px;padding:4px;margin:6px;border-top:1px solid #a0a0a0;">

            <form onsubmit="return closeVersionMessage();">

                <input type="checkbox" id="dismiss" value="dismiss" />

                <label for="dsimiss">Don't show me this again</label>

                <input type="submit" value="Close" style="cursor:pointer;float:right;width:60px;color:#f0f0f0;font-weight:bold;background:#882222;height:24px;padding:2px 3px 3px;text-align:center;border:1px outset #000;" />

            </form>

        </div>

    </div>

</div>



<script type="text/javascript">

    window.onload = function () {

        LoadVersionMessage();

    }



    function LoadVersionMessage()

    {

        var showMessage = "false";
        if(showMessage != "false")

        {

            showVersionMessage();

        }

    }



    function showVersionMessage()

    {

        var message = document.getElementById("version_message");

        if(message)

        {

            message.style.display = "block";

        }

    }



    function closeVersionMessage() {

        var dismiss = document.getElementById("dismiss");

        var message = document.getElementById("version_message");

        if (message) {

            message.style.display = "none";

        }

        if (dismiss.checked) {

            eraseCookie("doc_version_message");

            createCookie("doc_version_message", "false", 365);

            dismiss.checked = false;

        }

        return false;

    }



    function createCookie(name, value, days) {

        if (days) {

            var date = new Date();

            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));

            var expires = "; expires=" + date.toGMTString();

        }

        else var expires = "";

        document.cookie = name + "=" + value + expires + "; path=/";

    }



    function readCookie(name) {

        var nameEQ = name + "=";

        var ca = document.cookie.split(';');

        for (var i = 0; i < ca.length; i++) {

            var c = ca[i];

            while (c.charAt(0) == ' ') c = c.substring(1, c.length);

            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);

        }

        return null;

    }



    function eraseCookie(name) {

        createCookie(name, "", -1);

    }

</script>



<!-- END UE4 NOTICE -->



</div></div><div id="footer"><div style="BACKGROUND-COLOR: transparent; margin: 0; padding: 0; width: 100%;"><div>&nbsp;</div><div style="float: left; text-align: left; vertical-align: bottom; width: 50%;"><a href="http://www.videogamevoters.org"><img src="rsrc/vgvn.jpg" border="0" width="234" height="60" alt="Video Game Voters Network" /></a></div><div style="float: right; text-align: right; vertical-align: bottom; width: 50%;">Copyright &copy; 2001-2012 <a href="http://www.epicgames.com" target="_top">Epic Games, Inc.</a><br /><a href="../Main/TermsAndConditions.html" class="twikiLink">Terms and Conditions</a><br /><a href="http://epicgames.com/privacynotice" target="_top">Privacy Notice</a></div></div></div></div>
<p />
</html></body>
