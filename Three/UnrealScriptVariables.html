<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title> UDK | UnrealScriptVariables    </title>

<style type="text/css" media="all">@import "rsrc/twiki_webs.css";</style>
<style type="text/css" media="all">@import "rsrc/udn_new.css";</style>
<link rel="icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />


<!-- view.static_udn3.tmpl  -->
<script language="JavaScript" type="text/javascript" src="rsrc/udn.js"></script>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

</head>
<p />
<body id="webbgThree">
<p />

<p />
<div id="webThree"><div id="head">
<!--
<div class="header">
 -->
<div style="background: url(/pub/webbg_udn.jpg); background-repeat: no-repeat; height:140px; width: 100%;" >
<!--
<div style="background: transparent url(/pub/udn_header_bg.jpg); background-repeat: repeat-x; height:140px; width: 100%; margin-left: 991px;">
 -->
<p />
<div id="nav">
<ul class="nav">
<font color=black>|</font>&nbsp;&nbsp;<li class=nav_Three><a href="../Main/WebHome.html" class="twikiLink">Main</a></li><font color=black>|</font><li class=nav_Three><a href="../Two/WebHome.html" class="twikiLink">UnrealEngine2</a></li><font color=black>|</font><li class=nav_Three><a href="WebHome.html" class="twikiLink">UnrealEngine3</a></li><font color=black>|</font><li class=nav_Three><a href="https://docs.unrealengine.com" class="twikiLink">UnrealEngine4</a></li><font color=black>|</font><li class=nav_Three><a href="../Main/BusinessAndLegal.html" class="twikiLink">Business &amp; Legal</a></li><font color=black>|</font>
</ul><br><br><br>
</div>
</div>
</div> <!-- end head -->
<div id="pagedefault">
<div id="maincol">
<div id="tool">
<div id="tooltop">UDN</div>
<div id="tooltext" style="padding: 10px 10px 10px 10px;">
Search public documentation: <br>
<form ACTION="/search/index.php" METHOD="GET" NAME="main" ID="main">
<input TYPE="TEXT" NAME="q" SIZE="15" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;">
<input TYPE="SUBMIT" VALUE="Search" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;"><br>
</form>
</div>
<div id="toolband">UnrealScriptVariables  </b></div>
<div id="tooltext">
<a href="UnrealScriptVariablesJP.html" class="twikiLink">日本語訳</a><br><a href="UnrealScriptVariablesCH.html" class="twikiLink">中国翻译</a><br><a href="UnrealScriptVariablesKR.html" class="twikiLink">한국어</a><br>

<!-- Three/UnrealScriptVariables -->
<hr size="1" noshade="noshade" />
Interested in the Unreal Engine? <br>
Visit the <a href="http://www.unrealtechnology.com" target="_top">Unreal Technology</a> site.<br>
<br>
Looking for jobs and company info? <br>
Check out the <a href="http://www.epicgames.com" target="_top">Epic games</a> site.<br>
<br>
Questions about support via UDN? <br>
Contact the <a href="../Main/ContactUDNStaff.html" class="twikiLink">UDN Staff</a> <br>
<br>
</div> <!-- end toolbox content -->
<div id="toolbottom"></div>
</div> <!-- end tool -->
<p />
<noautolink>
<p />
<div style="padding:0px 0px 0px 4px;font:10px Verdana;">
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="UnrealScriptHome.html" class="twikiLink">UnrealScript</a></b> &gt; <b><a href="UnrealScriptReference.html" class="twikiLink">UnrealScript Language Reference</a></b> &gt; UnrealScript Variables
</div>
<hr size="1" noshade="noshade">
<h1><a name="UnrealScript Variables"></a> UnrealScript Variables </h1>
<hr size="1" noshade="noshade">
<p />
<div class="twikiToc"> <ul>
<li> <a href="UnrealScriptVariables.html#UnrealScript Variables"> UnrealScript Variables</a> <ul>
<li> <a href="UnrealScriptVariables.html#Overview"> Overview</a>
</li> <li> <a href="UnrealScriptVariables.html#Variable Scope"> Variable Scope</a>
</li> <li> <a href="UnrealScriptVariables.html#Variable Declarations"> Variable Declarations</a> <ul>
<li> <a href="UnrealScriptVariables.html#Variable Specifiers"> Variable Specifiers</a>
</li> <li> <a href="UnrealScriptVariables.html#Metadata"> Metadata</a>
</li> <li> <a href="UnrealScriptVariables.html#Default Properties"> Default Properties</a>
</li></ul>
</li> <li> <a href="UnrealScriptVariables.html#Variable Types"> Variable Types</a> <ul>
<li> <a href="UnrealScriptVariables.html#Basic Data Types"> Basic Data Types</a>
</li> <li> <a href="UnrealScriptVariables.html#Aggregate Data Types"> Aggregate Data Types</a>
</li> <li> <a href="UnrealScriptVariables.html#Unreal Types"> Unreal Types</a>
</li></ul>
</li> <li> <a href="UnrealScriptVariables.html#Editability"> Editability</a>
</li> <li> <a href="UnrealScriptVariables.html#Arrays"> Arrays</a> <ul>
<li> <a href="UnrealScriptVariables.html#Dynamic Arrays"> Dynamic Arrays</a> <ul>
<li> <a href="UnrealScriptVariables.html#Length Variable"> Length Variable</a>
</li> <li> <a href="UnrealScriptVariables.html#Iterating Dynamic Arrays"> Iterating Dynamic Arrays</a>
</li></ul>
</li></ul>
</li> <li> <a href="UnrealScriptVariables.html#Structs"> Structs</a> <ul>
<li> <a href="UnrealScriptVariables.html#Struct Definitions"> Struct Definitions</a>
</li> <li> <a href="UnrealScriptVariables.html#Struct specifiers"> Struct specifiers</a>
</li> <li> <a href="UnrealScriptVariables.html#Declaring Struct Variables"> Declaring Struct Variables</a>
</li> <li> <a href="UnrealScriptVariables.html#Using Struct Variables"> Using Struct Variables</a>
</li></ul>
</li> <li> <a href="UnrealScriptVariables.html#Enumerations"> Enumerations</a>
</li> <li> <a href="UnrealScriptVariables.html#Constants"> Constants</a>
</li> <li> <a href="UnrealScriptVariables.html#Object and actor reference variables"> Object and actor reference variables</a>
</li> <li> <a href="UnrealScriptVariables.html#Class Reference Variables"> Class Reference Variables</a>
</li> <li> <a href="UnrealScriptVariables.html#Type Casting"> Type Casting</a> <ul>
<li> <a href="UnrealScriptVariables.html#Implicit Type Casting"> Implicit Type Casting</a>
</li> <li> <a href="UnrealScriptVariables.html#Explicit Type Casting"> Explicit Type Casting</a> <ul>
<li> <a href="UnrealScriptVariables.html#Explicit Casting Supported Types"> Explicit Casting Supported Types</a>
</li></ul>
</li> <li> <a href="UnrealScriptVariables.html#Converting Object References"> Converting Object References</a>
</li></ul>
</li></ul>
</li></ul>
</div>
<p />
<style type="text/css" media="all">@import "rsrc/UDNCSS_test.css";</style>
<p />
<h2><a name="Overview"></a> Overview </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
Properties belonging to a class are called <strong>variables</strong>. A variable is basically an identifier or name for a piece of data whose value can be assigned and modified during play. A player's health, a weapon's ammo count, the score of the game - these values are all held in variables in one class or another and the modifying or accessing of the values of these and other variables is what makes up a significant portion of the gameplay within a game.
<p />
<h2><a name="Variable Scope"></a> Variable Scope </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
There are two kinds of variables that can be declared in UnrealScript and these differ based on the intended scope of the variable. The scope of a variable determines the lifetime of the variable and where the variable is available.
<p />
The two kinds of variables are:
<p /> <ul>
<li> Instance Variables - These apply to an entire object (class or struct) and are available for the lifetime of the object they belong to. Instance variables are created when the object is created and are destroyed when the object is destroyed. These can be used inside any non-static function belonging to the object or accessed from other objects through a reference to the object the variable belongs to.
</li> <li> Local Variables - These are "local" to a function or, in other words, they belong to a specific function. They are only active while that function executes. Local variables are created when the function begins executing and destroyed when the function finishes executing. They cannot be used in another function or accessed from other objects.
</li></ul>
<p />
<h2><a name="Variable Declarations"></a> Variable Declarations </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
The variable declaration creates a new variable for use within a class, struct, or function. A variable declaration consists of either the <code><b>var</b></code> or <code><b>local</b></code> keyword followed by any of the optional <a href="UnrealScriptVariables.html#VariableSpecifiers" class="twikiAnchorLink">specifiers</a> followed the type of the variable to declare followed by the name to give the variable.
<p />
<div class="codesnippet">
<pre>
var Type Name;
...
local Type Name;
</pre>
</div>
<p />
Variable declarations can be located in two places in UnrealScript. Instance variable declarations are located immediately after the class declarations (or within struct declarations) before any functions or states are declared. Local variable declarations are located immediately following the function declaration inside the body of a function before any other code. Instance variables are declared with the <code>var</code> keyword. Local variables are declared with the <code>local</code> keyword.
<p />
Here are some examples of instance variable declarations in UnrealScript:
<p />
<div class="codesnippet">
<pre>
class MyClass extends Actor;


<span style="color:#008800;">// All istance variables must be declared before
// any functions or states are declared</span>
var int A;			<span style="color:#008800;">// Declare an integer variable named "A".</span>
var byte Table[64];		<span style="color:#008800;">// Declare a static array of 64 bytes named "Table".</span>
var string PlayerName;		<span style="color:#008800;">// Declare a string variable named "PlayerName".</span>
var actor Other;		<span style="color:#008800;">// Declare a variable which can be assigned a reference to an Actor instance.</span>
var() float MaxTargetDist;	<span style="color:#008800;">// Declare a float variable named "MaxTargetDist" and allow its value to be modified from an UnrealEd property window.</span>

struct RangeVector
{
	var Vector Min;		<span style="color:#008800;">// Declare a vector variable named "Min" within the struct.</span>
	var Vector Max;		<span style="color:#008800;">// Declare a vector variable named "Max" within the struct.</span>
};

var RangeVector Bounds;		<span style="color:#008800;">// Declare a RangeVector variable named "Bounds".</span>

function foo
{
	...
}

<span style="color:#FF0000;">var int B;</span>			<span style="color:#008800;">// This will cause an error</span>

</pre>
</div>
<p />
An example of a local varaible declaration is provided below:
<p />
<div class="codesnippet">
<pre>
function int Foo()
{
	<span style="color:#008800;">// All local variables must be declared before
	// any other code in the function body</span>
	local int Count;
	local float Seconds;

	Count = 1;

	<span style="color:#008800;">// Declaring a local variable here would cause an error</span>
	<span style="color:#FF0000;">local float Minutes;</span>

	return Count;
}
</pre>
</div>
<p />
<a name="VariableSpecifiers"></a>
<h3><a name="Variable Specifiers"></a> Variable Specifiers </h3>
<p />
Variables may also contain additional specifiers such as <code>const</code> that further describe the variable. Actually, there are quite a lot of specifiers which you wouldn't expect to see in a general-purpose programming language, mainly as a result of wanting UnrealScript to natively support many game- and environment- specific concepts:
<p /> <dl>
<dt> <strong>config</strong>  </dt><dd> This variable will be made configurable. The current value can be saved to the ini file and will be loaded when created.  Cannot be given a value in default properties.  Implies const.
</dd> <dt> <strong>globalconfig</strong>  </dt><dd> Works just like config except that you can't override it in a subclass.  Cannot be given a value in default properties.  Implies const.
</dd> <dt> <strong>localized</strong>  </dt><dd> The value of this variable will have a localized value defined. Mostly used for strings. Implies const. Read more about this in the <a href="LocalizationReference.html" class="twikiLink">Localization Reference</a> and <a href="StringsInUnrealScript.html" class="twikiLink">Unreal Strings</a>.
</dd> <dt> <strong>const</strong>  </dt><dd> Treats the contents of the variable as a constant. In UnrealScript, you can read the value of const variables, but you can't write to them. "Const" is only used for variables which the engine is responsible for updating, and which can't be safely updated from UnrealScript, such as an actor's Location (which can only be set by calling the MoveActor function).
</dd> <dt> <strong>private</strong>  </dt><dd> The variable is private, and may only be accessed by the class's script; no other classes (including subclasses) may access it.
</dd> <dt> <strong>protected</strong>  </dt><dd> The variable can only be accessed from the class and it's subclasses, not from other classes.
</dd> <dt> <strong>privatewrite</strong>  </dt><dd> The variable is <strong>const</strong> outside the class it was declared in.
</dd> <dt> <strong>protectedwrite</strong>  </dt><dd> The variable is <strong>const</strong> outside the class it was declared in and subclasses.
</dd> <dt> <strong>repnotify</strong>  </dt><dd> Actors should be notified (via the ReplicatedEvent function) when this value for this property is received via replication.
</dd> <dt> <strong>deprecated</strong>  </dt><dd> Indicates that this variable is going to be removed in the near future, and should no longer be accessible in the editor.  Deprecated properties are loaded, but not saved.
</dd> <dt> <strong>instanced</strong>  </dt><dd> Object properties only.  When an instance of this class is created, it will be given a unique copy of the object assigned to this variable in defaults.  Used for instancing subobjects defined in class default properties.
</dd> <dt> <strong>databinding</strong>  </dt><dd> This property can be manipulated by the data store system.
</dd> <dt> <strong>editoronly</strong>  </dt><dd> This property's value will only be loaded when running UnrealEd or a commandlet.  During the game, the value for this property is discarded.
</dd> <dt> <strong>notforconsole</strong>  </dt><dd> This property's value will only be loaded when running on the PC.  On consoles, the value for this property is discarded.
</dd></dl>
<p /> <dl>
<dt> <strong>editconst</strong>  </dt><dd> Editor. The variable can be seen in UnrealEd but not edited. A variable that is editconst is <i>not</i> implicitly "const".
</dd> <dt> <strong>editfixedsize</strong>  </dt><dd> Editor. Only useful for dynamic arrays. This will prevent the user from changing the length of an array via the UnrealEd property window.
</dd> <dt> <strong>editinline</strong>  </dt><dd> Editor. Allows the user to edit the properties of the object referenced by this variable within UnrealEd's property inspector (only useful for object references, including arrays of object reference).
</dd> <dt> <strong>editinlineuse</strong>  </dt><dd> Editor.  In addition to the behavior associated with <em>editinline</em>, adds a "Use" button next to this object reference in the editor
</dd> <dt> <strong>noclear</strong>  </dt><dd> Editor. Prevents this object reference from being set to None from the editor.
</dd> <dt> <strong>interp</strong>  </dt><dd> Editor. Indicates that the value can be driven over time by a Float or Vector Property Track in Matinee.
</dd></dl>
<p /> <dl>
<dt> <strong>input</strong>  </dt><dd> Advanced. Makes the variable accessible to Unreal's input system, so that input (such as button presses and joystick movements) can be directly mapped onto it. Only relevent with variables of type "byte" and "float".
</dd> <dt> <strong>transient</strong>  </dt><dd> Advanced. Declares that the variable is for temporary use, and isn't part of the object's persistent state. Transient variables are not saved to disk. Transient variables are initialized to the class's default value for that variable when an object is loaded.
</dd> <dt> <strong>duplicatetransient</strong>  </dt><dd> Advanced. Indicates that the variable's value should be reset to the class default value when creating a binary duplicate of an object (via StaticDuplicateObject).
</dd> <dt> <strong>noimport</strong>  </dt><dd> Advanced.  Indicates that this variable should be skipped when importing T3D text.  In other words, the value of this variable will not be transferred to new object instances when importing or copy/pasting objects.
</dd> <dt> <strong>native</strong>  </dt><dd> Advanced. Declares that the variable is loaded and saved by C++ code, rather than by UnrealScript.
</dd> <dt> <strong>export</strong>  </dt><dd> Advanced. Only useful for object properties (or arrays of objects).  Indicates that the object assigned to this property should be exported in its entirety as a subobject block when the object is copied (for copy/paste) or exported to T3D, as opposed to just outputting the object reference itself.
</dd> <dt> <strong>noexport</strong>  </dt><dd> Advanced. Only useful for native classes.  This variable should not be included in the auto-generated class declaration.
</dd> <dt> <strong>nontransactional</strong>  </dt><dd> Advanced. Indicates that changes to this variable value will not be included in the editor's undo/redo history.
</dd> <dt> <strong>pointer{<i>type</i>}</strong>  </dt><dd> Advanced.  This variable is a pointer to <i>type</i>.  (The <i>type</i> is optional). Note the syntax is: pointer varname{<i>type</i>}.
</dd> <dt> <strong>init</strong>  </dt><dd> Advanced.  This property should be exported to the header file as an FString or TArray, rather than an FStringNoInit or TArrayNoInit.  Only applicable to strings and dynamic arrays declared in native classes.  'Init' properties should not be given default values, as the default value will be cleared when the object is created. (See <a href="StringsInUnrealScript.html" class="twikiLink">Unreal Strings</a> and <a href="https://udn.epicgames.com/Three/StringsInNativeCode" class="restricted" class="restricted" class="twikiLink">Native Strings</a>)
</dd> <dt> <strong>repretry</strong>  </dt><dd> Advanced; struct properties only. Retry replication of this property if it fails to be fully sent (e.g. object references not yet available to serialize over the network). For simple references this is the default, but for structs this is often undesirable due to the bandwidth cost, so it is disabled unless this flag is specified.
</dd> <dt> <strong>allowabstract</strong>  </dt><dd> Advanced; class references only. Allows abstract classes to be assigned to this variable within the editor.
</dd></dl>
<p /> <dl>
<dt> <strong>out</strong>  </dt><dd> This specifier is only valid for function parameters.  See <a href="UnrealScriptFunctions.html#ParameterSpecifiers" class="twikiAnchorLink">Function Parameter Specifiers</a> for more details.
</dd> <dt> <strong>coerce</strong>  </dt><dd> This specifier is only valid for function parameters.  See <a href="UnrealScriptFunctions.html#ParameterSpecifiers" class="twikiAnchorLink">Function Parameter Specifiers</a> for more details.
</dd> <dt> <strong>optional</strong>  </dt><dd> This specifier is only valid for function parameters.  See <a href="UnrealScriptFunctions.html#ParameterSpecifiers" class="twikiAnchorLink">Function Parameter Specifiers</a> for more details.
</dd></dl>
<p /> <dl>
<dt> <strong>skip</strong>  </dt><dd> This specifier is only valid for operator function parameters.  It is only used for binary logical operators like &amp;&amp; and ||. Tells the compiler to inject a little piece of code into the stream so that the second argument can be skipped over (not evaluated) if the outcome of the logical operation can be determined completely from the first argument.   <br/><br/>This assures C stlye behavior in expressions like:   <div class="codesnippet">   <pre>
   if( ++a==10 && ++b==10 )
   </pre>   </div>   Here, the ++b is skipped if the first expression fails.
</dd></dl>
<p />
<h3><a name="Metadata"></a> Metadata </h3>
<p />
Variables can also have additional information in the form of metadata specified on a per-variable basis to be used by the engine or editor to provide extended functionality. Metadata can be used to specify a display name, tooltip, and min and max values among other things.
<p />
To link metadata to a variable, you add it to the variable declaration following the variable's name prior to the semicolon concluding the declaration. Metadata is specified as a series of <code><b>Tag=Value</b></code> pairs separated by a pipe character (<code><b>|</b></code>) inside of angle brackets &lt; &gt;.
<p />
For example:
<p />
<div class="codesnippet">
<pre>
var float MyVar&#60;DisplayName&#61;My Float Variable&#124;Tooltip&#61;This is a float variable with additional metadata specified&#124;UIMin&#61;0.0&#124;UIMax&#61;10.0&#124;ClampMin&#61;0.0&#124;ClampMax&#61;5.0&#62;;
</pre>
</div>
<p />
See <a href="UnrealScriptMetadata.html" class="twikiLink">UnrealScript Metadata</a> for complete details about using metadata with variables in UnrealScript.
<p />
<h3><a name="Default Properties"></a> Default Properties </h3>
<p />
Default values for variables in UnrealScript are not specified when declaring the variable as is possible in some other programming languages. In addition, there is no concept of a "constructor" function for classes created in UnrealScript to allow default values to be set up. UnrealScript, instead, uses a <code><b>defaultproperties</b></code> block added at the end of the script defining the class to specify default values for the instance variables declared within that class. This block does not allow code to be executed and follows some rules that differ slightly from the syntax used elsewhere in UnrealScript.
<p />
For example:
<p />
<div class="codesnippet">
<pre>
defaultproperties
{
   IntVar&#61;3
   FloatVar&#61;2.5
   StringVar&#61;&#34;This is a string&#34;
   ArrayVar(0)&#61;2
   ArrayVar(1)&#61;4
   ArrayVar(2)&#61;7
   ArrayVar(3)&#61;1
}
</pre>
</div>
<p />
See the <a href="UnrealScriptDefaultProperties.html" class="twikiLink">UnrealScript Default Properties</a> page for comeplete details on specifying default values for variables in UnrealScript, including the syntax used for the various types of data.
<p />
<h2><a name="Variable Types"></a> Variable Types </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
UnrealScript contains a number of built-in data types that can be used when declaring variables. The type of the variable determines the kind of data it can hold. Some types are fairly straightforward, while others are more complex to understand and work with.
<p />
<h3><a name="Basic Data Types"></a> Basic Data Types </h3>
<p />
Here is a list of basic variable data types commonly found in other languages that are supported in UnrealScript:
<p /> <dl>
<dt> <strong>byte</strong>  </dt><dd> A single-byte value ranging from <code>0</code> to <code>255</code>.
</dd> <dt> <strong>int</strong>  </dt><dd> A 32-bit integer value.
</dd> <dt> <strong>bool</strong>  </dt><dd> A boolean value: either <code>true</code> or <code>false</code>.
</dd> <dt> <strong>float</strong>  </dt><dd> A 32-bit floating point number.
</dd> <dt> <strong>string</strong>  </dt><dd> A string of characters. (see <a href="StringsInUnrealScript.html" class="twikiLink">Unreal Strings</a>)
</dd> <dt> <strong>constant</strong>  </dt><dd> A variable that cannot be modified.
</dd> <dt> <strong>enumeration</strong>  </dt><dd> A variable that can take on one of several predefined named integer values. For example, the ELightType enumeration defined in the Actor script describes a dynamic light and takes on a value like <code>LT_None</code>, <code>LT_Pulse</code>, <code>LT_Strobe</code>, and so on.
</dd></dl>
<p />
<h3><a name="Aggregate Data Types"></a> Aggregate Data Types </h3>
<p /> <dl>
<dt> <strong>array&lt;Type&gt;</strong>  </dt><dd> A variable length array of <code>Type</code>.
</dd> <dt> <strong>struct</strong>  </dt><dd> Similar to C structures, UnrealScript structs let you create new variable types that contain sub-variables. For example, two commonly-used Unreal structs are <code>vector</code>, which consists of an X, Y, and Z component; and <code>rotator</code>, which consists of a pitch, yaw, and roll component. (see <a href="UnrealScriptVariables.html#ScriptStructs" class="twikiAnchorLink">Structs</a> for more information)
</dd></dl>
<p />
<h3><a name="Unreal Types"></a> Unreal Types </h3>
<p /> <dl>
<dt> <strong>Name</strong>  </dt><dd> The name of an item in Unreal (such as the name of a function, state, class, etc).  Names are stored as an index into the global name table. Names correspond to simple strings of up to 64 characters. Names are not like strings in that they are immutable once created (see <a href="StringsInUnrealScript.html" class="twikiLink">Unreal Strings</a> for more information).
</dd> <dt> <strong>Object and Actor references</strong>  </dt><dd> A variable that refers to another object or actor in the world. For example, the Pawn class has an <code><b>Enemy</b></code> actor reference that specifies which actor the pawn should be trying to attack. Object and actor references are very powerful tools, because they enable you to access the variables and functions of another actor. For example, in the Pawn script, you can write something similar to <code><b>Enemy.TakeDamage(123)</b></code> to call your enemy's <code><b>TakeDamage</b></code> function; resulting in the enemy taking damage. Object references may also contain a special value called <code><b>None</b></code>, which is the equivalent of the C <code><b>NULL</b></code> pointer: it says "this variable doesn't refer to any object".
</dd> <dt> <strong>Delegate</strong>  </dt><dd> Holds a reference to an unrealscript function.
</dd></dl>
<p />
<h2><a name="Editability"></a> Editability </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
In UnrealScript, you can make an instance variable "editable", so that users can edit the variable's value in UnrealEd. This mechanism is responsible for the entire contents of the "Actor Properties" dialog in UnrealEd: everything you see there is simply an UnrealScript variable, which has been declared editable.
<p />
The syntax for declaring an editable variable is as follows:
<p />
<div class="codesnippet">
<pre>
var() int MyInteger; <span style="color:#008800;">// Declare an editable integer in the default</span>
                     <span style="color:#008800;">// category.</span>

var(MyCategory) bool MyBool; <span style="color:#008800;">// Declare an editable integer in</span>
                             <span style="color:#008800;">// "MyCategory".</span>
</pre>
</div>
<p />
You can also declare a variable as <code>editconst</code>, which means that the variable should be visible but <em>not</em> editable UnrealEd. Note that this only prevents the variable from being changed in the editor, not in script. If you want a variable that is truly <code>const</code> but still visible in the editor, you must declare it <code>const editconst</code>:
<p />
<div class="codesnippet">
<pre>
<span style="color:#008800;">// MyBool is visible but not editable in UnrealEd</span>
var(MyCategory) editconst bool MyBool;

<span style="color:#008800;">// MyBool is visible but not editable in UnrealEd and
// not changeable in script</span>
var(MyCategory) const editconst bool MyBool;

<span style="color:#008800;">// MyBool is visible and can be set in UnrealEd but
// not changeable in script</span>
var(MyCategory) const bool MyBool;
</pre>
</div>
<p />
<h2><a name="Arrays"></a> Arrays </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
Arrays are declared using the following syntax:
<p />
<div class="codesnippet">
<pre>
var int MyArray[20]; <span style="color:#008800;">// Declares an array of 20 ints.</span>
</pre>
</div>
<p />
UnrealScript supports only single-dimensional arrays, though you can simulate multidimensional arrays by carrying out the row/column math yourself. For information on Dynamic Arrays, see below in the <a href="UnrealScriptVariables.html#DynArray" class="twikiAnchorLink">Advanced Language Features</a> section.
<p />
<a name="DynArray"></a>
<h3><a name="Dynamic Arrays"></a> Dynamic Arrays </h3>
<p />
Previously, we covered Arrays, which were static. What that means is that the size (how many elements are in the array) is set at compile time and cannot be changed. Dynamic Arrays and Static Arrays share the following common characteristics :
<p /> <ul>
<li> constant seek time - the time code spends accessing any given element of the array is the same, regardless of how many elements are in the array
</li> <li> unlimited element type - you can have an array of anything - ints, vectors, Actors, etc. (with the exception that booleans are only valid for dynamic arrays)
</li> <li> access behavior - you can access any element with an index into the array, and conversely, attempting to access an element at an index that is outside the bounds of the array will throw an accessed none.
</li></ul>
<p />
Dynamic Arrays provide a way of having Static Array functionality with the ability to change the number of elements during run-time, in order to accommodate changing needs. In order use Dynamic Arrays, we need to know a few things.
<p />
The first is variable declaration. Declaring a dynamic array is much like declaring any other unrealscript variable (i.e. var/local <em>type</em>  <em>varname</em>).  For dynamic arrays, the type is specified with the <em>array</em> keyword, followed by the array type wrapped in angle brackets.  If the array type contains angle brackets as well (such as <em>class&lt;Actor&gt;</em>), you must place a space between the closing bracket of the type and the closing bracket of the array wrapper or the compiler resolves the double closing brackets as the <code>&gt;&gt;</code> operator. For example:<br>
Declare a dynamic array of ints named IntList:
<p />
<div class="codesnippet">
<pre>
var array&#60;int&#62; IntList;
</pre>
</div>
<p />
Declare a dynamic array of type <code><b>class&lt;PlayerController&gt;</b></code> named Players:
<p />
<div class="codesnippet">
<pre>
var array&#60;class&#60;PlayerController&#62; &#62; Players;
</pre>
</div>
<p />
When script starts, IntList will start with 0 elements. There are methods supported by Dynamic Arrays that allow us to add elements to the array, take elements out, and increase or decrease the length of the array arbitrarily. The syntax for calling these methods is (using our IntList example): <code>IntList.MethodName()</code>. The following dynamic array methods are available:
<p /> <ul>
<li> Add(<strong>int</strong> <em>Count</em>): extends the length of the array by <em>Count</em>, identical to FArray::AddZeroed().
</li> <li> Insert(<strong>int</strong> <em>Index</em>, <strong>int</strong> <em>Count</em>): where <em>Index</em> is the array index to being inserting elements, and <em>Count</em> is the number of elements to insert. Any existing elements at that location in the array are shifted up, and new elements are created and inserted into the specified location. Inserting 5 elements at index 3 will shift up (in index value) all elements in the array starting at index 3 and up by 5.  The element previously located at index 3 will now be located at index 8, element 4 will now be element 9, and so on.  Newly added elements are all initialized to their default values (zero/null for all types except structs containing structdefaultproperties).
</li> <li> Remove(<strong>int</strong> <em>Index</em>, <strong>int</strong> <em>Count</em>): where <em>Index</em> is the array index to begin removing elements from, and <em>Count</em> is the number of elements to remove.  This allows us to remove a group of elements from the array starting at any valid index within the array. Note that any indexes that are higher than the range to be removed will have their index values changed, keep this in mind if you store index values into dynamic arrays.
</li> <li> AddItem(<em>Item</em>): adds <em>Item</em> to the end of the array, extending the array length by one.
</li> <li> RemoveItem(<em>Item</em>): removes any instances of <em>Item</em> using a linear search.
</li> <li> InsertItem(<strong>int</strong> <em>Index</em>, <em>Item</em>): inserts <em>Item</em> into the array at <em>Index</em>, extending the array length by one.
</li> <li> Find(...) - finds the index of an element in the array. There are two versions of Find: standard find for matching entire element values, and a specialized version for matching a struct based on the value of a single property of the struct <ul>
<li> Find(<em>Value</em>): where <em>Value</em> is the value to search for.  Returns the index for the first element found in the array which matches the value specified, or -1 if that value wasn't found in the array.  <em>Value</em> can be represented using any valid expression.
</li> <li> Find(<em>PropertyName</em>, <em>Value</em>): where <em>PropertyName</em> is the name of property in the struct to search against (must be of type 'Name'), and <em>Value</em> is the value to search for.  Returns the index for the first struct in the array that has a value matching the value specified for a property named <em>PropertyName</em>, or -1 if the value wasn't found.  <em>Value</em> can be any valid expression.
</li></ul>
</li> <li> Sort(<em>SortDelegate</em>): uses <em>SortDelegate</em> to sort the contents of the array in-place.  <em>SortDelegate</em> should have signature matching the following:  <ul>
<li> delegate int ExampleSort(ArrayType A, ArrayType B) { return A &lt; B ? -1 : 0; }  // a negative return value indicates the items should be swapped
</li></ul>
</li></ul>
<p />
<h4><a name="Length Variable"></a> Length Variable </h4>
Dynamic Arrays also have a variable called <code>Length</code>, which is the current length (number of elements) of the dynamic array. To access Length, using our example array, we would say: <code>IntList.Length</code> . We can not only read the Length variable, but we can also directly set it, allowing us to modify the number of elements in the array. When you modify the Length variable directly, all changes in array length happen at the 'end' of the array. For example, if we set IntList.Length = 5, and then we set IntList.Length = 10, the extra 5 elements we just added were added to the end of the array, maintaining our original 5 elements and their values. If we decreased the Length, the elements would be taken off the end as well. Note that when you add elements to the array, either by Insert() or by increasing Length, the elements are initialized to the variable type's default value (0 for ints, None for class references, etc). It is also noteworthy to know that you can increase the length of a dynamic array by setting an element index that is greater than the array's current Length value. This will extend the array just as if you had set Length to the larger value.
<p />
<div class="codesnippet">
<pre>
OldLength = Array.length <br>
Array.Length = OldLength + 1 <br>
Array[OldLength] = NewValue <br>
</pre>
</div>
<p />
<div class="codesnippet">
<pre>
Array[Array.Length] = NewValue <br>
</pre>
</div>
<p />
<div class="codesnippet">
<pre>
Array.AddItem(NewValue) <br>
</pre>
</div>
<p />
are all equivalent forms of the same operation.
<p />
Note however that you cannot both increase the length of an array and access its members at the same time.
<p />
<div class="codesnippet">
<pre>
Array[Array.length].myStructVariable = newVal<br>
</pre>
</div>
<p />
does not work.
<p />
A word of caution - the Length member of a dynamic array should never be incremented / decremented by '++', '--', '+=', or '-=', nor should you pass Length to a function as an out parameter (where the function can change the value of it). Doing these things will result in memory leaks and crashes due to Length not being accurate any more; only setting the Length via the '=' operator (and setting an element at an index larger than Length) modifies the actual length of the dynamic array properly.
<p />
<strong>NOTE: <code><b>array&lt;bool&gt;</b></code> is not a supported type!</strong>
<p />
A final note - dynamic arrays are <strong>not</strong> replicated. You could get around this by having a function that replicates and has two arguments, an index into the dynamic array and the value to store there. However, you would also have to consider consequences of elements not being the same within a space of a tick on client and server.
<p />
<a name="DynArrayIterator"></a>
<h4><a name="Iterating Dynamic Arrays"></a> Iterating Dynamic Arrays </h4>
<p />
Dynamic arrays now support the <code><b>foreach</b></code> command to allow simple iterations.  The basic syntax is:
<p />
<div class="codesnippet">
<pre>
foreach ArrayVariable(out ArrayItem, optional out ItemIndex)
{
   ...
}
</pre>
</div>
<p />
<code><b>ArrayItem</b></code> must be of the same type as the elements in the array. Each iteration will increment the index and write out the item as well as the index if a property is supplied.
<p />
<div class="codesnippet">
<pre>
function IterateThroughArray(array<string> SomeArray)
{
    local string ArrayItem;
    local int Index;
    foreach SomeArray(ArrayItem)
    {
       `log("Array iterator test #1:"@ArrayItem);
    }
    foreach SomeArray(ArrayItem,Index)
    {
        `log("Array iterator test #2:"@ArrayItem@Index);
    }
}
</pre>
</div>
<p />
<a name="ScriptStructs"></a>
<h2><a name="Structs"></a> Structs </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
An UnrealScript struct is a way of cramming a bunch of variables together into a new kind of super-variable called a struct. UnrealScript structs are much like C structs, in that they can contain variables, arrays, and other structs, but UnrealScript structs cannot contain functions.
<p />
For information on performance implications of using structs in UnrealScript, see the <a href="UnrealScriptStructs.html" class="twikiLink">UnrealScript Structs</a> page.
<p />
<h3><a name="Struct Definitions"></a> Struct Definitions </h3>
<p />
Before you can declare a struct variable, you must define the struct to be used. The definition consists of the <code><b>struct</b></code> keyword followed by the name to be given to the struct. Then, inside curly braces { and } the variables to make up the struct are declared using the same syntax as any other instance variable. The closing curly brace should be followed by a semicolon.
<p />
An example of a struct definition for a vector is shown below:
<p />
<div class="codesnippet">
<pre>
<span style="color:#008800;">// A point or direction vector in 3D space.</span>
struct Vector
{
	var float X;
	var float Y;
	var float Z;
};
</pre>
</div>
<p />
Structs can also have default values specified for the variables they contain. This is done by adding a <code><b>structdefaultproperties</b></code> block inside the struct definition. For instance, if you wanted each of the variables in the <code><b>Vector</b></code> struct defined previously to start out with values of <code><b>1.0</b></code>, you could define the struct like so:
<p />
<div class="codesnippet">
<pre>
<span style="color:#008800;">// A point or direction vector in 3D space.</span>
struct Vector
{
	var float X;
	var float Y;
	var float Z;

	structdefaultproperties
	{
		X=1.0
		Y=1.0
		Z=1.0
	}
};
</pre>
</div>
<p />
For more information on default properties for struct members, see the Struct Defaults<sup>?</sup> section of the <a href="UnrealScriptDefaultProperties.html" class="twikiLink">UnrealScript Default Properties</a> page.
<p />
<h3><a name="Struct specifiers"></a> Struct specifiers </h3>
<p />
Structs may also have a few specifiers that affect all instances of the struct. Specifiers are placed between the <code><b>struct</b></code> keyword and the name of the struct in the definition.
<p /> <dl>
<dt> <strong>atomic</strong>  </dt><dd> Indicates that this struct should always be serialized as a single unit; if any property in the struct differs from its defaults, then all elements of the struct will be serialized.
</dd> <dt> <strong>atomicwhencooked</strong>  </dt><dd> applies the 'atomic' flag only when working with cooked package data.
</dd> <dt> <strong>immutable</strong>  </dt><dd> Indicates that this struct uses binary serialization (reduces disk space and improves serialization performance); it is unsafe to add/remove members from this struct without incrementing the package version.
</dd> <dt> <strong>immutablewhencooked</strong>  </dt><dd> applies the 'immutable' flag only when working with cooked package data.
</dd> <dt> <strong>strictconfig</strong>  </dt><dd> Indicates that when the struct property has 'config/globalconfig', only properties marked config/globalconfig within this struct can be read from .ini (without this flag, all properties in the struct are configurable if the property is)
</dd></dl>
<p />
<h3><a name="Declaring Struct Variables"></a> Declaring Struct Variables </h3>
<p />
Once you declare a struct, you are ready to start declaring specific variables of that struct type:
<p />
<div class="codesnippet">
<pre>
<span style="color:#008800;">// Declare a bunch of variables of type Vector.</span>
var Vector Position;
var Vector Destination;
</pre>
</div>
<p />
<h3><a name="Using Struct Variables"></a> Using Struct Variables </h3>
<p />
To access a component of a struct, use code like the following.
<p />
<div class="codesnippet">
<pre>
function MyFunction()
{
	Local Vector A, B, C;

	<span style="color:#008800;">// Add some vectors.</span>
	C = A + B;

	<span style="color:#008800;">// Add just the x components of the vectors.</span>
	C.X = A.X + B.X;

	<span style="color:#008800;">// Pass vector C to a function.</span>
	SomeFunction( C );

	<span style="color:#008800;">// Pass certain vector components to a function.</span>
	OtherFunction( A.X, C.Z );
}
</pre>
</div>
<p />
You can do anything with Struct variables that you can do with other variables: you can assign variables to them, you can pass them to functions, and you can access their components.
<p />
There are several Structs defined in the Object class, which are used throughout Unreal. You should become familiar with their operation, as they are fundamental building blocks of scripts:
<p /> <dl>
<dt> <strong>Vector</strong>  </dt><dd> A unique 3D point or vector in space, with an X, Y, and Z component.
</dd> <dt> <strong>Plane</strong>  </dt><dd> Defines a unique plane in 3D space. A plane is defined by its X, Y, and Z components (which are assumed to be normalized) plus its W component, which represents the distance of the plane from the origin, along the plane's normal (which is the shortest line from the plane to the origin).
</dd> <dt> <strong>Rotator</strong>  </dt><dd> A rotation defining a unique orthogonal coordinate system. A rotator contains Pitch, Yaw, and Roll components.
</dd> <dt> <strong>Coords</strong>  </dt><dd> An arbitrary coordinate system in 3D space.
</dd> <dt> <strong>Color</strong>  </dt><dd> An RGB color value.
</dd> <dt> <strong>Region</strong>  </dt><dd> Defines a unique convex region within a level.
</dd></dl>
<p />
<h2><a name="Enumerations"></a> Enumerations </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
Enumerations exist in UnrealScript as a convenient way to declare variables that can contain "one of" a bunch of keywords. For example, the actor class contains the enumeration <code>EPhysics</code>, which describes the physics which Unreal should apply to the actor. This can be set to one of the predefined values like <code>PHYS_None</code>, <code>PHYS_Walking</code>, <code>PHYS_Falling</code>, and so on.
<p />
Internally, enumerations are stored as byte variables. In designing UnrealScript, enumerations were not seen as a necessity, but it makes code so much easier to read to see that an actor's physics mode is being set to <code>PHYS_Swimming</code> than (for example) <code>3</code>.
<p />
Here is sample code that declares enumerations.
<p />
<div class="codesnippet">
<pre>
<span style="color:#008800;">// Declare the EColor enumeration, with three values.</span>
enum EColor
{
   CO_Red,
   CO_Green,
   CO_Blue
};

<span style="color:#008800;">// Now, declare two variables of type EColor.</span>
var EColor ShirtColor, HatColor;

<span style="color:#008800;">// Alternatively, you can declare variables and
// enumerations together like this:</span>
var enum EFruit
{
   FRUIT_Apple,
   FRUIT_Orange,
   FRUIT_Bannana
} FirstFruit, SecondFruit;
</pre>
</div>
<p />
In the Unreal source, we always declare enumeration values like <code>LT_Steady</code>, <code>PHYS_Falling</code>, and so on, rather than as simply "Steady" or "Falling".  This is just a matter of programming style, and is not a requirement of the language.
<p />
UnrealScript only recognizes unqualified enum tags (like <code>FRUIT_Apple</code>) in classes where the enumeration was defined, and in its subclasses.  If you need to refer to an enumeration tag defined somewhere else in the class hierarchy, you must "qualify it":
<p />
<div class="codesnippet">
<pre>
FRUIT_Apple         <span style="color:#008800;">// If Unreal can't find this enum tag...</span>
EFruit.FRUIT_Apple  <span style="color:#008800;">// Then qualify it like this.</span>
</pre>
</div>
<p />
Enumeration values can be used as the size of a static array. Additionally, a static array can be declared to be a size equal to the number of items in the enumeration by using the enumeration's type name in the declaration, for example:
<p />
<div class="codesnippet">
<pre>
var int MyIntArray[EFruit];
</pre>
</div>
<p />
<h2><a name="Constants"></a> Constants </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
In UnrealScript, you can specify constant literal values for nearly all data types:
<p /> <ul>
<li> Integer and byte constants are specified with simple numbers, for example: <code>123</code>.  If you must specify an integer or byte constant in hexadecimal format, use i.e.: <code>0x123</code>
</li> <li> Floating point constants are specified with decimal numbers like: <code>456.789</code>
</li> <li> String constants must be enclosed in double quotes, for example: <code>"MyString"</code>
</li> <li> Name constants must be enclosed in single quotes, for example <code>'MyName'</code>
</li> <li> Vector constants contain X, Y, and Z values like this: <code>vect(1.0,2.0,4.0)</code>
</li> <li> Rotator constants contain Pitch, Yaw, and Roll values like this: <code>Rot(0x8000,0x4000,0)</code>
</li> <li> The <code>None</code> constant refers to "no object" (or equivalently, "no actor").
</li> <li> The <code>Self</code> constant refers to "this object" (or equivalently, "this actor"), i.e. the object whose script is executing.
</li> <li> General object constants are specified by the object type followed by the object name in single quotes, for example: <code>texture'Default'</code>
</li> <li> <code>EnumCount</code> gives you the number of elements in an enumeration, for example: <code>ELightType.EnumCount</code>
</li> <li> <code>ArrayCount</code> gives you the number of elements in an static array, for example: <code>ArrayCount(Touching)</code>
</li></ul>
<p />
You can use the "const" keyword to declare constants that you can later refer to by name.  For example:
<p />
<div class="codesnippet">
<pre>
const LargeNumber=123456;
const PI=3.14159;
const MyName="Tim";
const Northeast=Vect(1.0,1.0,0.0);
</pre>
</div>
<p />
Constants can be defined within classes or within structs.
<p />
To access a constant which was declared in another class, use the "class'classname'.const.constname" syntax, for example:
<p />
<div class="codesnippet">
<pre>
class'Pawn'.const.LargeNumber
</pre>
</div>
<p />
<a name="ObjectRefs"></a>
<h2><a name="Object and actor reference variables"></a> Object and actor reference variables </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
You can declare a variable that refers to an actor or object like this:
<p />
<div class="codesnippet">
<pre>
var actor A;	<span style="color:#008800;">// An actor reference.</span>
var pawn P;	<span style="color:#008800;">// A reference to an actor in the Pawn class.</span>
var texture T;	<span style="color:#008800;">// A reference to a texture object.</span>
</pre>
</div>
<p />
The variable "P" above is a reference to an actor in the Pawn class. Such a variable can refer to any actor that belongs to a subclass of Pawn. For example, P might refer to a Brute, or a Skaarj, or a Manta. It can be any kind of Pawn. However, P can never refer to a Trigger actor (because Trigger is not a subclass of Pawn).
<p />
One example of where it's handy to have a variable referring to an actor is the Enemy variable in the Pawn class, which refers to the actor that the Pawn is trying to attack.
<p />
When you have a variable that refers to an actor, you can access that actor's variables, and call its functions. For example:
<p />
<div class="codesnippet">
<pre>
<span style="color:#008800;">// Declare two variables that refer to a pawns.</span>
var pawn P, Q;

<span style="color:#008800;">// Here is a function that makes use of P.
// It displays some information about P.</span>
function MyFunction()
{
   <span style="color:#008800;">// Set P's enemy to Q.</span>
   P.Enemy = Q;

   <span style="color:#008800;">// Tell P to play his running animation.</span>
   P.PlayRunning();
}
</pre>
</div>
<p />
Variables that refer to actors always either refer to a valid actor (any actor that actually exists in the level), or they contain the value <code>None</code>. None is equivalent to the C/C++ <code>NULL</code> pointer. However, in UnrealScript, it is safe to access variables and call functions with a <code>None</code> reference; the result is always zero.
<p />
Note that an object or actor reference "points to" another actor or object, it doesn't "contain" an actor or object. The C equivalent of an actor reference is a pointer to an object in the AActor class (in C, you'd say an AActor*). For example, you could have two monsters in the world, Bob and Fred, who are fighting each other. Bob's "Enemy" variable would "point to" Fred, and Fred's "Enemy" variable would "point to" Bob.
<p />
Unlike C pointers, UnrealScript object references are always safe and infallible. It is impossible for an object reference to refer to an object that doesn't exist or is invalid (other than the special-case <code>None</code> value). In UnrealScript, when an actor is destroyed, all references to it are automatically set to <code>None</code>.
<p />
See the <a href="UnrealScriptFoundations.html#ObjectReference" class="twikiAnchorLink">Communication Between Scripts</a> section for more details on references and how to use them to allow objects to communicate with one another.
<p />
<h2><a name="Class Reference Variables"></a> Class Reference Variables </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
In Unreal, classes are objects just like actors, textures, and sounds are objects.  Class objects belong to the class named "class".  Now, there will often be cases where you'll want to store a reference to a class object, so that you can spawn an actor belonging to that class (without knowing what the class is at compile-time).  For example:
<p />
<div class="codesnippet">
<pre>
var() class C;
var actor A;
A = Spawn( C ); <span style="color:#008800;">// Spawn an actor belonging to some arbitrary class C.</span>
</pre>
</div>
<p />
Now, be sure not to confuse the roles of a class C, and an object O belonging to class C (referred to as an "instance" of class C).  To give a really shaky analogy, a class is like a pepper grinder, and an instance of that class is like pepper.  You can use the pepper grinder (the class) to create pepper (objects of that class) by turning the crank (calling the Spawn function)...BUT, a pepper grinder (a class) is not pepper (an object belonging to the class), so you MUST NOT TRY TO EAT IT!
<p />
When declaring variables that reference class objects, you can optionally use the syntax <strong>class&lt;metaclass&gt;</strong> to limit the classes that can be referenced by the variable to classes of type <em>metaclass</em> (and its child classes).  For example, in the declaration:
<p />
<div class="codesnippet">
<pre>
var class<actor> ActorClass;
</pre>
</div>
<p />
The variable ActorClass may only reference a class that extends the "actor" class.  This is useful for improving compile-time type checking. For example, the Spawn function takes a class as a parameter, but only makes sense when the given class is a subclass of Actor, and the class&lt;classlimitor&gt; syntax causes the compiler to enforce that requirement.
<p />
As with dynamic object casting, you can dynamically cast classes like this:
<p />
<div class="codesnippet">
<pre>
<span style="color:#008800;">// casts the result of SomeFunctionCall() a class of type Actor (or subclasses of Actor)</span>
class<actor>( SomeFunctionCall() )
</pre>
</div>
<p />
<a name="TypeCasting"></a>
<h2><a name="Type Casting"></a> Type Casting </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
Type casting is the process of converting a value from one type to another, generally for the purpose of assigning it to a variable of the type being converted to. Casting a value from one type to another can be very useful with simple data types as well as more complex types like object references. Keep in mind that data can be lost during casting, though. Different types of data have different levels of precision and converting from a higher-precision type to a lower-precision type will result in the extra digits of precision being dropped.
<p />
Type casting can take one of two forms: implicit or explicit.
<p />
<h3><a name="Implicit Type Casting"></a> Implicit Type Casting </h3>
<p />
Some variable data types (generally the numerical data types - <code><b>byte</b></code>, <code><b>int</b></code>, <code><b>float</b></code>) support being converted automatically between one another. This is called an implicit type cast because you are converting the data type but not explicitly stating the type to cast to. An implicit cast is performed when you assign a value or variable of one type to a variable of another type.
<p />
For instance:
<p />
<div class="codesnippet">
<pre>
var int IntVar;
var float FloatVar;

...

IntVar = 2;		<span style="color:#008800;">// IntVar holds the value 2</span>
FloatVar = 4.25;	<span style="color:#008800;">// FLoatVar holds the value 4.25</span>

...

IntVar = FloatVar;	<span style="color:#008800;">// IntVar now holds the value 4</span>
</pre>
</div>
<p />
<code><b>FloatVar</b></code> and <code><b>IntVar</b></code> are different types but you can assign the value of one to the other because <code><b>int</b></code> and <code><b>float</b></code> support implicit casting between one another.
<p />
<h3><a name="Explicit Type Casting"></a> Explicit Type Casting </h3>
<p />
While numerical types can be converted implicitly, other types require explicitly stating the type to convert to. Not all types can be explicitly cast to any other type. The type being converted must support being cast to the target type or the compiler will throw an error.
<p />
When explicitly casting a value, you must state the type to cast to followed by the value to cast in parentheses. The basic syntax is:
<p />
<div class="codesnippet">
<pre>
TypeToCastTo(ValueToCast)
</pre>
</div>
<p />
Let's say you have a <code><b>Vector</b></code> variable that you want to display as a <code><b>String</b></code>. The <code><b>Vector</b></code> data type supports explicit casting to a <code><b>String</b></code> so the following would be completely valid:
<p />
<div class="codesnippet">
<pre>
var Vector Offset;
var String OffsetText;

...

Offset = vect(1.0, 2.5, 5.0);	<span style="color:#008800;">//Offset now holds the values X=1.0, Y=2.5, Y=5.0</span>
OffsetText = String(Offset);	<span style="color:#008800;">//OffsetText now holds the value "1.0,2.5,5.0"</span>
</pre>
</div>
<p />
<h4><a name="Explicit Casting Supported Types"></a> Explicit Casting Supported Types </h4>
<p /> <dl>
<dt> <strong>String</strong>  </dt><dd> The <code><b>String</b></code> data type supports being converted to the following types: <ul>
<li> <strong>Byte, Int, Float</strong> - The number held in the <code><b>String</b></code> is converted to an actual numerical value. If the value of the <code><b>String</b></code> does not contain a number, the result of the cast will be <code><b>0</b></code> 0r <code><b>0.0</b></code>, depending on the type being converted to.
</li> <li> <strong>Bool</strong> - Converts the value of the <code><b>String</b></code> to either <code><b>TRUE</b></code> or <code><b>FALSE</b></code>. If the <code><b>String</b></code> contains either <code><b>"True"</b></code> or <code><b>"False"</b></code> (case does not matter), the text is converted directly to the equivalent <code><b>Bool</b></code> value. If neither of those values are present, the value of the <code><b>String</b></code> is first converted to a numerical value (following the rules described above) and then converted to a <code><b>Bool</b></code> value with a value of <code><b>0</b></code> converting to <code><b>FASLE</b></code> and any other value being converted to <code><b>TRUE</b></code>.
</li> <li> <strong>Vector, Rotator</strong> - Converts a <code><b>String</b></code> holding the text form of a <code><b>Vector</b></code> or <code><b>Rotation</b></code> (three numeric values separated by commas, i.e. “0.5,23.64,18.43”) to the specified target data type. For <code><b>Vector</b></code> conversions, the numeric values in the <code><b>String</b></code> will be converted to <code><b>Float</b></code> values with two decimal places of accuracy. For <code><b>Rotator</b></code> conversions, the numeric values in the <code><b>String</b></code> will be truncated, or have all decimal places removed, and converted to <code><b>Int</b></code> values.
</li></ul>
</dd> <dt> <strong>Bool</strong>  </dt><dd> The <code><b>Bool</b></code> data type supports being converted to the following types: <ul>
<li> <strong>String</strong> - Converts the <code><b>TRUE</b></code> or <code><b>FALSE</b></code> value of the <code><b>Bool</b></code> to <code><b>String</b></code> values of <code><b>"True"</b></code> or <code><b>"False"</b></code>, respectively.
</li> <li> <strong>Byte, Int, Float</strong> - Converts the <code><b>TRUE</b></code> or <code><b>FALSE</b></code> value of the <code><b>Bool</b></code> to numerical values of <code><b>1</b></code> or <code><b>0</b></code>, respectively.
</li></ul>
</dd> <dt> <strong>Byte, Int, Float, Vector, Rotator</strong>  </dt><dd> These numerical data types support being converted to the following types: <ul>
<li> <strong>String</strong> - Converts the numerical value(s) to text form. In the case of a <code><b>Vector</b></code> or <code><b>Rotator</b></code>, the text form is the three numerical values (<code><b>X</b></code>, <code><b>Y</b></code>, <code><b>Z</b></code> or <code><b>Pitch</b></code>, <code><b>Yaw</b></code>, <code><b>Roll</b></code>) separated by commas.
</li> <li> <strong>Bool</strong> - Converts the numerical value(s) to <code><b>Bool</b></code> values of <code><b>TRUE</b></code> or <code><b>FALSE</b></code>. Any non-zero value converts to <code><b>TRUE</b></code>, while a value of zero converts to <code><b>FALSE</b></code>. In the case of a <code><b>Vector</b></code> or <code><b>Rotator</b></code>, the value of each component must be zero to convert to <code><b>FALSE</b></code>. If any non-zero value is present, the result will be <code><b>TRUE</b></code>.
</li></ul>
</dd> <dt> <strong>Name</strong>  </dt><dd> The <code><b>Name</b></code> data type supports being converted to the folowing type: <ul>
<li> <strong>String</strong> - Converts the text value of the <code><b>Name</b></code> to a <code><b>STRING</b></code> text value.
</li></ul>
</dd> <dt> <strong>Vector</strong>  </dt><dd> The <code><b>Vector</b></code> data type supports being converted to the folowing type: <ul>
<li> <strong>Rotator</strong> - Converts the direction from the origin of the world to the location specified by the coordinates of the <code><b>Vector</b></code> to the <code><b>Pitch</b></code> and <code><b>Yaw</b></code> values of a <code><b>Rotator</b></code> that would correspond to that direction. The <code><b>Roll</b></code> value will always be <code><b>0</b></code>.
</li></ul>
</dd> <dt> <strong>Rotator</strong>  </dt><dd> The <code><b>Rotator</b></code> data type supports being converted to the folowing type: <ul>
<li> <strong>Vector</strong> - Converts the <code><b>Pitch</b></code>, <code><b>Yaw</b></code>, and <code><b>Roll</b></code> values of a <code><b>Rotator</b></code> to the coordinates of a <code><b>Vector</b></code> starting at the origin and pointing in the direction of the rotations.
</li></ul>
</dd> <dt> <strong>Object Reference</strong>  </dt><dd> <code><b>Object Reference</b></code> data types support being converted to the following types: <ul>
<li> <strong>Int</strong> - Converts the <code><b>Object Reference</b></code> to a unique <code><b>Int</b></code> value.
</li> <li> <strong>Bool</strong> - Converts the <code><b>Object Reference</b></code> to <code><b>TRUE</b></code> if the variable holds a valid reference or <code><b>FALSE</b></code> if the value is <code><b>None</b></code>.
</li> <li> <strong>String</strong> - Converts the <code><b>Object Reference</b></code> to text form, i.e. the <code><b>Name</b></code> property of the <code><b>Object</b></code> or <code><b>Actor</b></code> being referenced (after casting the <code><b>Name</b></code> to a <code><b>String</b></code>) or <code><b>"None"</b></code> if there is no <code><b>Object</b></code> being referenced.
</li> <li> <strong>Object Reference</strong> - An <code><b>Object Reference</b></code> can be converted from one class to another provided the two classes are related. See <a href="UnrealScriptVariables.html#ConvertingReferences" class="twikiAnchorLink">Converting Object References</a> for complete details on this type of casting.
</li></ul>
</dd></dl>
<p />
<a name="ConvertingReferences"></a>
<h3><a name="Converting Object References"></a> Converting Object References </h3>
<p />
Just like the conversion functions above, which convert among simple data types, in UnrealScript you can convert actor and object references among various types. For example, all actors have a variable named "Target", which is a reference to another actor. Say you are writing a script where you need to check and see if your Target belongs to the "Pawn" actor class, and you need to do something special with your target that only makes sense when it's a pawn -- for example, you need to call one of the Pawn functions. The actor cast operators let you do this. Here's an example:
<p />
<div class="codesnippet">
<pre>
var actor Target;
//...

function TestActorConversions()
{
	local Pawn P;

	<span style="color:#008800;">// Cast Target to Pawn and assign the result to P.  If Target is not a Pawn (or subclass of Pawn), then the value assigned to P will be None.</span>
	P = Pawn(Target);
	if( P != None )
	{
		<span style="color:#008800;">// Target is a pawn, so set its Enemy to Self.</span>
		P.Enemy = Self;
   	}
   	else
   	{
	   	<span style="color:#008800;">// Target is not a pawn.</span>
   	}
}
</pre>
</div>
<p />
To perform an actor conversion, type the class name followed by the actor expression you wish to convert, in parenthesis. Such conversions will either succeed or fail based on whether the conversion is sensible. In the above example, if your Target is referencing a Trigger object rather than a pawn, the expression Pawn(Target) will return "None", since a Trigger can't be converted to a Pawn. However, if your Target is referencing a Brute object, the conversion will successfully return the Brute, because Brute is a subclass of Pawn.
<p />
Thus, actor conversions have two purposes: First, you can use them to see if a certain actor reference belongs to a certain class. Second, you can use them to convert an actor reference from one class to a more specific class. Note that these conversions don't affect the actor you're converting at all -- they just enable UnrealScript to treat the actor reference as if it were a more specific type and allow you access the properties and methods declared in the more derived class.
<p />
Another example of conversions lies in the Inventory script. Each Inventory actor is owned by a Pawn, even though its Owner variable can refer to any Actor (because Actor.Owner is a variable of type Actor). So a common theme in the Inventory code is to cast Owner to a Pawn, for example:
<p />
<div class="codesnippet">
<pre>
<span style="color:#008800;">// Called by engine when destroyed.</span>
function Destroyed()
{
	<span style="color:#008800;">// Remove from owner's inventory.</span>
	if( Pawn(Owner)!=None )
    	Pawn(Owner).DeleteInventory( Self );
}
</pre>
</div>
<p />
</noautolink>
<p />
<p />
<p />
<p />
<p />
<p />


<!-- BEGIN UE4 NOTICE -->



<div id="version_message" style="display:none;">

    <div style="position:fixed;top:0px;left:0px;width:100%;height:100%;background:#000;opacity:0.5;">

    </div>

    <div style="position:fixed;top:50%;left:50%;margin:-70px 0px 0px -240px;background:#FFF;border-radius:6px;width:480px;box-shadow:0px 5px 30px -5px rgba(0,0,0,0.9);">

        <div style="font-size:16px;font-weight:bold;background: url(rsrc/Three/warning.png) no-repeat scroll 5px 5px;padding:4px 10px 5px 25px;height:21px;width:440px;">

            Important!

        </div>

        <div style="font-size:11px;padding:5px 10px 10px;width:460px;">

            <p>You are viewing documentation for the <strong>Unreal Development Kit (UDK)</strong>.</p>



            <p>If you are looking for the Unreal Engine 4 documentation, please visit the <a style="color:#000;" href="https://docs.unrealengine.com">Unreal Engine 4 Documentation</a> site.</p>

        </div>

        <div style="height:20px;padding:4px;margin:6px;border-top:1px solid #a0a0a0;">

            <form onsubmit="return closeVersionMessage();">

                <input type="checkbox" id="dismiss" value="dismiss" />

                <label for="dsimiss">Don't show me this again</label>

                <input type="submit" value="Close" style="cursor:pointer;float:right;width:60px;color:#f0f0f0;font-weight:bold;background:#882222;height:24px;padding:2px 3px 3px;text-align:center;border:1px outset #000;" />

            </form>

        </div>

    </div>

</div>



<script type="text/javascript">

    window.onload = function () {

        LoadVersionMessage();

    }



    function LoadVersionMessage()

    {

        var showMessage = "false";
        if(showMessage != "false")

        {

            showVersionMessage();

        }

    }



    function showVersionMessage()

    {

        var message = document.getElementById("version_message");

        if(message)

        {

            message.style.display = "block";

        }

    }



    function closeVersionMessage() {

        var dismiss = document.getElementById("dismiss");

        var message = document.getElementById("version_message");

        if (message) {

            message.style.display = "none";

        }

        if (dismiss.checked) {

            eraseCookie("doc_version_message");

            createCookie("doc_version_message", "false", 365);

            dismiss.checked = false;

        }

        return false;

    }



    function createCookie(name, value, days) {

        if (days) {

            var date = new Date();

            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));

            var expires = "; expires=" + date.toGMTString();

        }

        else var expires = "";

        document.cookie = name + "=" + value + expires + "; path=/";

    }



    function readCookie(name) {

        var nameEQ = name + "=";

        var ca = document.cookie.split(';');

        for (var i = 0; i < ca.length; i++) {

            var c = ca[i];

            while (c.charAt(0) == ' ') c = c.substring(1, c.length);

            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);

        }

        return null;

    }



    function eraseCookie(name) {

        createCookie(name, "", -1);

    }

</script>



<!-- END UE4 NOTICE -->



</div></div><div id="footer"><div style="BACKGROUND-COLOR: transparent; margin: 0; padding: 0; width: 100%;"><div>&nbsp;</div><div style="float: left; text-align: left; vertical-align: bottom; width: 50%;"><a href="http://www.videogamevoters.org"><img src="rsrc/vgvn.jpg" border="0" width="234" height="60" alt="Video Game Voters Network" /></a></div><div style="float: right; text-align: right; vertical-align: bottom; width: 50%;">Copyright &copy; 2001-2012 <a href="http://www.epicgames.com" target="_top">Epic Games, Inc.</a><br /><a href="../Main/TermsAndConditions.html" class="twikiLink">Terms and Conditions</a><br /><a href="http://epicgames.com/privacynotice" target="_top">Privacy Notice</a></div></div></div></div>
<p />
</html></body>
