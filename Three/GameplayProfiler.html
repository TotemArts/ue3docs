<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title> UDK | GameplayProfiler    </title>

<style type="text/css" media="all">@import "rsrc/twiki_webs.css";</style>
<style type="text/css" media="all">@import "rsrc/udn_new.css";</style>
<link rel="icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />


<!-- view.static_udn3.tmpl  -->
<script language="JavaScript" type="text/javascript" src="rsrc/udn.js"></script>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

</head>
<p />
<body id="webbgThree">
<p />

<p />
<div id="webThree"><div id="head">
<!--
<div class="header">
 -->
<div style="background: url(/pub/webbg_udn.jpg); background-repeat: no-repeat; height:140px; width: 100%;" >
<!--
<div style="background: transparent url(/pub/udn_header_bg.jpg); background-repeat: repeat-x; height:140px; width: 100%; margin-left: 991px;">
 -->
<p />
<div id="nav">
<ul class="nav">
<font color=black>|</font>&nbsp;&nbsp;<li class=nav_Three><a href="../Main/WebHome.html" class="twikiLink">Main</a></li><font color=black>|</font><li class=nav_Three><a href="../Two/WebHome.html" class="twikiLink">UnrealEngine2</a></li><font color=black>|</font><li class=nav_Three><a href="WebHome.html" class="twikiLink">UnrealEngine3</a></li><font color=black>|</font><li class=nav_Three><a href="https://docs.unrealengine.com" class="twikiLink">UnrealEngine4</a></li><font color=black>|</font><li class=nav_Three><a href="../Main/BusinessAndLegal.html" class="twikiLink">Business &amp; Legal</a></li><font color=black>|</font>
</ul><br><br><br>
</div>
</div>
</div> <!-- end head -->
<div id="pagedefault">
<div id="maincol">
<div id="tool">
<div id="tooltop">UDN</div>
<div id="tooltext" style="padding: 10px 10px 10px 10px;">
Search public documentation: <br>
<form ACTION="/search/index.php" METHOD="GET" NAME="main" ID="main">
<input TYPE="TEXT" NAME="q" SIZE="15" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;">
<input TYPE="SUBMIT" VALUE="Search" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;"><br>
</form>
</div>
<div id="toolband">GameplayProfiler  </b></div>
<div id="tooltext">
<a href="GameplayProfilerJP.html" class="twikiLink">日本語訳</a><br><a href="GameplayProfilerCH.html" class="twikiLink">中国翻译</a><br><a href="GameplayProfilerKR.html" class="twikiLink">한국어</a><br>

<!-- Three/GameplayProfiler -->
<hr size="1" noshade="noshade" />
Interested in the Unreal Engine? <br>
Visit the <a href="http://www.unrealtechnology.com" target="_top">Unreal Technology</a> site.<br>
<br>
Looking for jobs and company info? <br>
Check out the <a href="http://www.epicgames.com" target="_top">Epic games</a> site.<br>
<br>
Questions about support via UDN? <br>
Contact the <a href="../Main/ContactUDNStaff.html" class="twikiLink">UDN Staff</a> <br>
<br>
</div> <!-- end toolbox content -->
<div id="toolbottom"></div>
</div> <!-- end tool -->
<p />
<noautolink>
<p />
<div style="padding:0px 0px 0px 4px;font:10px Verdana;">
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="PerformanceHome.html" class="twikiLink">Performance, Profiling, &amp; Optimization</a></b> &gt; Gameplay Profiler <br/>
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="GameplayProgrammingHome.html" class="twikiLink">Gameplay Programming</a></b> &gt; Gameplay Profiler
</div>
<hr size="1" noshade="noshade">
<h1><a name="Gameplay Profiler"></a> Gameplay Profiler </h1>
<hr size="1" noshade="noshade">
<p />
<div class="twikiToc"> <ul>
<li> <a href="GameplayProfiler.html#Gameplay Profiler"> Gameplay Profiler</a> <ul>
<li> <a href="GameplayProfiler.html#Overview"> Overview</a>
</li> <li> <a href="GameplayProfiler.html#Creating a Profile"> Creating a Profile</a>
</li> <li> <a href="GameplayProfiler.html#Viewing a Profile"> Viewing a Profile</a>
</li> <li> <a href="GameplayProfiler.html#Output"> Output</a> <ul>
<li> <a href="GameplayProfiler.html#Actor/ class call graph"> Actor/ class call graph</a>
</li> <li> <a href="GameplayProfiler.html#Function summary"> Function summary</a>
</li> <li> <a href="GameplayProfiler.html#Class hierarchy"> Class hierarchy</a>
</li> <li> <a href="GameplayProfiler.html#Function call graph"> Function call graph</a>
</li> <li> <a href="GameplayProfiler.html#Aggregate function summary"> Aggregate function summary</a>
</li> <li> <a href="GameplayProfiler.html#Aggregate function call graph"> Aggregate function call graph</a>
</li></ul>
</li></ul>
</li></ul>
</div>
<p />
<h2><a name="Overview"></a> Overview </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
The gameplay profiler is a tool that makes use of data captured during profiling sessions allowing you to dig deeper into gameplay code to analyze time spent performing functions. It is meant as a replacement for the Script Profiler.
<p />
<img src="rsrc/Three/GameplayProfiler/gp.jpg" alt="gp.jpg" width="640" height="443" />
<p />
<h2><a name="Creating a Profile"></a> Creating a Profile </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
You can start profiling at any time by running the <code><b>PROFILEGAME START</b></code> <a href="ConsoleCommands.html" class="twikiLink">console command</a> and stop it by running <code><b>PROFILEGAME STOP</b></code> at the console. Alternatively you can use <code><b>PROFILEGAME 10</b></code> to capture 10 seconds worth of gameplay.
<p />
A <code><b>.gprof</b></code> file is being written to your <code>[GameName]\Profiling\</code> folder and is automatically copied to the host PC on console. Beware that the files can get large fairly fast so it's best to only profile around hotspots for say 10-30 seconds.
<p />
<h2><a name="Viewing a Profile"></a> Viewing a Profile </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
Start the gameplay profiler executable, <code><b>GameplayProfiler.exe</b></code>. and either push the <strong>File Open</strong> button and navigate to the .gprof file you wish to open or simply pass in the file on the command line.
<p />
<strong>Note</strong>: The gameplay profiler executable can be found in the Binaries directory of the UE3 or UDK distribution.
<p />
<h2><a name="Output"></a> Output </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
After loading and parsing the data file you'll be presented with a graph of times and frames along with several tabs displaying the profiling data for the current frame broken down in various manners.
<p />
By default frame 0 is selected. A new frame can be selected by left-clicking in the graph or manually entering a frame number in the <strong>Frame</strong> field above the graph. The current frame is shown highlighted by a red vertical line in the graph.
<p />
You can zoom in on the graph by holding the left mouse button and dragging to create a marquee selection around the area you wish to view. Clicking the little circles on the left side of the frame axis or top of the time axis will zoom back out along the respective axis.
<p />
The <font color="#008000">green line</font> in the chart shows the frame time in ms whereas the <font color="#0000ff">blue line</font> shows the tracked actor tick/ script time and its relation to the frame time. E.g. not all spikes are related to script or gameplay ticking and this allows identifying and drilling into the ones that are.
<p />
The <strong>Time Threshold</strong> can be used to cause only the data that is in excess of that time to be shown. You can use this to only show events of a certain magnitude, making it easier to find problem areas.
<p />
When <strong>Show Native Timing Data</strong> is enabled, the time spent in cycle counter scopes is displayed in addition to the script timing data. This data normally requires the use of the StatsViewer to be analyzed. Being able to quickly view it alongside the script data directly in the Gameplay Profiler makes tracking down problems that much easier and faster.
<p />
The data shown in the tabs is color-coded to make it easier to know what type of data it is.
<p />
<img src="rsrc/Three/GameplayProfiler/gp_colorcoding.jpg" alt="gp_colorcoding.jpg" width="900" height="300" />
<p />
The types of data are:
<p /> <ul>
<li> <font color="#0000ff">Blue</font> - Script functions
</li> <li> <font color="#ff0000">Red</font> - Native code
</li> <li> <font color="#800080">Purple</font> - Levels
</li> <li> <font color="#008000">Green</font> - Actors
</li> <li> <font color="#808000">Olive</font> - Components
</li> <li> <font color="#ff6600">Orange</font> - Classes
</li></ul>
<p />
Also, the name of any associated asset will be displayed. For instance, if the data is for a SkeletalMeshComponent, the name of the SkeletalMesh applied to it will be displayed.
<p />
<img src="rsrc/Three/GameplayProfiler/gp_assetname.jpg" alt="gp_assetname.jpg" width="589" height="238" />
<p />
<h3><a name="Actor/ class call graph"></a> Actor/ class call graph </h3>
<p />
This view is split into two separate call graphs. On the left side is a level -&gt; actor -&gt; component/ function hierarchy for the selected frame that shows each instance individually, whereof on the right side is a grouping by actor class -&gt; actor -&gt; component/ function.
<p />
You can use the left side to see which levels are hot in a multi-level scenario (usually the persistant one that has object spawned in it) or look at the relative cost of certain objects.
<p />
The right view is useful when figuring out which types of objects are taking time and you can also see how many instances of a class there are. The inclusive and exclusive numbers displayed there represent the number of inclusive and exclusive child nodes in the tree before culling. A high inclusive number usually means a lot of different script functions were called.
<p />
<img src="rsrc/Three/GameplayProfiler/gp_callgraph.jpg" alt="gp_callgraph.jpg" width="900" height="624" />
<p />
<h3><a name="Function summary"></a> Function summary </h3>
<p />
This view shows each script function called during the selected frame with inclusive and exclusive time, call count and the ratios of inclusive and exclusive time per call. You can sort by a column in descending order by simply clicking on it. The only exception is the function name column, which is always sorted in ascending order.
<p />
<img src="rsrc/Three/GameplayProfiler/gp_functionsummary.jpg" alt="gp_functionsummary.jpg" width="900" height="624" />
<p />
<h3><a name="Class hierarchy"></a> Class hierarchy </h3>
<p />
The class hierarchy is a per class view of cost split into actor, actor component and function top level nodes. Worth noting that most actor component and function time is already accounted for by the actor time so you can't simply add up those numbers.
<p />
This view can be used to easily explore the class hierarchy and e.g. check how much time was spent ticking AI or how much time was spent in executing UnrealScript.
<p />
<img src="rsrc/Three/GameplayProfiler/gp_classhierarchy.jpg" alt="gp_classhierarchy.jpg" width="900" height="624" />
<p />
<h3><a name="Function call graph"></a> Function call graph </h3>
<p />
This tab shows a call graph for the currently selected frame.
<p />
<img src="rsrc/Three/GameplayProfiler/gp_functiongraph.jpg" alt="gp_functiongraph.jpg" width="900" height="624" />
<p />
<h3><a name="Aggregate function summary"></a> Aggregate function summary </h3>
<p />
This tab is similar to the function summary tab, albeit it aggregates the information for the entire capture duration. Inclusive and exclusive duration and call count are aggregated, max inclusive and max exclusive are the respective maxima for a single frame and the rest of the values are frame averages.
<p />
<img src="rsrc/Three/GameplayProfiler/gp_aggsummary.jpg" alt="gp_aggsummary.jpg" width="900" height="624" />
<p />
<h3><a name="Aggregate function call graph"></a> Aggregate function call graph </h3>
<p />
A call graph for all executaged functions, aggregated over the entire capture duration.
<p />
<img src="rsrc/Three/GameplayProfiler/gp_aggcallgraph.jpg" alt="gp_aggcallgraph.jpg" width="900" height="624" />
<p />
</noautolink>
<p />
<p />
<p />
<p />
<p />
<p />


<!-- BEGIN UE4 NOTICE -->



<div id="version_message" style="display:none;">

    <div style="position:fixed;top:0px;left:0px;width:100%;height:100%;background:#000;opacity:0.5;">

    </div>

    <div style="position:fixed;top:50%;left:50%;margin:-70px 0px 0px -240px;background:#FFF;border-radius:6px;width:480px;box-shadow:0px 5px 30px -5px rgba(0,0,0,0.9);">

        <div style="font-size:16px;font-weight:bold;background: url(rsrc/Three/warning.png) no-repeat scroll 5px 5px;padding:4px 10px 5px 25px;height:21px;width:440px;">

            Important!

        </div>

        <div style="font-size:11px;padding:5px 10px 10px;width:460px;">

            <p>You are viewing documentation for the <strong>Unreal Development Kit (UDK)</strong>.</p>



            <p>If you are looking for the Unreal Engine 4 documentation, please visit the <a style="color:#000;" href="https://docs.unrealengine.com">Unreal Engine 4 Documentation</a> site.</p>

        </div>

        <div style="height:20px;padding:4px;margin:6px;border-top:1px solid #a0a0a0;">

            <form onsubmit="return closeVersionMessage();">

                <input type="checkbox" id="dismiss" value="dismiss" />

                <label for="dsimiss">Don't show me this again</label>

                <input type="submit" value="Close" style="cursor:pointer;float:right;width:60px;color:#f0f0f0;font-weight:bold;background:#882222;height:24px;padding:2px 3px 3px;text-align:center;border:1px outset #000;" />

            </form>

        </div>

    </div>

</div>



<script type="text/javascript">

    window.onload = function () {

        LoadVersionMessage();

    }



    function LoadVersionMessage()

    {

        var showMessage = "false";
        if(showMessage != "false")

        {

            showVersionMessage();

        }

    }



    function showVersionMessage()

    {

        var message = document.getElementById("version_message");

        if(message)

        {

            message.style.display = "block";

        }

    }



    function closeVersionMessage() {

        var dismiss = document.getElementById("dismiss");

        var message = document.getElementById("version_message");

        if (message) {

            message.style.display = "none";

        }

        if (dismiss.checked) {

            eraseCookie("doc_version_message");

            createCookie("doc_version_message", "false", 365);

            dismiss.checked = false;

        }

        return false;

    }



    function createCookie(name, value, days) {

        if (days) {

            var date = new Date();

            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));

            var expires = "; expires=" + date.toGMTString();

        }

        else var expires = "";

        document.cookie = name + "=" + value + expires + "; path=/";

    }



    function readCookie(name) {

        var nameEQ = name + "=";

        var ca = document.cookie.split(';');

        for (var i = 0; i < ca.length; i++) {

            var c = ca[i];

            while (c.charAt(0) == ' ') c = c.substring(1, c.length);

            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);

        }

        return null;

    }



    function eraseCookie(name) {

        createCookie(name, "", -1);

    }

</script>



<!-- END UE4 NOTICE -->



</div></div><div id="footer"><div style="BACKGROUND-COLOR: transparent; margin: 0; padding: 0; width: 100%;"><div>&nbsp;</div><div style="float: left; text-align: left; vertical-align: bottom; width: 50%;"><a href="http://www.videogamevoters.org"><img src="rsrc/vgvn.jpg" border="0" width="234" height="60" alt="Video Game Voters Network" /></a></div><div style="float: right; text-align: right; vertical-align: bottom; width: 50%;">Copyright &copy; 2001-2012 <a href="http://www.epicgames.com" target="_top">Epic Games, Inc.</a><br /><a href="../Main/TermsAndConditions.html" class="twikiLink">Terms and Conditions</a><br /><a href="http://epicgames.com/privacynotice" target="_top">Privacy Notice</a></div></div></div></div>
<p />
</html></body>
