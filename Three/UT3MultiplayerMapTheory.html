<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title> UDK | UT3MultiplayerMapTheory    </title>

<style type="text/css" media="all">@import "rsrc/twiki_webs.css";</style>
<style type="text/css" media="all">@import "rsrc/udn_new.css";</style>
<link rel="icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />


<!-- view.static_udn3.tmpl  -->
<script language="JavaScript" type="text/javascript" src="rsrc/udn.js"></script>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

</head>
<p />
<body id="webbgThree">
<p />

<p />
<div id="webThree"><div id="head">
<!--
<div class="header">
 -->
<div style="background: url(/pub/webbg_udn.jpg); background-repeat: no-repeat; height:140px; width: 100%;" >
<!--
<div style="background: transparent url(/pub/udn_header_bg.jpg); background-repeat: repeat-x; height:140px; width: 100%; margin-left: 991px;">
 -->
<p />
<div id="nav">
<ul class="nav">
<font color=black>|</font>&nbsp;&nbsp;<li class=nav_Three><a href="../Main/WebHome.html" class="twikiLink">Main</a></li><font color=black>|</font><li class=nav_Three><a href="../Two/WebHome.html" class="twikiLink">UnrealEngine2</a></li><font color=black>|</font><li class=nav_Three><a href="WebHome.html" class="twikiLink">UnrealEngine3</a></li><font color=black>|</font><li class=nav_Three><a href="https://docs.unrealengine.com" class="twikiLink">UnrealEngine4</a></li><font color=black>|</font><li class=nav_Three><a href="../Main/BusinessAndLegal.html" class="twikiLink">Business &amp; Legal</a></li><font color=black>|</font>
</ul><br><br><br>
</div>
</div>
</div> <!-- end head -->
<div id="pagedefault">
<div id="maincol">
<div id="tool">
<div id="tooltop">UDN</div>
<div id="tooltext" style="padding: 10px 10px 10px 10px;">
Search public documentation: <br>
<form ACTION="/search/index.php" METHOD="GET" NAME="main" ID="main">
<input TYPE="TEXT" NAME="q" SIZE="15" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;">
<input TYPE="SUBMIT" VALUE="Search" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;"><br>
</form>
</div>
<div id="toolband">UT3MultiplayerMapTheory  </b></div>
<div id="tooltext">
<a href="UT3MultiplayerMapTheoryJP.html" class="twikiLink">日本語訳</a><br><a href="UT3MultiplayerMapTheoryCH.html" class="twikiLink">中国翻译</a><br><a href="UT3MultiplayerMapTheoryKR.html" class="twikiLink">한국어</a><br>

<!-- Three/UT3MultiplayerMapTheory -->
<hr size="1" noshade="noshade" />
Interested in the Unreal Engine? <br>
Visit the <a href="http://www.unrealtechnology.com" target="_top">Unreal Technology</a> site.<br>
<br>
Looking for jobs and company info? <br>
Check out the <a href="http://www.epicgames.com" target="_top">Epic games</a> site.<br>
<br>
Questions about support via UDN? <br>
Contact the <a href="../Main/ContactUDNStaff.html" class="twikiLink">UDN Staff</a> <br>
<br>
</div> <!-- end toolbox content -->
<div id="toolbottom"></div>
</div> <!-- end tool -->
<p />
<h1><a name="Multiplayer Map Theory (UT3)"></a> Multiplayer Map Theory (UT3) </h1>
<p />
<em>Document Summary: Some of the Level Designers for UT3 wanted to share some of our philosophies of making a great UT3 MP map now that the editor is public. Hopefully you can put them to good use.</em>
<p />
<em>Document Changelog: Created by <a href="https://udn.epicgames.com/Main/DaveEwing" class="restricted" class="restricted" class="twikiLink">Dave Ewing</a> and Richard Nalezynski<sup>?</sup>.</em>
<p />
<div class="twikiToc"> <ul>
<li> <a href="UT3MultiplayerMapTheory.html#Multiplayer Map Theory (UT3)"> Multiplayer Map Theory (UT3)</a> <ul>
<li> <a href="UT3MultiplayerMapTheory.html#Introduction"> Introduction</a>
</li> <li> <a href="UT3MultiplayerMapTheory.html#Gameplay"> Gameplay</a>
</li> <li> <a href="UT3MultiplayerMapTheory.html#Visuals"> Visuals</a>
</li> <li> <a href="UT3MultiplayerMapTheory.html#AI"> AI</a>
</li> <li> <a href="UT3MultiplayerMapTheory.html#Optimization"> Optimization</a>
</li> <li> <a href="UT3MultiplayerMapTheory.html#Conclusion"> Conclusion</a>
</li></ul>
</li></ul>
</div>
<p />
<p />
<h2><a name="Introduction"></a> Introduction </h2>
<p />
This document contains a series of Tips and Tricks to make the most of your UT map.
<p />
Please be aware that these are just suggestions on how to make user maps closer to professional quality, rather than a definitive ‘follow these steps to make a map’ guide.
<p />
<p />
<h2><a name="Gameplay"></a> Gameplay </h2>
<p />
<strong>Shelling</strong>
<p />
When starting a level, no matter what the game-type it is always best to ‘shell out’ the gameplay before you start on any visual work. With BSP and very few static meshes, quickly flush out the entire level to a point where you can play the level and see how fun it is. If it’s not fun before visual work, it’s not going to be fun after, and since visual work in UE3 can take the bulk of the level work time, you want to be sure you get your level as fun as possible before you start so you don’t waste a lot of time re-meshing and lighting to accommodate game-play changes.
<p />
<p />
<strong>Scale</strong>
<p />
One of the first things to look at when you start shelling is the scale of the level. It’s good to have variety, but generally, you don’t want your level so big and open that it feels like you are moving across it at a snail’s pace. But by the same token, you want hallways and rooms to be open enough that you can dodge a bit and can easily navigate without getting stuck. Another good tip is to avoid ledges that look like you can double jump to, but are actually just slightly higher than the double jump range. Once you have one area roughed out, be sure to jump in there with PIE (Play In Editor) and spend time just moving around and get the feel of your scale.
<p />
<p />
<strong>Flow</strong>
<p />
This is tricky to get right at times, but you want your level to be comfortable and intuitive to traverse. You want to pull the player around map without making people double back on themselves by accident. Pickup placement will have a large effect on flow, but the geometry of you level itself can often affect flow too. The best way to check your flow is have someone who hasn’t seen you level before try it out. Have them run around the level a few times to get familiar with it and see if they are favoring any particular spots or if they are missing any other spots entirely. Make sure they aren’t still getting lost after running through the map a few times and that they aren’t inadvertently doubling back on themselves.
<p />
<p />
<strong>Pickup Placement</strong>
<p />
Spread out your goodies! If key power-ups are too close together, other parts of your level are going to see very little traffic. Try to make sure players can easily find a weapon very quickly. Risk vs. reward is always a nice rule of thumb to follow for pickups in that you usually want more powerful pickups in spots where they are more difficult to get. Having large pickups in a guardable area works well, so once players get it, they can try to hold it.
<p />
<p />
<strong>Creativity</strong>
<p />
If you want your map to stand out from the crowd, this is the key! The fact that UT mapping is such a playground of gameplay and visual possibilities is what makes it so special. Don’t be afraid to go against the grain and try something completely different. Sometimes you fail miserably (like I have many times!), but when you succeed, you will have something very memorable on your hands.
<p />
<p />
<strong>Blocking Volumes</strong>
<p />
An essential step to polishing your level and getting to the point where you are ready to release it to the world is doing a blocking volume pass. If you open any of the UT3 ship maps in the editor you will see they are blanketed in blocking volumes. It can be tedious work, but it really pays off to have smooth walls and floors. If you just rely on the custom static mesh collision players will often get ‘hung up’ on spots where two meshes meet, even if they seem to be flush against each other. Be sure to turn off collision on any meshes completely encased in blocking volumes or are out of the play area (set these to ‘Block_Weapons’ since weapon fire will go through blocking volumes).
<p />
<p />
<strong>Force Direction Volumes</strong>
<p />
These are very useful for containing vehicles in playable space. They are essentially like ‘soft’ blocking volumes that will stop vehicles but have a little give so it doesn’t feel like you are hitting an invisible wall. Open up the ‘ForceDirVolume\Arrow’ tab and it’s direction indicates the direction the volume will push. You can also set the volumes to block on foot players and disallow them exit from vehicles that have pushed inside them.
<p />
<p />
<strong>Collision View Modes</strong>
<p />
In the drop-down menu for each viewport, you will find collision view modes. Non-Zero extent is player collision, Zero extent is weapon collision, and Rigidbody is rag-doll and vehicle collision. Non-Zero extent view mode is very useful for seeing what the player is actually colliding with and helps you eliminate sticky points were players can get hung up. It’s definitely best to view this mode with lighting fully built and enabled.
<p />
<p />
<h2><a name="Visuals"></a> Visuals </h2>
<p />
<strong>Scale</strong>
<p />
We try to keep the scale of our assets proportional to player size. Over-scaling will cover up BSP using fewer assets, but in the end it also lowers the overall visual quality of a level. Focus on 3 distinct types of visual detail: large, medium and small. Large objects are generally the walls and architecture; medium scale identifiers are doors and windows; small objects are things like trash, control panels, wires, or pickups. By maintaining a close eye on all 3 groups will you give the player a more satisfying and believable level regardless of whether it is sci-fi, semi-realistic, or Cel shaded.
<p />
<p />
<strong>Post Process Volumes</strong>
<p />
Post Process Volumes (PPV) are a relatively quick way of unifying the look of a level and give an artist/LD control over contrast, brightness, color hues and saturation. Your level should still be lit relatively close to how you want it, and then use post process to do exactly what the name says – as a correction tool applied after an event. If you use this tool to correct poor lighting decisions, it can lead to poor player / character / vehicle visibility and negatively impact bloom effects.
<p />
Within the PPV you have settings to define the amount a pixel will bloom, depth of field (which we add to help aid in defining the depth perception of a level), full screen motion blur, and object motion blur.
<p />
<p />
<strong>Lighting</strong>
<p />
It is always best to have a good idea of your lighting scheme before you begin meshing a level. This sounds obvious, but if you don’t start this way, you may find yourself wastefully redoing your lighting scheme a number of times. Whenever possible, we use concept art or photo reference to give the artist a strong starting point to follow. Remember – poor lighting can make even the best meshed level look bad and good lighting can really pull together a poorly meshed level!
<p />
Often, outdoor daytime levels are the easiest to light, as you have an obvious key light (the sun) and using a skylight actor will give you the overall bounce light from the sky and the ground (set each independently). Use point lights in areas where there is strong light to give the feel of reflected light and radiosity.
<p />
With interior levels, it makes sense to start with the obvious light sources and then work outward. Consider the lighting scheme and type of light while you are meshing to help your level look more professional. Are you using light that streams in from the windows as your main source of light? Are you using up-lighting in your corridors? Is the glowing pool of slime going to be the main light source? We often use different colored lights to help separate floors in a map, as it provides the player with a quick way of identifying which level they are on.
<p />
<p />
<strong>Fog Sheets</strong>
<p />
Fog sheets are a great way to add atmosphere to your level – they give the illusion of mist, smoke, heavy atmospherics, and can even help separate parts of a level. Fog meshes are often used in doorways leading to another room as they highlight the transition and are more subtle than something like a glowing neon sign. The material applied to a fog mesh can be set to any color and you can even use the material to reduce opacity as you approach.
<p />
<p />
<strong>Height Fog</strong>
<p />
No level should be without height fog! It doesn’t always need to be a heavy, but fog is a great way to aid depth perception and enhance the illusion of distance. You can place multiple height fog actors in your level to create things like low lying ground mist, a dense fog, or even just a more general atmospheric haze.
<p />
<p />
<strong>Importing custom meshes</strong>
<p />
Upon import, you will want to check that you have set up basic collision, a second UV set (can be done automatically in the editor or by hand in a 3D package), correct pivot position for optimal placement, and that the object has the correct number of materials. Choose if you want light map or vertex lighting on the mesh and assign a material. Place the mesh in a level and test out its scale and collision -- there is nothing more frustrating than collision snags for Level Designers!
<p />
<p />
<h2><a name="AI"></a> AI </h2>
<p />
<strong>Path colors and vehicles</strong>
<p />
Once your level is pathed, hit ‘p’ in the orthographic viewport to see how they connect up. For bots on foot: White paths mean the best connection and bots will cut corners between paths connected with white lines. Green lines are medium wide connections, and blue paths are narrow connections. With blue lines, bots will run directly on that line and if possible will not deviate from that path. For bots in vehicles, the lines mean more: Large vehicles like Goliaths and Paladins will only drive between paths connected by white lines. Medium vehicles like Hellbenders will drive white and green paths and only small vehicles like Mantas and Scavengers will navigate blue paths.  If you are having trouble getting bots to navigate your level in vehicles, having not enough white and green paths is likely the culprit.
<p />
<p />
<strong>bBlocked for vehicles</strong>
<p />
If you are noticing bots trying to drive vehicles in places they should not be trying to take them (like inside buildings or on narrow foot paths) you can easily stop this behavior by selecting the offending paths, opening up the ‘VehicleUsage’ tab in the properties and check bBlockedForVehicles. Conversely, if there are paths you want them to favor with vehicles, you can set them to bPreferredVehiclePath.
<p />
<p />
<strong>Map errors list</strong>
<p />
This is the list that pops up after you are finished a full rebuild. If possible this list should be empty! These errors are all there for a reason and eliminating them will both make your level run faster and make the bots navigate and play the level better. Don’t ignore it!
<p />
<p />
<h2><a name="Optimization"></a> Optimization </h2>
<p />
<strong>Detail Settings</strong>
<p />
From a Level Design standpoint, this is a big part of what makes UT3 so scalable. Meshes and particle emitters can be set to Low, Medium, or High detail setting (you can find this in the properties or in the right-click menu). All actors default to ‘Low’, which means they show up at all levels of detail. Use medium and high settings to have meshes only show up on medium and high detail settings. Be aware that meshes set to High will still be there on Low detail settings, they just won’t render. Thus if they have any collision turned on, they will still collide, even though you can’t see them. In View\Detail Mode in the Editor, you can set the viewports to show what the game looks like at each detail setting.
<p />
<p />
<strong>Stat LD</strong>
<p />
Typing ‘Stat LD’ at the console while running the game will give you lots of useful stats to help you optimize your level. This shows details of all the major elements related to what is rendering on screen at that moment. There are so many variables that account for frame rate, but a couple good guidelines to start with are as follows: ‘Static Mesh Tris’ will start to be a bottleneck once you are approaching 800,000 polygons and ‘Visible Static Mesh Elements’ (the actual number of static meshes visible) will start to be a bottleneck around 900.  Another good thing to try if your level is really chugging and you don’t know why, try Stat LD in a shipping level that most resembles your level and check its numbers to see if any of your numbers are completely out of whack with those.
<p />
<p />
<strong>Cull Distance Volumes</strong>
<p />
With UE3, occlusion occurs whenever the bounding box of a mesh is completely obscured by terrain, bsp, meshes or any combination of the three. Because of this, cutting down on sight-lines is a good optimization method since anything occluded doesn’t get rendered. But the process of deciding which polygons to occlude can be expensive itself, not to mention the fact that allowing players to fly around in Raptors makes it difficult to cut down on sight-lines. In these cases, Cull Distance volumes come in very handy. Search for CullDistance<sup>?</sup> volumes in shipping levels similar to yours to get a good idea of what values will work well. If cull distance volumes overlap, the more aggressive settings of the two will win out, so you can put a smaller cull distance volume with more aggressive settings inside a tightly occluded room even if your whole level is encompassed by a less aggressive cull distance volume. Keep in mind you can still set cull distance volumes on a per-mesh basis if you uncheck bAllowCullDistanceVol in the StaticMeshActor<sup>?</sup>\StaticMeshComponent tab. This is handy if you are seeing obvious ‘popping’ with a few meshes when they cull out, but don’t want to have to change the whole cull distance volume settings.
<p />
<p />
<strong>Dynamic/Toggleable Lights</strong>
<p />
<p />
<h2><a name="Conclusion"></a> Conclusion </h2>
<p />
<p />
<p />
<p />
<p />
<p />


<!-- BEGIN UE4 NOTICE -->



<div id="version_message" style="display:none;">

    <div style="position:fixed;top:0px;left:0px;width:100%;height:100%;background:#000;opacity:0.5;">

    </div>

    <div style="position:fixed;top:50%;left:50%;margin:-70px 0px 0px -240px;background:#FFF;border-radius:6px;width:480px;box-shadow:0px 5px 30px -5px rgba(0,0,0,0.9);">

        <div style="font-size:16px;font-weight:bold;background: url(rsrc/Three/warning.png) no-repeat scroll 5px 5px;padding:4px 10px 5px 25px;height:21px;width:440px;">

            Important!

        </div>

        <div style="font-size:11px;padding:5px 10px 10px;width:460px;">

            <p>You are viewing documentation for the <strong>Unreal Development Kit (UDK)</strong>.</p>



            <p>If you are looking for the Unreal Engine 4 documentation, please visit the <a style="color:#000;" href="https://docs.unrealengine.com">Unreal Engine 4 Documentation</a> site.</p>

        </div>

        <div style="height:20px;padding:4px;margin:6px;border-top:1px solid #a0a0a0;">

            <form onsubmit="return closeVersionMessage();">

                <input type="checkbox" id="dismiss" value="dismiss" />

                <label for="dsimiss">Don't show me this again</label>

                <input type="submit" value="Close" style="cursor:pointer;float:right;width:60px;color:#f0f0f0;font-weight:bold;background:#882222;height:24px;padding:2px 3px 3px;text-align:center;border:1px outset #000;" />

            </form>

        </div>

    </div>

</div>



<script type="text/javascript">

    window.onload = function () {

        LoadVersionMessage();

    }



    function LoadVersionMessage()

    {

        var showMessage = "false";
        if(showMessage != "false")

        {

            showVersionMessage();

        }

    }



    function showVersionMessage()

    {

        var message = document.getElementById("version_message");

        if(message)

        {

            message.style.display = "block";

        }

    }



    function closeVersionMessage() {

        var dismiss = document.getElementById("dismiss");

        var message = document.getElementById("version_message");

        if (message) {

            message.style.display = "none";

        }

        if (dismiss.checked) {

            eraseCookie("doc_version_message");

            createCookie("doc_version_message", "false", 365);

            dismiss.checked = false;

        }

        return false;

    }



    function createCookie(name, value, days) {

        if (days) {

            var date = new Date();

            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));

            var expires = "; expires=" + date.toGMTString();

        }

        else var expires = "";

        document.cookie = name + "=" + value + expires + "; path=/";

    }



    function readCookie(name) {

        var nameEQ = name + "=";

        var ca = document.cookie.split(';');

        for (var i = 0; i < ca.length; i++) {

            var c = ca[i];

            while (c.charAt(0) == ' ') c = c.substring(1, c.length);

            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);

        }

        return null;

    }



    function eraseCookie(name) {

        createCookie(name, "", -1);

    }

</script>



<!-- END UE4 NOTICE -->



</div></div><div id="footer"><div style="BACKGROUND-COLOR: transparent; margin: 0; padding: 0; width: 100%;"><div>&nbsp;</div><div style="float: left; text-align: left; vertical-align: bottom; width: 50%;"><a href="http://www.videogamevoters.org"><img src="rsrc/vgvn.jpg" border="0" width="234" height="60" alt="Video Game Voters Network" /></a></div><div style="float: right; text-align: right; vertical-align: bottom; width: 50%;">Copyright &copy; 2001-2012 <a href="http://www.epicgames.com" target="_top">Epic Games, Inc.</a><br /><a href="../Main/TermsAndConditions.html" class="twikiLink">Terms and Conditions</a><br /><a href="http://epicgames.com/privacynotice" target="_top">Privacy Notice</a></div></div></div></div>
<p />
</html></body>
