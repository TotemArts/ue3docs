<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title> UDK | CollisionReference    </title>

<style type="text/css" media="all">@import "rsrc/twiki_webs.css";</style>
<style type="text/css" media="all">@import "rsrc/udn_new.css";</style>
<link rel="icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />


<!-- view.static_udn3.tmpl  -->
<script language="JavaScript" type="text/javascript" src="rsrc/udn.js"></script>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

</head>
<p />
<body id="webbgThree">
<p />

<p />
<div id="webThree"><div id="head">
<!--
<div class="header">
 -->
<div style="background: url(/pub/webbg_udn.jpg); background-repeat: no-repeat; height:140px; width: 100%;" >
<!--
<div style="background: transparent url(/pub/udn_header_bg.jpg); background-repeat: repeat-x; height:140px; width: 100%; margin-left: 991px;">
 -->
<p />
<div id="nav">
<ul class="nav">
<font color=black>|</font>&nbsp;&nbsp;<li class=nav_Three><a href="../Main/WebHome.html" class="twikiLink">Main</a></li><font color=black>|</font><li class=nav_Three><a href="../Two/WebHome.html" class="twikiLink">UnrealEngine2</a></li><font color=black>|</font><li class=nav_Three><a href="WebHome.html" class="twikiLink">UnrealEngine3</a></li><font color=black>|</font><li class=nav_Three><a href="https://docs.unrealengine.com" class="twikiLink">UnrealEngine4</a></li><font color=black>|</font><li class=nav_Three><a href="../Main/BusinessAndLegal.html" class="twikiLink">Business &amp; Legal</a></li><font color=black>|</font>
</ul><br><br><br>
</div>
</div>
</div> <!-- end head -->
<div id="pagedefault">
<div id="maincol">
<div id="tool">
<div id="tooltop">UDN</div>
<div id="tooltext" style="padding: 10px 10px 10px 10px;">
Search public documentation: <br>
<form ACTION="/search/index.php" METHOD="GET" NAME="main" ID="main">
<input TYPE="TEXT" NAME="q" SIZE="15" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;">
<input TYPE="SUBMIT" VALUE="Search" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;"><br>
</form>
</div>
<div id="toolband">CollisionReference  </b></div>
<div id="tooltext">
<a href="CollisionReferenceJP.html" class="twikiLink">日本語訳</a><br><a href="CollisionReferenceCH.html" class="twikiLink">中国翻译</a><br><a href="CollisionReferenceKR.html" class="twikiLink">한국어</a><br>

<!-- Three/CollisionReference -->
<hr size="1" noshade="noshade" />
Interested in the Unreal Engine? <br>
Visit the <a href="http://www.unrealtechnology.com" target="_top">Unreal Technology</a> site.<br>
<br>
Looking for jobs and company info? <br>
Check out the <a href="http://www.epicgames.com" target="_top">Epic games</a> site.<br>
<br>
Questions about support via UDN? <br>
Contact the <a href="../Main/ContactUDNStaff.html" class="twikiLink">UDN Staff</a> <br>
<br>
</div> <!-- end toolbox content -->
<div id="toolbottom"></div>
</div> <!-- end tool -->
<p />
<noautolink>
<style type="text/css" media="all">@import "rsrc/UDNCSS_test.css";</style>
<div style="padding:0px 0px 0px 4px;font:10px Verdana;">
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="StaticMeshHome.html" class="twikiLink">Static Meshes</a></b> &gt; Collision Reference <br/>
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="PhysicsHome.html" class="twikiLink">Physics</a></b> &gt; Collision Reference <br/>
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="EnvironmentArtistHome.html" class="twikiLink">Environment Artist</a></b> &gt; Collision Reference
</div>
<hr size="1" noshade="noshade">
<h1><a name="Collision Reference"></a> Collision Reference </h1>
<hr size="1" noshade="noshade">
<p />
<div class="twikiToc"> <ul>
<li> <a href="CollisionReference.html#Collision Reference"> Collision Reference</a> <ul>
<li> <a href="CollisionReference.html#Overview"> Overview</a>
</li> <li> <a href="CollisionReference.html#Creating Skeletal mesh collision hulls"> Creating Skeletal mesh collision hulls</a>
</li> <li> <a href="CollisionReference.html#Creating static mesh collision hulls"> Creating static mesh collision hulls</a> <ul>
<li> <a href="CollisionReference.html#Creating a collision hull using the builder brush"> Creating a collision hull using the builder brush</a>
</li> <li> <a href="CollisionReference.html#Creating a collision hull using the K-DOP tool"> Creating a collision hull using the K-DOP tool</a>
</li> <li> <a href="CollisionReference.html#Creating a collision hull using the Sphere Simplified Collision"> Creating a collision hull using the Sphere Simplified Collision</a>
</li> <li> <a href="CollisionReference.html#Creating a collision hull using the Auto Convex Collision tool"> Creating a collision hull using the Auto Convex Collision tool</a>
</li> <li> <a href="CollisionReference.html#Creating a collision hull using your 3D Content Creation Package"> Creating a collision hull using your 3D Content Creation Package</a>
</li></ul>
</li> <li> <a href="CollisionReference.html#Volumes"> Volumes</a> <ul>
<li> <a href="CollisionReference.html#How to create a blocking volume"> How to create a blocking volume</a>
</li></ul>
</li> <li> <a href="CollisionReference.html#Examples"> Examples</a> <ul>
<li> <a href="CollisionReference.html#Player Movement and Weapon Fire"> Player Movement and Weapon Fire</a>
</li></ul>
</li> <li> <a href="CollisionReference.html#Reviewing Collision In-Game"> Reviewing Collision In-Game</a>
</li></ul>
</li></ul>
</div>
<p />
<h2><a name="Overview"></a> Overview </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
As graphical detail has increased, it is important to ensure that collision within the game remains simple. This is because of two reasons; it is much faster to calculate collision against a few polygons and it is a much smoother experience for the player as then the player does not get snagged on a small piece geometry. Collision response is split up into to distinct parts; Unreal Collision and PhysX. This document focuses on Unreal Collision, <a href="PhysicsHome.html" class="twikiLink">click here</a> to read more about PhysX. For more technical information about collision, please see the <a href="CollisionTechnicalGuide.html" class="twikiLink">Collision Technical Guide</a> page.
<p />
<h2><a name="Creating Skeletal mesh collision hulls"></a> Creating Skeletal mesh collision hulls </h2>
Please see <a href="PhATUserGuide.html" class="twikiLink">PhAT User Guide</a> on how to create collision hulls used by Skeletal Meshes.
<p />
<h2><a name="Creating static mesh collision hulls"></a> Creating static mesh collision hulls </h2>
<h3><a name="Creating a collision hull using the builder brush"></a> Creating a collision hull using the builder brush </h3>
<p />
Place the static mesh that you want to add a collision hull to into a level. Then place the builder brush around it in the shape you want the collision hull to be. Keep it as simple as possible!
<p />
<img src="rsrc/Three/CollisionReference/Collision_CreateCollisionHullWithBrush_0.jpg" alt="Collision_CreateCollisionHullWithBrush_0.jpg" width='800' height='433' />
<p />
Then select the static mesh, right click and choose Set Collision From Builder Brush from the context menu. This will take into account any scaling you may have applied to the static mesh.
<p />
<img src="rsrc/Three/CollisionReference/Collision_CreateCollisionHullWithBrush_1.jpg" alt="Collision_CreateCollisionHullWithBrush_1.jpg" width='800' height='433' />
<p />
It is very important to note that this collision will be added to all instances of the static mesh you have selected. To see the effect of saving the brush as collision you will have to save the package that contains the static mesh.
<p />
<img src="rsrc/Three/CollisionReference/Collision_CreateCollisionHullWithBrush_2.jpg" alt="Collision_CreateCollisionHullWithBrush_2.jpg" width='800' height='650' />
<p />
<h3><a name="Creating a collision hull using the K-DOP tool"></a> Creating a collision hull using the K-DOP tool </h3>
<p />
K-DOP is a tool in the Static Mesh Editor for generating simple collision hulls. K-DOP is a type of bounding volume, which stands for K discrete oriented polytope (where K is the number of axis aligned planes). Basically it takes K axis-aligned planes and pushes them as close to the mesh as it can. The resulting shape is used as a collision hull. In the Static Mesh Editor K can be:
<p /> <ul>
<li> <strong>6</strong> - Axis-aligned box.
</li> <li> <strong>10</strong> - Box with 4 edges beveled - you can choose X- Y- or Z-aligned edges.
</li> <li> <strong>18</strong> - Box with all edges beveled.
</li> <li> <strong>26</strong> - Box with all edges and corners beveled.
</li></ul>
<p />
See below for an example. This tool is quite handy for packages full of pipes, pillars and railings:
<p />
<img alt="kdop_sizes.jpg" src="rsrc/Three/CollisionReference/kdop_sizes.jpg" />
<p />
<h3><a name="Creating a collision hull using the Sphere Simplified Collision"></a> Creating a collision hull using the Sphere Simplified Collision </h3>
<p />
This tool simply wraps a sphere around the static mesh so that every part of the static mesh is within it. This is of course best used for static meshes that some what resemble a sphere.
<p />
<img src="rsrc/Three/CollisionReference/Collision_CreateCollisionHullWithSphere.jpg" alt="Collision_CreateCollisionHullWithSphere.jpg" width='800' height='650' />
<p />
<h3><a name="Creating a collision hull using the Auto Convex Collision tool"></a> Creating a collision hull using the Auto Convex Collision tool </h3>
<p />
This tool attempts to build a set of convex collision hulls for the static mesh. By adjusting the parameters, you can adjust how the convex hulls are created.
<p />
<img src="rsrc/Three/CollisionReference/Collision_CreateCollisionHullWithAutoConvex_0.jpg" alt="Collision_CreateCollisionHullWithAutoConvex_0.jpg" width='800' height='650' />
<p /> <ul>
<li> <strong>Depth</strong> - Determines how deep to go into the mesh. Adjusting this parameter may help conform the collision hull with the static mesh more closely.
</li> <li> <strong>Max Hull Verts</strong> - Maximum number of collision hull vertices. Increasing this value increase how complex the collision hulls are allowed to be.
</li> <li> <strong>Allow Splits</strong> - Maximum number of splits allowed. Increasing this value increase how many collision hulls are created.
</li></ul>
<p />
<img src="rsrc/Three/CollisionReference/Collision_CreateCollisionHullWithAutoConvex_1.jpg" alt="Collision_CreateCollisionHullWithAutoConvex_1.jpg" width='800' height='650' />
<p />
As you can see, the auto convex collision is reasonably accurate while keep the number of polygons down.
<p />
<img src="rsrc/Three/CollisionReference/Collision_CreateCollisionHullWithAutoConvex_2.jpg" alt="Collision_CreateCollisionHullWithAutoConvex_2.jpg" width='800' height='650' />
<p />
<h3><a name="Creating a collision hull using your 3D Content Creation Package"></a> Creating a collision hull using your 3D Content Creation Package </h3>
Please see <a href="FBXStaticMeshPipeline.html#Collision" class="twikiAnchorLink">FBX Static Mesh Pipeline</a> on how to create static mesh collision hulls within a 3D content creation package.
<p />
<h2><a name="Volumes"></a> Volumes </h2>
These are invisible BSP which can collide against actors in game. The example below will show you how to make a blocking volumes. Volumes can be both blocking collision and non blocking collision.
<p />
<h3><a name="How to create a blocking volume"></a> How to create a blocking volume </h3>
First make the builder brush the correct shape.
<p />
<img src="rsrc/Three/CollisionReference/Collision_Volume_CreateBrush.jpg" alt="Collision_Volume_CreateBrush.jpg" width='800' height='433' />
<p />
Right click on the Volume button in Unreal Editor and select BlockingVolume from the list.
<p />
<img src="rsrc/Three/CollisionReference/Collision_Volume_RightClickMenu.jpg" alt="Collision_Volume_RightClickMenu.jpg" width='800' height='433' />
<p />
These are generally used to block actors from reaching certain areas of the level.
<p />
<img src="rsrc/Three/CollisionReference/Collision_Volume_CreatedVolume.jpg" alt="Collision_Volume_CreatedVolume.jpg" width='800' height='433' />
<p />
<h2><a name="Examples"></a> Examples </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
Here are some examples of how to set various collision flags for common collision scenarios. The goal is to have the right combination of collision checks and flags for physics simulation.
<p />
<h3><a name="Player Movement and Weapon Fire"></a> Player Movement and Weapon Fire </h3>
<p />
For proper player movement, specifically, having a collision cylinder to be used for Pawn movement and collision with other Pawns, while using the kinematic bones for accurate collision detection (e.g. when tracing rays for shots), consider the following: <ul>
<li> Unreal physics (eg. PHYS_Walking) will sweep out the axis aligned bounding box of just the CollisionComponent. Using a SkeletalMeshComponent as the CollisionComponent when using PHYS_Walking is a bad idea, because it changes shape a lot as the character animates.
</li> <li> A line check will check against all PrimitiveComponents attached to an Actor, if they have CollideActors and BlockZeroExtent set set to true.
</li> <li> You do not need to have a PhysicsAssetInstance and kinematic bones to do line checks against bones. Simply having a PhysicsAsset assigned and having CollideActors and BlockZeroExtent set to true should result in you getting line check results (assuming the component is attached).
</li> <li> RBChannel/RBCollideWithChannel only affects physics engine collision. If your player is using PHYS_Walking, it will have no effect.
</li></ul>
<p />
Basically, your Pawn wants a CylinderComponent and a SkeletalMeshComponent. The CollisionComponent reference should be assigned to the CylinderComponent, and the SkeletalMeshComponent should set CollideActors and BlockZeroExtent to true, and your CylinderComponent should probably set BlockZeroExtent to false, to stop it from interfering with weapon traces.
<p />
<h2><a name="Reviewing Collision In-Game"></a> Reviewing Collision In-Game </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
There are several console commands you can use in-game for reviewing the collision setup. Here are a few. Typing them toggles them on and off.
<p /> <ul>
<li> <strong>show collision</strong> - This will draw all collision models and blocking volumes in use in the level. <br/> <img src="rsrc/Three/CollisionReference/Collision_ShowCollision.jpg" alt="Collision_ShowCollision.jpg" width='800' height='412' />
</li> <li> <strong>show zeroextent</strong> - Show collision in the level as if you were a zero extent trace. Invisible objects have no collision. <br/> <img src="rsrc/Three/CollisionReference/Collision_ZeroExtent.jpg" alt="Collision_ZeroExtent.jpg" width='800' height='412' />
</li> <li> <strong>show nonzeroextent</strong> - Show collision in the level as if you were a non zero extent trace. <br/> <img src="rsrc/Three/CollisionReference/Collision_NonZeroExtent.jpg" alt="Collision_NonZeroExtent.jpg" width='800' height='412' />
</li> <li> <strong>show rigidbody</strong> - Show collision in the level as if you were a rigid body (note, this does not show the effect of RBCC filter groups, only BlockRigidBody and UseSimpleRigidBodyCollision). <br/> <img src="rsrc/Three/CollisionReference/Collision_ShowRigidBody.jpg" alt="Collision_ShowRigidBody.jpg" width='800' height='412' />
</li></ul>
<!--   * <strong>show missingcollision</strong> - Typically used during level optimization, this applies a bright shader to all static meshes that have no collision model. --> <ul>
<li> <strong>nxvis collision</strong> - This shows you the PhysX collision information for the level, so you can see what rigid bodies are colliding with. <br/> <img src="rsrc/Three/CollisionReference/Collision_NxvisCollision.jpg" alt="Collision_NxvisCollision.jpg" width='800' height='412' />
</li> <li> <strong>stat game</strong> - This shows you various useful stats on how long different types of collision are taking. <br/> <img src="rsrc/Three/CollisionReference/Collision_StatGame.jpg" alt="Collision_StatGame.jpg" width='800' height='412' />
</li></ul>
<p />
</noautolink>
<p />
<p />
<p />
<p />
<p />
<p />


<!-- BEGIN UE4 NOTICE -->



<div id="version_message" style="display:none;">

    <div style="position:fixed;top:0px;left:0px;width:100%;height:100%;background:#000;opacity:0.5;">

    </div>

    <div style="position:fixed;top:50%;left:50%;margin:-70px 0px 0px -240px;background:#FFF;border-radius:6px;width:480px;box-shadow:0px 5px 30px -5px rgba(0,0,0,0.9);">

        <div style="font-size:16px;font-weight:bold;background: url(rsrc/Three/warning.png) no-repeat scroll 5px 5px;padding:4px 10px 5px 25px;height:21px;width:440px;">

            Important!

        </div>

        <div style="font-size:11px;padding:5px 10px 10px;width:460px;">

            <p>You are viewing documentation for the <strong>Unreal Development Kit (UDK)</strong>.</p>



            <p>If you are looking for the Unreal Engine 4 documentation, please visit the <a style="color:#000;" href="https://docs.unrealengine.com">Unreal Engine 4 Documentation</a> site.</p>

        </div>

        <div style="height:20px;padding:4px;margin:6px;border-top:1px solid #a0a0a0;">

            <form onsubmit="return closeVersionMessage();">

                <input type="checkbox" id="dismiss" value="dismiss" />

                <label for="dsimiss">Don't show me this again</label>

                <input type="submit" value="Close" style="cursor:pointer;float:right;width:60px;color:#f0f0f0;font-weight:bold;background:#882222;height:24px;padding:2px 3px 3px;text-align:center;border:1px outset #000;" />

            </form>

        </div>

    </div>

</div>



<script type="text/javascript">

    window.onload = function () {

        LoadVersionMessage();

    }



    function LoadVersionMessage()

    {

        var showMessage = "false";
        if(showMessage != "false")

        {

            showVersionMessage();

        }

    }



    function showVersionMessage()

    {

        var message = document.getElementById("version_message");

        if(message)

        {

            message.style.display = "block";

        }

    }



    function closeVersionMessage() {

        var dismiss = document.getElementById("dismiss");

        var message = document.getElementById("version_message");

        if (message) {

            message.style.display = "none";

        }

        if (dismiss.checked) {

            eraseCookie("doc_version_message");

            createCookie("doc_version_message", "false", 365);

            dismiss.checked = false;

        }

        return false;

    }



    function createCookie(name, value, days) {

        if (days) {

            var date = new Date();

            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));

            var expires = "; expires=" + date.toGMTString();

        }

        else var expires = "";

        document.cookie = name + "=" + value + expires + "; path=/";

    }



    function readCookie(name) {

        var nameEQ = name + "=";

        var ca = document.cookie.split(';');

        for (var i = 0; i < ca.length; i++) {

            var c = ca[i];

            while (c.charAt(0) == ' ') c = c.substring(1, c.length);

            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);

        }

        return null;

    }



    function eraseCookie(name) {

        createCookie(name, "", -1);

    }

</script>



<!-- END UE4 NOTICE -->



</div></div><div id="footer"><div style="BACKGROUND-COLOR: transparent; margin: 0; padding: 0; width: 100%;"><div>&nbsp;</div><div style="float: left; text-align: left; vertical-align: bottom; width: 50%;"><a href="http://www.videogamevoters.org"><img src="rsrc/vgvn.jpg" border="0" width="234" height="60" alt="Video Game Voters Network" /></a></div><div style="float: right; text-align: right; vertical-align: bottom; width: 50%;">Copyright &copy; 2001-2012 <a href="http://www.epicgames.com" target="_top">Epic Games, Inc.</a><br /><a href="../Main/TermsAndConditions.html" class="twikiLink">Terms and Conditions</a><br /><a href="http://epicgames.com/privacynotice" target="_top">Privacy Notice</a></div></div></div></div>
<p />
</html></body>
