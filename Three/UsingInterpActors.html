<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title> UDK | UsingInterpActors    </title>

<style type="text/css" media="all">@import "rsrc/twiki_webs.css";</style>
<style type="text/css" media="all">@import "rsrc/udn_new.css";</style>
<link rel="icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />


<!-- view.static_udn3.tmpl  -->
<script language="JavaScript" type="text/javascript" src="rsrc/udn.js"></script>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

</head>
<p />
<body id="webbgThree">
<p />

<p />
<div id="webThree"><div id="head">
<!--
<div class="header">
 -->
<div style="background: url(/pub/webbg_udn.jpg); background-repeat: no-repeat; height:140px; width: 100%;" >
<!--
<div style="background: transparent url(/pub/udn_header_bg.jpg); background-repeat: repeat-x; height:140px; width: 100%; margin-left: 991px;">
 -->
<p />
<div id="nav">
<ul class="nav">
<font color=black>|</font>&nbsp;&nbsp;<li class=nav_Three><a href="../Main/WebHome.html" class="twikiLink">Main</a></li><font color=black>|</font><li class=nav_Three><a href="../Two/WebHome.html" class="twikiLink">UnrealEngine2</a></li><font color=black>|</font><li class=nav_Three><a href="WebHome.html" class="twikiLink">UnrealEngine3</a></li><font color=black>|</font><li class=nav_Three><a href="https://docs.unrealengine.com" class="twikiLink">UnrealEngine4</a></li><font color=black>|</font><li class=nav_Three><a href="../Main/BusinessAndLegal.html" class="twikiLink">Business &amp; Legal</a></li><font color=black>|</font>
</ul><br><br><br>
</div>
</div>
</div> <!-- end head -->
<div id="pagedefault">
<div id="maincol">
<div id="tool">
<div id="tooltop">UDN</div>
<div id="tooltext" style="padding: 10px 10px 10px 10px;">
Search public documentation: <br>
<form ACTION="/search/index.php" METHOD="GET" NAME="main" ID="main">
<input TYPE="TEXT" NAME="q" SIZE="15" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;">
<input TYPE="SUBMIT" VALUE="Search" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;"><br>
</form>
</div>
<div id="toolband">UsingInterpActors  </b></div>
<div id="tooltext">
<a href="UsingInterpActorsJP.html" class="twikiLink">日本語訳</a><br><a href="UsingInterpActorsCH.html" class="twikiLink">中国翻译</a><br><a href="UsingInterpActorsKR.html" class="twikiLink">한국어</a><br>

<!-- Three/UsingInterpActors -->
<hr size="1" noshade="noshade" />
Interested in the Unreal Engine? <br>
Visit the <a href="http://www.unrealtechnology.com" target="_top">Unreal Technology</a> site.<br>
<br>
Looking for jobs and company info? <br>
Check out the <a href="http://www.epicgames.com" target="_top">Epic games</a> site.<br>
<br>
Questions about support via UDN? <br>
Contact the <a href="../Main/ContactUDNStaff.html" class="twikiLink">UDN Staff</a> <br>
<br>
</div> <!-- end toolbox content -->
<div id="toolbottom"></div>
</div> <!-- end tool -->
<p />
<noautolink>
<p />
<div style="padding:0px 0px 0px 4px;font:10px Verdana;">
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="KismetHome.html" class="twikiLink">Kismet Visual Scripting</a></b> &gt; Using InterpActors <br/>
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="MatineeAndCinematicsHome.html" class="twikiLink">Matinee &amp; Cinematics</a></b> &gt; Using InterpActors <br/>
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="CinematicArtistHome.html" class="twikiLink">Cinematic Artist</a></b> &gt; Using InterpActors
</div>
<hr size="1" noshade="noshade">
<h1><a name="Using _InterpActors"></a> Using InterpActors </h1>
<hr size="1" noshade="noshade">
<p />
<div class="twikiToc"> <ul>
<li> <a href="UsingInterpActors.html#Using _InterpActors"> Using InterpActors</a> <ul>
<li> <a href="UsingInterpActors.html#Overview"> Overview</a>
</li> <li> <a href="UsingInterpActors.html#Lighting _InterpActors"> Lighting InterpActors</a>
</li> <li> <a href="UsingInterpActors.html#Common _InterpActor Properties"> Common InterpActor Properties</a>
</li> <li> <a href="UsingInterpActors.html#Doors"> Doors</a>
</li> <li> <a href="UsingInterpActors.html#Elevators"> Elevators</a>
</li> <li> <a href="UsingInterpActors.html#Lifts"> Lifts</a>
</li> <li> <a href="UsingInterpActors.html#Rotators (fans, etc.)"> Rotators (fans, etc.)</a>
</li></ul>
</li></ul>
</div>
<p />
<h2><a name="Overview"></a> Overview </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
The InterpActor (interpolating actor) is a special dynamic version of the StaticMesh Actor.  It supports a variety of physics types, it uses dynamic lighting, it can be controlled in a variety of ways with Unreal Kismet and Matinee, and it can play a number of sounds for specific actor states. <br>
For those who are familiar with previous Unreal Engines, the InterpActor is Unreal Engine 3's <em>Mover</em>.
<p />
Any standard StaticMesh can be used as an InterpActor.  When inserted into a map, the InterpActor renders the same as a standard StaticMesh with the exception of its magenta (violet) wireframe color in the orthogonal viewports.  It is also moved, scaled and rotated in the editor in a similar fashion to the StaticMesh actors. <br>
<p />
A variety of InterpActors:
<p />
<img alt="UE3InterpActors.gif" src="rsrc/Three/UsingInterpActors/UE3InterpActors.gif" />
<p />
<strong>Inserting an InterpActor</strong>
<p />
InterpActor's are inserted into the map using a similar method to StaticMeshes.
<p />
- Make sure that the Drag Grid is currently enabled and set to a Drag Grid Size of between 4 and 32 <br>
- Select the desired StaticMesh in the Generic Browser dialog <br>
- Right-click in one of the viewports to display the pop-up menu <br>
- Choose the "Add Actor" menu item to display its fly-out menu <br>
- Then click on the "Add InterpActor: StaticMesh &lt;selected static mesh name&gt;" menu item to insert the InterpActor
<p />
The InterpActor will look identical to an inserted StaticMesh version with the exception that its wireframe color will be magenta instead of cyan.
<p />
<img alt="UE3IAInsert.gif" src="rsrc/Three/UsingInterpActors/UE3IAInsert.gif" />
<p />
<strong>InterpActor Origin and Pivot</strong>
<p />
The basing location and pivot center-of-rotation for InterpActors is based on the StaticMesh's origin or pivot point, so it is imperative to create all mesh models that will be used as InterpActors with their pivot in the appropriate basing and pivot center of the mesh.  For example, most doors will have their pivot on one side corner where the door hinge would normally reside, lift platforms will have their pivot at their base-center, and exhaust fans will have their pivot in the center hub of the blades.
<p />
The following StaticMesh wireframe images show the common pivot point for each of these InterpActor types:
<p />
<img alt="UE3IAOrigin.gif" src="rsrc/Three/UsingInterpActors/UE3IAOrigin.gif" />
<p />
If a StaticMesh has been designed where its pivot is in the incorrect location for use as an InterpActor, the pivot location can be modified for the current inserted instance of the object by modifying its Display.PrePivot properties.  If the pivot offset is already known, simply enter the X,Y,Z values into the properties.  If the offset is not known, then use the editor measure tool (Ctrl + Mouse Middle Button) to determine the offset amount or simply enter values in until the InterpActor mesh lines up with its pivot as desired.
<p />
<img alt="UE3PrePivot.gif" src="rsrc/Three/UsingInterpActors/UE3PrePivot.gif" />
<p />
Once the InterpActor is inserted, specific properties and possibly Kismet and Matinee must be set up to make the actor move as desired.  See the specifics for a variety of common InterpActor types in the topics below.
<p />
<p />
<h2><a name="Lighting _InterpActors"></a> Lighting InterpActors </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
InterpActors are essentially dynamic StaticMeshes, so it is required to light them dynamically.  The standard baked Static lighting will result in InterpActors that are rendered black in the Perspective viewport and in-game.  There are a number of methods available for lighting InterpActors, and the method(s) chosen may vary for a specific map design.
<p />
Be aware that using dynamic lighting has a greater performance cost, so it should be used carefully and dynamic lights should normally be restricted to the minimum amount of area required.
<p />
<strong>Ambient Glow</strong>
<p />
An InterpActor can be set so that it basically lights itself by setting its DynamicSMActor.LightEnvironment.DynamicLightEnvironmentComponent.AmbientGlow.A,R,G,B properties to a set of non-zero values (an RGB of 0,0,0 is black).  The ARGB values chosen directly correspond to the color that the actor will "glow" at.
<p />
The down-side to using AmbientGlow is that the actor lights evenly over its entire surface, essentially reducing or removing any 3D shadowing from its features.  When used excessively, AmbientGlow will make the InterpActor look flat and lifeless.
<p />
<img alt="UE3AmbientGlow.gif" src="rsrc/Three/UsingInterpActors/UE3AmbientGlow.gif" />
<p />
<strong>Light Environment</strong>
<p />
<em>under construction</em>
<p />
<strong>User Lighting Channel</strong>
<p />
UE3 supports six user-defined lighting channels called <em>Unnamed_1</em> through <em>Unnamed_6</em>.  The user-defined channels allow custom lighting to be restricted to a defined set of objects in the scene.  By placing one or more DirectionalLight, PointLight, SkyLight or SpotLight actors as required, with an Unnamed_* channel selected that corresponds to the same channel on the InterpActor, those lights will only affect the InterpActor.
<p />
So a simple method to light an InterpActor would be to set <em>only</em> the InterpActor's DynamicSMActor.StaticMeshComponent.Lighting.LightingChannels.Dynamic and .Unnamed_1 channels to True, this allows the InterpActor to show both dynamic lights from such things as projectiles and the user-defined light(s) that are also set to the same lighting channel.  Then place a PointLight at the appropriate location relative to the InterpActor and set <em>only</em> the Light.LightComponent.LightingChannels.Unnamed_1 lighting channel to True. <br>
With six user-defined Unnamed_* lighting channels, there is usually more than enough channels for custom lighting needs.
<p />
The downside to using the user-defined lighting channels are possible issues with matching the rest of the scene static lighting if it is complex, and only six Unnamed channels are available.
<p />
<img alt="UE3LightingChannel.gif" src="rsrc/Three/UsingInterpActors/UE3LightingChannel.gif" />
<p />
<p />
<h2><a name="Common _InterpActor Properties"></a> Common InterpActor Properties </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
<em>under construction</em>
<p />
<p />
<h2><a name="Doors"></a> Doors </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
<em>coming soon</em>
<p />
<p />
<h2><a name="Elevators"></a> Elevators </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
<em>coming soon</em>
<p />
<p />
<h2><a name="Lifts"></a> Lifts </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
Creating a lift type InterpActor is an easy task in UE3 since Epic has already done most of the work for you.  A lift requires only a StaticMesh and a simple Unreal Kismet and Matinee setup.
<p />
1.  Select the desired StaticMesh in the Generic Browser. <br>
2.  Insert the InterpActor into the map and position it where desired. <br>
3.  Open the actor properties dialog and set the following values: <br>
<p /> <ul>
<li> Collision.BlockRigidBody = True. <br> This is so that players and AI can collide and/or stand on the InterpActor. This defaults to False.
</li> <li> Collision.CollisionType = COLLIDE_BlockAll. <br> So that the InterpActor can collide with other actors and to cast shadows.
</li></ul>
<p /> <ul>
<li> Display.DrawScale and Display.DrawScale3D.X,Y,Z as desired. <br> For the size of the InterpActor. All of these default to 1.0.
</li></ul>
<p /> <ul>
<li> DynamicSMActor.LightEnvironment.DynamicLightEnvironmentComponent.AmbientGlow.A,R,G,B as desired. <br> For additional brightening of the InterpActor. These default to A = 1.0, R = 0.0, G = 0.0, B = 0.0.
</li> <li> DynamicSMActor.LightEnvironment.bCastShadows = True. <br> If you do not want the InterpActor to cast shadows then set this to False. This defaults to True.
</li> <li> DynamicSMActor.LightEnvironment.LightEnvironmentComponent.bEnabled = False. <br> Set this true if you are using a LightEnvironment with this InterpActor.
</li></ul>
<p /> <ul>
<li> InterpActor.bContinueOnEncroachPhysicsObject = True. <br> If the InterpActor is to continue even if a PHYS_RigidBody actor is near. This defaults to True.
</li> <li> InterpActor.bDestroyProjectilesOnEncroach = True. <br> If the InterpActor is to blow up projectiles that collide with it. This defaults to True.
</li> <li> InterpActor.bStopOnEncroach = True. <br> If the InterpActor is to stop when it gets close to another actor. This defaults to True.
</li></ul>
<p /> <ul>
<li> Movement.Location as desired to place the InterpActor in the map.
</li> <li> Movement.Physics = PHYS_Interpolating.
</li> <li> Movement.Rotation.Pitch,Roll,Yaw as desired to orient the InterpActor in the map.
</li></ul>
<p />
4.  Create the Kismet and Matinee for the Lift:
<p /> <ul>
<li> Select the InterpActor.
</li> <li> Start Unreal Kismet by clicking on the "K" toolbar button.
</li> <li> Right-click in the Kismet dialog to display the popup menu, choose "New Event Using InterpActor_x", and then choose the "Mover" item.  This creates a default Lift mover style Kismet template.
</li> <li> Add a new "Comment (wrap)" to Kismet, give it a name such as "Left Lift" and wrap that around the sequence.
</li></ul>
<p />
Looking at the Mover Event created in Kismet, we can see the basic logic behind what is to occur in controlling the Lift. <br>
The Kismet Mover Event is constructed of the InterpActor Mover and a Matinee. <br>
- When the Pawn (player or ai) steps on the Lift, it causes a Mover "Pawn Attached" event that triggers the Matinee "Play", which starts playing the Matinee Movement track (the Matinee track will be discussed below). <br>
- When the Mover has completed its open sequence, ie. moving from KeyFrame 0 to the last KeyFrame, it causes a Mover "Open Finished" event that triggers the Matinee "Reverse", which then plays the Matinee Movement track in reverse. <br>
- The Mover "Hit Actor" event, which occurs if the Mover bumps a Pawn, triggers a Matinee "Change Dir" that causes the Matinee track to change direction amd move the Mover back away from the Pawn.
<p />
<img alt="UE3LiftKismet.gif" src="rsrc/Three/UsingInterpActors/UE3LiftKismet.gif" />
<p />
5.  Create the Matinee values for the Lift animation:
<p /> <ul>
<li> Make sure the InterpActor is still selected in the map viewport.
</li> <li> Double-click the Matinee device or right-click and choose "Open UnrealMatinee" to display the Matinee Editor dialog.
</li> <li> Note the MoverGroup item in the center panel, open it up to show the Mover track beneath it.
</li> <li> Click on the "Toggle Snap" button if it is not on, set it to 0.1s snaps (1/10th of a second).
</li> <li> Click on the "Add Key" button on the dialog top left (not to be confused with the same icon button for "Toggle Snap"). <br> This will add a keyframe at time position 0.00.  This will be the lowered resting position of the Lift.
</li> <li> Drag the black slider bar to 0.5s, click on "Add Key" again to add a second keyframe here.  The snap will put it on 0.5s if it is off a bit.
</li> <li> Click on the small orange triangle/pyramid on the second keyframe, the Matinee will show "OKey1" and the editor will show "ADJUST KEY 1".
</li> <li> Move the InterpActor to the location for this KeyFrame.  This will be the raised position of the Lift.
</li> <li> Drag the pink Time End marker to the time of 1.0s.  This determines the length of time that the Lift stays in the raised position.
</li> <li> You can now drag the time slider to see the movement.
</li> <li> Close Matinee and UnrealKismet.
</li></ul>
<p />
<em>matinee description to be completed</em>
<p />
<img alt="UE3LiftMatinee.gif" src="rsrc/Three/UsingInterpActors/UE3LiftMatinee.gif" />
<p />
6.  Add the desired lighting style as mentioned previously in this tutorial.
<p />
<strong>Adding AI Support for Lifts</strong>
<p />
<em>to be completed</em>
<p />
<p />
<h2><a name="Rotators (fans, etc.)"></a> Rotators (fans, etc.) </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
Creating a continuously rotating InterpActor is very simple and is one of the most basic functions of the actor.  A rotator type InterpActor does not require any work with Unreal Kismet or Matinee.
<p />
1.  Select the desired StaticMesh in the Generic Browser. <br>
2.  Insert the InterpActor into the map and position it where desired. <br>
3.  Make sure that the actor pivot location is correct for where the rotator spins. <br>
4.  Open the actor properties dialog and set the following values: <br>
<p /> <ul>
<li> Collision.BlockRigidBody = False. <br> If the InterpActor is to collide with rigid body actors then set this to True. This defaults to False.
</li> <li> Collision.CollisionType = COLLIDE_BlockAll. <br> If the InterpActor is to collide with other actors and to cast shadows.
</li></ul>
<p /> <ul>
<li> Display.DrawScale and Display.DrawScale3D.X,Y,Z as desired. <br> For the size of the InterpActor. All of these default to 1.0.
</li></ul>
<p /> <ul>
<li> DynamicSMActor.LightEnvironment.DynamicLightEnvironmentComponent.AmbientGlow.A,R,G,B as desired. <br> For additional brightening of the InterpActor. These default to A = 1.0, R = 0.0, G = 0.0, B = 0.0.
</li> <li> DynamicSMActor.LightEnvironment.bCastShadows = False. <br> If you want the InterpActor to cast shadows then set this to True. This defaults to True.  Depending on the InterpActor design and its use in the map, the dynamic shadows may not look appropriate.
</li> <li> DynamicSMActor.LightEnvironment.LightEnvironmentComponent.bEnabled = False. <br> Set this true if you are using a LightEnvironment with this InterpActor.
</li></ul>
<p /> <ul>
<li> InterpActor.bContinueOnEncroachPhysicsObject = True. <br> If the InterpActor is to continue even if a PHYS_RigidBody actor is near. This defaults to True.
</li> <li> InterpActor.bDestroyProjectilesOnEncroach = True. <br> If the InterpActor is to blow up projectiles that collide with it. This defaults to True.
</li> <li> InterpActor.bStopOnEncroach = True. <br> If the InterpActor is to stop when it gets close to another actor. This defaults to True.
</li></ul>
<p /> <ul>
<li> Movement.Location as desired to place the InterpActor in the map.
</li> <li> Movement.Physics = PHYS_Rotating, so that the InterpActor always rotates on its origin pivot during the game.
</li> <li> Movement.Rotation.Pitch,Roll,Yaw as desired to orient the InterpActor in the map.
</li> <li> Movement.RotationRate.Yaw as desired to specify the speed at which the InterpActor rotates. <br> Higher values are faster speeds. A value of 300 to 500 is common for exhaust fans.
</li></ul>
<p />
5. Add the desired lighting style as mentioned previously in this tutorial.
<p />
6. Insert an AmbientSoundSimple actor if you wish to associate a looping ambient sound to the InterpActor, such as the noise from a spinning fan.
<p />
Test the map in the Play-In-Editor to check the rotator motion.
<p />
<img alt="UE3IAFan.jpg" src="rsrc/Three/UsingInterpActors/UE3IAFan.jpg" />
<p />
</noautolink>
<p />
<p />
<p />
<p />
<p />
<p />


<!-- BEGIN UE4 NOTICE -->



<div id="version_message" style="display:none;">

    <div style="position:fixed;top:0px;left:0px;width:100%;height:100%;background:#000;opacity:0.5;">

    </div>

    <div style="position:fixed;top:50%;left:50%;margin:-70px 0px 0px -240px;background:#FFF;border-radius:6px;width:480px;box-shadow:0px 5px 30px -5px rgba(0,0,0,0.9);">

        <div style="font-size:16px;font-weight:bold;background: url(rsrc/Three/warning.png) no-repeat scroll 5px 5px;padding:4px 10px 5px 25px;height:21px;width:440px;">

            Important!

        </div>

        <div style="font-size:11px;padding:5px 10px 10px;width:460px;">

            <p>You are viewing documentation for the <strong>Unreal Development Kit (UDK)</strong>.</p>



            <p>If you are looking for the Unreal Engine 4 documentation, please visit the <a style="color:#000;" href="https://docs.unrealengine.com">Unreal Engine 4 Documentation</a> site.</p>

        </div>

        <div style="height:20px;padding:4px;margin:6px;border-top:1px solid #a0a0a0;">

            <form onsubmit="return closeVersionMessage();">

                <input type="checkbox" id="dismiss" value="dismiss" />

                <label for="dsimiss">Don't show me this again</label>

                <input type="submit" value="Close" style="cursor:pointer;float:right;width:60px;color:#f0f0f0;font-weight:bold;background:#882222;height:24px;padding:2px 3px 3px;text-align:center;border:1px outset #000;" />

            </form>

        </div>

    </div>

</div>



<script type="text/javascript">

    window.onload = function () {

        LoadVersionMessage();

    }



    function LoadVersionMessage()

    {

        var showMessage = "false";
        if(showMessage != "false")

        {

            showVersionMessage();

        }

    }



    function showVersionMessage()

    {

        var message = document.getElementById("version_message");

        if(message)

        {

            message.style.display = "block";

        }

    }



    function closeVersionMessage() {

        var dismiss = document.getElementById("dismiss");

        var message = document.getElementById("version_message");

        if (message) {

            message.style.display = "none";

        }

        if (dismiss.checked) {

            eraseCookie("doc_version_message");

            createCookie("doc_version_message", "false", 365);

            dismiss.checked = false;

        }

        return false;

    }



    function createCookie(name, value, days) {

        if (days) {

            var date = new Date();

            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));

            var expires = "; expires=" + date.toGMTString();

        }

        else var expires = "";

        document.cookie = name + "=" + value + expires + "; path=/";

    }



    function readCookie(name) {

        var nameEQ = name + "=";

        var ca = document.cookie.split(';');

        for (var i = 0; i < ca.length; i++) {

            var c = ca[i];

            while (c.charAt(0) == ' ') c = c.substring(1, c.length);

            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);

        }

        return null;

    }



    function eraseCookie(name) {

        createCookie(name, "", -1);

    }

</script>



<!-- END UE4 NOTICE -->



</div></div><div id="footer"><div style="BACKGROUND-COLOR: transparent; margin: 0; padding: 0; width: 100%;"><div>&nbsp;</div><div style="float: left; text-align: left; vertical-align: bottom; width: 50%;"><a href="http://www.videogamevoters.org"><img src="rsrc/vgvn.jpg" border="0" width="234" height="60" alt="Video Game Voters Network" /></a></div><div style="float: right; text-align: right; vertical-align: bottom; width: 50%;">Copyright &copy; 2001-2012 <a href="http://www.epicgames.com" target="_top">Epic Games, Inc.</a><br /><a href="../Main/TermsAndConditions.html" class="twikiLink">Terms and Conditions</a><br /><a href="http://epicgames.com/privacynotice" target="_top">Privacy Notice</a></div></div></div></div>
<p />
</html></body>
