<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title> UDK | UsingNavigationMeshes    </title>

<style type="text/css" media="all">@import "rsrc/twiki_webs.css";</style>
<style type="text/css" media="all">@import "rsrc/udn_new.css";</style>
<link rel="icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />


<!-- view.static_udn3.tmpl  -->
<script language="JavaScript" type="text/javascript" src="rsrc/udn.js"></script>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

</head>
<p />
<body id="webbgThree">
<p />

<p />
<div id="webThree"><div id="head">
<!--
<div class="header">
 -->
<div style="background: url(/pub/webbg_udn.jpg); background-repeat: no-repeat; height:140px; width: 100%;" >
<!--
<div style="background: transparent url(/pub/udn_header_bg.jpg); background-repeat: repeat-x; height:140px; width: 100%; margin-left: 991px;">
 -->
<p />
<div id="nav">
<ul class="nav">
<font color=black>|</font>&nbsp;&nbsp;<li class=nav_Three><a href="../Main/WebHome.html" class="twikiLink">Main</a></li><font color=black>|</font><li class=nav_Three><a href="../Two/WebHome.html" class="twikiLink">UnrealEngine2</a></li><font color=black>|</font><li class=nav_Three><a href="WebHome.html" class="twikiLink">UnrealEngine3</a></li><font color=black>|</font><li class=nav_Three><a href="https://docs.unrealengine.com" class="twikiLink">UnrealEngine4</a></li><font color=black>|</font><li class=nav_Three><a href="../Main/BusinessAndLegal.html" class="twikiLink">Business &amp; Legal</a></li><font color=black>|</font>
</ul><br><br><br>
</div>
</div>
</div> <!-- end head -->
<div id="pagedefault">
<div id="maincol">
<div id="tool">
<div id="tooltop">UDN</div>
<div id="tooltext" style="padding: 10px 10px 10px 10px;">
Search public documentation: <br>
<form ACTION="/search/index.php" METHOD="GET" NAME="main" ID="main">
<input TYPE="TEXT" NAME="q" SIZE="15" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;">
<input TYPE="SUBMIT" VALUE="Search" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;"><br>
</form>
</div>
<div id="toolband">UsingNavigationMeshes  </b></div>
<div id="tooltext">
<a href="UsingNavigationMeshesJP.html" class="twikiLink">日本語訳</a><br><a href="UsingNavigationMeshesCH.html" class="twikiLink">中国翻译</a><br><a href="UsingNavigationMeshesKR.html" class="twikiLink">한국어</a><br>

<!-- Three/UsingNavigationMeshes -->
<hr size="1" noshade="noshade" />
Interested in the Unreal Engine? <br>
Visit the <a href="http://www.unrealtechnology.com" target="_top">Unreal Technology</a> site.<br>
<br>
Looking for jobs and company info? <br>
Check out the <a href="http://www.epicgames.com" target="_top">Epic games</a> site.<br>
<br>
Questions about support via UDN? <br>
Contact the <a href="../Main/ContactUDNStaff.html" class="twikiLink">UDN Staff</a> <br>
<br>
</div> <!-- end toolbox content -->
<div id="toolbottom"></div>
</div> <!-- end tool -->
<p />
<noautolink>
<p />
<div style="padding:0px 0px 0px 4px;font:10px Verdana;">
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="AIAndNavigationHome.html" class="twikiLink">AI &amp; Navigation</a></b> &gt; Using Navigation Meshes
</div>
<hr size="1" noshade="noshade">
<h1><a name="Using Navigation Meshes"></a> Using Navigation Meshes </h1>
<hr size="1" noshade="noshade">
<p />
<div class="twikiToc"> <ul>
<li> <a href="UsingNavigationMeshes.html#Using Navigation Meshes"> Using Navigation Meshes</a> <ul>
<li> <a href="UsingNavigationMeshes.html#Overview"> Overview</a>
</li> <li> <a href="UsingNavigationMeshes.html#The Pylon"> The Pylon</a> <ul>
<li> <a href="UsingNavigationMeshes.html#Linking Pylons together"> Linking Pylons together</a>
</li> <li> <a href="UsingNavigationMeshes.html#A word about pylons within other pylons"> A word about pylons within other pylons</a>
</li> <li> <a href="UsingNavigationMeshes.html#Setting Expansion Area for a Pylon"> Setting Expansion Area for a Pylon</a>
</li></ul>
</li> <li> <a href="UsingNavigationMeshes.html#The Dynamic Pylon"> The Dynamic Pylon</a>
</li> <li> <a href="UsingNavigationMeshes.html#Debug Drawing"> Debug Drawing</a>
</li></ul>
</li></ul>
</div>
<p />
<h2><a name="Overview"></a> Overview </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
The purpose of this document is to give a brief introduction to adding navigation meshes to your levels.  The process is very simple, with the most complicated part being deciding how to split your mesh up.
<p />
<h2><a name="The Pylon"></a> The Pylon </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
<img alt="PylonTreeView.gif" src="rsrc/Three/UsingNavigationMeshes/PylonTreeView.gif" />
<p />
The whole process really just consists of placing a special type of actor called a Pylon in your level.  This pylon does two things; First, it will inform the automatic generations system where to start exploring from (this is the exploration seed point), and second it will tell the automatic system how far out to explore for this pylon.
<p />
For example, in the screenshot below a pylon was placed in the center of the map and given a small radius around it within which to explore
<p />
<img alt="PylonSmallRad.gif" src="rsrc/Three/UsingNavigationMeshes/PylonSmallRad.gif" />
<p />
The important thing to remember here is that this single pylon does not represent the whole walkable space for AI.  It's merely an island in the walkable space.  Your real level will consist of several pylons which all link together.  The mesh generated for each pylon is saved within that pylon, so splitting the mesh up like this allows you control of what portions of the mesh stream in and out at any given time.
<p />
<h3><a name="Linking Pylons together"></a> Linking Pylons together </h3>
<p />
Getting pylons to link to each other is pretty easy.  You just need to make sure that the exploration area for the pylons you want to link overlap a little.  For example here are two pylons whose expansion radii overlap slightly :
<p />
<img alt="RadiusOverlap.gif" src="rsrc/Three/UsingNavigationMeshes/RadiusOverlap.gif" />
<p />
This will result in two meshes which are linked along the overlapping line between the two spheres.  Here's a shot of the resulting mesh:
<p />
<img alt="DoublePylon.gif" src="rsrc/Three/UsingNavigationMeshes/DoublePylon.gif" />
<p />
Note the light yellow filled vertical surfaces along the interface between the two pylons.  This indicates the two pylons are loose-linked to each other.  (Loose-linked meaning if both pylons are loaded, AIs can walk between them.
<p />
<h3><a name="A word about pylons within other pylons"></a> A word about pylons within other pylons </h3>
<p />
It's perfectly OK to have a pylon completely within another pylons expansion area.  What will happen is that the smaller pylon will be built first, and the larger one will build around the smaller linking into it as appropriate.  <strong>However!</strong> keep in mind that you shouldn't ever have two pylons which are both completely inside each other.  This is easier to explain with a picture:
<p />
<img alt="oknotok.jpg" src="rsrc/Three/UsingNavigationMeshes/oknotok.jpg" />
<p />
This isn't going to cause your computer to melt, but one of the pylons in this situation simply won't get built, so you may end up not getting the mesh you're expecting.
<p />
<h3><a name="Setting Expansion Area for a Pylon"></a> Setting Expansion Area for a Pylon </h3>
<p />
There are two methods for telling a pylon what its bounds should be.  The default and simplest method is just a radius.  When you first place a pylon in the level you will see a sphere drawn around it just like a point light.  Inside this sphere is where the pylon will explore.
<p />
<img alt="pylonradius.jpg" src="rsrc/Three/UsingNavigationMeshes/pylonradius.jpg" />
<p />
The alternative is giving the pylon a list of volumes within which to expand. This method is a little more complicated, but gives you more control.  To set this up you can either select the pylon, and then manually insert the volumes into the list in the properties window, or do what the cool kids do and use the snazy way.  The snazy way is to select the pylon, then select all the volumes you want it to explore inside, and push Ctrl+Shift+L.  This will tell the pylon to add all volumes you have selected currently to its list.
<p />
All volumes and pylon selected:
<p />
<img alt="volumes_selected.jpg" src="rsrc/Three/UsingNavigationMeshes/volumes_selected.jpg" />
<p />
All volumes linked to pylon:
(Note When a pylon is selected, any linked volumes will be drawn translucent, and a yellow line will be drawn linking the pylon to the volume. this is here to help you see which volumes that pylon is linked to)
<p />
<img alt="volumes_linked.jpg" src="rsrc/Three/UsingNavigationMeshes/volumes_linked.jpg" />
<p />
Also, to un-link volumes from the pylon simply select the pylon, and the volume you want to un-link and hit Ctrl+Shift+L and it will toggle the linkage to that pylon. (You can also just delete it from the ExpansionVolumes list in the actor properties of the pylon)
<p />
<h2><a name="The Dynamic Pylon"></a> The Dynamic Pylon </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
<img alt="DynamicPylonTreeView.gif" src="rsrc/Three/UsingNavigationMeshes/DynamicPylonTreeView.gif" />
<p />
Dynamic pylons are pylons that can move.  This is useful for things like lifts, or moving platforms that you want AI to be able to move on, as well as move onto/off of.  For example take the platform in this example:
<p />
<img alt="dynamic_platform.jpg" src="rsrc/Three/UsingNavigationMeshes/dynamic_platform.jpg" />
<p />
The dynamic pylon on this platform will build a mesh within its radius, but the important thing to note is that the mesh is relative to the Dynamic Pylon, which is now attached to the moving platform.  This means that as the platform moves, so will the mesh.
<p />
<img alt="dynamic_platform2.jpg" src="rsrc/Three/UsingNavigationMeshes/dynamic_platform2.jpg" />
<p />
Once the platform has stopped moving the dynamic pylon will then automatically link itself to the rest of the mesh in the area.
<p />
<img alt="dynamic_platform_edges.jpg" src="rsrc/Three/UsingNavigationMeshes/dynamic_platform_edges.jpg" />
<p />
(note the red dashed lines indicating cross-pylon edges)
<p />
The most important thing to remember with dynamic pylons is that any part of the mesh built for the dynamic pylon is going to move with it! so be careful with where you let the dynamic pylon expand.
<p />
That's it!  You're ready to add meshes to your level.
<p />
Here's some info on debug drawing and what it all means:
<p />
<h2><a name="Debug Drawing"></a> Debug Drawing </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
<img alt="debuginfo_key.jpg" src="rsrc/Three/UsingNavigationMeshes/debuginfo_key.jpg" />
<p />
</noautolink>
<p />
<p />
<p />
<p />
<p />
<p />


<!-- BEGIN UE4 NOTICE -->



<div id="version_message" style="display:none;">

    <div style="position:fixed;top:0px;left:0px;width:100%;height:100%;background:#000;opacity:0.5;">

    </div>

    <div style="position:fixed;top:50%;left:50%;margin:-70px 0px 0px -240px;background:#FFF;border-radius:6px;width:480px;box-shadow:0px 5px 30px -5px rgba(0,0,0,0.9);">

        <div style="font-size:16px;font-weight:bold;background: url(rsrc/Three/warning.png) no-repeat scroll 5px 5px;padding:4px 10px 5px 25px;height:21px;width:440px;">

            Important!

        </div>

        <div style="font-size:11px;padding:5px 10px 10px;width:460px;">

            <p>You are viewing documentation for the <strong>Unreal Development Kit (UDK)</strong>.</p>



            <p>If you are looking for the Unreal Engine 4 documentation, please visit the <a style="color:#000;" href="https://docs.unrealengine.com">Unreal Engine 4 Documentation</a> site.</p>

        </div>

        <div style="height:20px;padding:4px;margin:6px;border-top:1px solid #a0a0a0;">

            <form onsubmit="return closeVersionMessage();">

                <input type="checkbox" id="dismiss" value="dismiss" />

                <label for="dsimiss">Don't show me this again</label>

                <input type="submit" value="Close" style="cursor:pointer;float:right;width:60px;color:#f0f0f0;font-weight:bold;background:#882222;height:24px;padding:2px 3px 3px;text-align:center;border:1px outset #000;" />

            </form>

        </div>

    </div>

</div>



<script type="text/javascript">

    window.onload = function () {

        LoadVersionMessage();

    }



    function LoadVersionMessage()

    {

        var showMessage = "false";
        if(showMessage != "false")

        {

            showVersionMessage();

        }

    }



    function showVersionMessage()

    {

        var message = document.getElementById("version_message");

        if(message)

        {

            message.style.display = "block";

        }

    }



    function closeVersionMessage() {

        var dismiss = document.getElementById("dismiss");

        var message = document.getElementById("version_message");

        if (message) {

            message.style.display = "none";

        }

        if (dismiss.checked) {

            eraseCookie("doc_version_message");

            createCookie("doc_version_message", "false", 365);

            dismiss.checked = false;

        }

        return false;

    }



    function createCookie(name, value, days) {

        if (days) {

            var date = new Date();

            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));

            var expires = "; expires=" + date.toGMTString();

        }

        else var expires = "";

        document.cookie = name + "=" + value + expires + "; path=/";

    }



    function readCookie(name) {

        var nameEQ = name + "=";

        var ca = document.cookie.split(';');

        for (var i = 0; i < ca.length; i++) {

            var c = ca[i];

            while (c.charAt(0) == ' ') c = c.substring(1, c.length);

            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);

        }

        return null;

    }



    function eraseCookie(name) {

        createCookie(name, "", -1);

    }

</script>



<!-- END UE4 NOTICE -->



</div></div><div id="footer"><div style="BACKGROUND-COLOR: transparent; margin: 0; padding: 0; width: 100%;"><div>&nbsp;</div><div style="float: left; text-align: left; vertical-align: bottom; width: 50%;"><a href="http://www.videogamevoters.org"><img src="rsrc/vgvn.jpg" border="0" width="234" height="60" alt="Video Game Voters Network" /></a></div><div style="float: right; text-align: right; vertical-align: bottom; width: 50%;">Copyright &copy; 2001-2012 <a href="http://www.epicgames.com" target="_top">Epic Games, Inc.</a><br /><a href="../Main/TermsAndConditions.html" class="twikiLink">Terms and Conditions</a><br /><a href="http://epicgames.com/privacynotice" target="_top">Privacy Notice</a></div></div></div></div>
<p />
</html></body>
