<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title> UDK | ReplicationInfos    </title>

<style type="text/css" media="all">@import "rsrc/twiki_webs.css";</style>
<style type="text/css" media="all">@import "rsrc/udn_new.css";</style>
<link rel="icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />


<!-- view.static_udn3.tmpl  -->
<script language="JavaScript" type="text/javascript" src="rsrc/udn.js"></script>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

</head>
<p />
<body id="webbgThree">
<p />

<p />
<div id="webThree"><div id="head">
<!--
<div class="header">
 -->
<div style="background: url(/pub/webbg_udn.jpg); background-repeat: no-repeat; height:140px; width: 100%;" >
<!--
<div style="background: transparent url(/pub/udn_header_bg.jpg); background-repeat: repeat-x; height:140px; width: 100%; margin-left: 991px;">
 -->
<p />
<div id="nav">
<ul class="nav">
<font color=black>|</font>&nbsp;&nbsp;<li class=nav_Three><a href="../Main/WebHome.html" class="twikiLink">Main</a></li><font color=black>|</font><li class=nav_Three><a href="../Two/WebHome.html" class="twikiLink">UnrealEngine2</a></li><font color=black>|</font><li class=nav_Three><a href="WebHome.html" class="twikiLink">UnrealEngine3</a></li><font color=black>|</font><li class=nav_Three><a href="https://docs.unrealengine.com" class="twikiLink">UnrealEngine4</a></li><font color=black>|</font><li class=nav_Three><a href="../Main/BusinessAndLegal.html" class="twikiLink">Business &amp; Legal</a></li><font color=black>|</font>
</ul><br><br><br>
</div>
</div>
</div> <!-- end head -->
<div id="pagedefault">
<div id="maincol">
<div id="tool">
<div id="tooltop">UDN</div>
<div id="tooltext" style="padding: 10px 10px 10px 10px;">
Search public documentation: <br>
<form ACTION="/search/index.php" METHOD="GET" NAME="main" ID="main">
<input TYPE="TEXT" NAME="q" SIZE="15" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;">
<input TYPE="SUBMIT" VALUE="Search" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;"><br>
</form>
</div>
<div id="toolband">ReplicationInfos  </b></div>
<div id="tooltext">
<a href="ReplicationInfosJP.html" class="twikiLink">日本語訳</a><br><a href="ReplicationInfosCH.html" class="twikiLink">中国翻译</a><br><a href="ReplicationInfosKR.html" class="twikiLink">한국어</a><br>

<!-- Three/ReplicationInfos -->
<hr size="1" noshade="noshade" />
Interested in the Unreal Engine? <br>
Visit the <a href="http://www.unrealtechnology.com" target="_top">Unreal Technology</a> site.<br>
<br>
Looking for jobs and company info? <br>
Check out the <a href="http://www.epicgames.com" target="_top">Epic games</a> site.<br>
<br>
Questions about support via UDN? <br>
Contact the <a href="../Main/ContactUDNStaff.html" class="twikiLink">UDN Staff</a> <br>
<br>
</div> <!-- end toolbox content -->
<div id="toolbottom"></div>
</div> <!-- end tool -->
<p />
<div style="padding:0px 0px 0px 4px;font:10px Verdana;">
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="ReplicationHome.html" class="twikiLink">Networking &amp; Replication</a></b> &gt; Replication Infos
</div>
<hr size="1" noshade="noshade">
<p />
<h1><a name="Replication Infos"></a> Replication Infos </h1>
<hr size="1" noshade="noshade">
<p />
<div class="twikiToc"> <ul>
<li> <a href="ReplicationInfos.html#Replication Infos"> Replication Infos</a> <ul>
<li> <a href="ReplicationInfos.html#ReplicationInfo"> ReplicationInfo</a>
</li> <li> <a href="ReplicationInfos.html#PlayerReplicationInfo"> PlayerReplicationInfo</a> <ul>
<li> <a href="ReplicationInfos.html#Variables"> Variables</a> <ul>
<li> <a href="ReplicationInfos.html#if (b_NetDirty)"> if (bNetDirty)</a>
</li> <li> <a href="ReplicationInfos.html#if (b_NetDirty  b_NetOwner)"> if (bNetDirty &amp;&amp; &excl;bNetOwner)</a>
</li> <li> <a href="ReplicationInfos.html#if (b_NetInitial)"> if (bNetInitial)</a>
</li></ul>
</li></ul>
</li> <li> <a href="ReplicationInfos.html#GameReplicationInfo"> GameReplicationInfo</a> <ul>
<li> <a href="ReplicationInfos.html#Variables"> Variables</a> <ul>
<li> <a href="ReplicationInfos.html#if (b_NetDirty)"> if (bNetDirty)</a>
</li> <li> <a href="ReplicationInfos.html#if (b_NetInitial  b_NetDirty)"> if (&excl;bNetInitial &amp;&amp; bNetDirty)</a>
</li> <li> <a href="ReplicationInfos.html#if (b_NetInitial)"> if (bNetInitial)</a>
</li></ul>
</li></ul>
</li> <li> <a href="ReplicationInfos.html#TeamInfo"> TeamInfo</a> <ul>
<li> <a href="ReplicationInfos.html#Variables"> Variables</a> <ul>
<li> <a href="ReplicationInfos.html#if (b_NetDirty  Role <code>= Role_Authority)"> if (bNetDirty &amp;&amp; Role =</code> Role_Authority)</a>
</li> <li> <a href="ReplicationInfos.html#if (b_NetInitial  Role <code>= Role_Authority)"> if (bNetInitial &amp;&amp; Role =</code> Role_Authority)</a>
</li></ul>
</li></ul>
</li> <li> <a href="ReplicationInfos.html#When to use the replication info pattern?"> When to use the replication info pattern?</a>
</li> <li> <a href="ReplicationInfos.html#Conclusion"> Conclusion</a>
</li></ul>
</li></ul>
</div>
<p />
<noautolink>
<h2><a name="ReplicationInfo"></a> ReplicationInfo </h2>
<hr size="1" noshade="noshade">
ReplicationInfos are actors that are automatically replicated on all clients. They provide a communication pathway between clients and servers.
<p />
<h2><a name="PlayerReplicationInfo"></a> PlayerReplicationInfo </h2>
<hr size="1" noshade="noshade">
PlayerReplicationInfos are needed because while clients can communicate directly with servers; clients are not able to directly communicate with other clients. This is because only the client's PlayerController exists for the client. PlayerReplicationInfo's however exist on every client and are updated on the client when any server side variables changes. Thus, if a player needs to know anything about the another player, the player can just look it up in that player's PlayerReplicationInfo.
<p />
<img src="rsrc/Three/ReplicationInfos/PlayerReplicationInfoInteractionTree.jpg" alt="PlayerReplicationInfoInteractionTree.jpg" width='593' height='316' />
<p />
<h3><a name="Variables"></a> Variables </h3>
<h4><a name="if (b_NetDirty)"></a> if (bNetDirty) </h4>
These variables are replicated when they differ between the client and the server. <ul>
<li> <strong>Score</strong> - Player's score.
</li> <li> <strong>Deaths</strong> - Number of times the player has died.
</li> <li> <strong>PlayerName</strong> - Player's name.
</li> <li> <strong>Team</strong> - Team the player is on.
</li> <li> <strong>bAdmin</strong> - Is the player an administrator for the game?
</li> <li> <strong>bIsSpectator</strong> - Is the player a spectator?
</li> <li> <strong>bOnlySpectator</strong> - Can this player only ever be a spectator?
</li> <li> <strong>bWaitingPlayer</strong> - Is the player waiting to enter the game?
</li> <li> <strong>bReadyToPlay</strong> - Is the player ready to play?
</li> <li> <strong>StartTime</strong> - Elapsed time on the server of when this player replication info was first created.
</li> <li> <strong>bOutOfLives</strong> - Is the player out of lives?
</li> <li> <strong>UniqueId</strong> - Id used by the network to uniquely identify a player.
</li></ul>
<p />
<h4><a name="if (b_NetDirty  b_NetOwner)"></a> if (bNetDirty &amp;&amp; &excl;bNetOwner) </h4>
These variables are replicated when they differ between the client and the server, and if this PlayerReplicationInfo isn't owned by the client. <ul>
<li> <strong>Ping</strong> - Replicated compressed ping for this player.
</li></ul>
<p />
<h4><a name="if (b_NetInitial)"></a> if (bNetInitial) </h4>
These variables are replicated on the first replication update. <ul>
<li> <strong>PlayerID</strong> - Player's unique id number.
</li> <li> <strong>bBot</strong> - Is the player actually a bot?
</li> <li> <strong>bIsInactive</strong> - Did this PRI come from the GameInfo's InactivePRIArray?
</li></ul>
<p />
<h2><a name="GameReplicationInfo"></a> GameReplicationInfo </h2>
<hr size="1" noshade="noshade">
GameReplicationInfos are needed because GameInfos are never replicated to the client. Because the client still needs to know some information about the GameInfo, GameReplicationInfos are created on the server and the clients. Thus whenever the GameInfo is updated and needs to inform clients of these updates, the GameInfo can push those updates to the GameReplicationInfo. When the client's version of GameReplicationInfo is updated, the client then has those updates.
<p />
<img src="rsrc/Three/ReplicationInfos/GameReplicationInfoInteractionTree.jpg" alt="GameReplicationInfoInteractionTree.jpg" width='580' height='246' />
<p />
<h3><a name="Variables"></a> Variables </h3>
<h4><a name="if (b_NetDirty)"></a> if (bNetDirty) </h4>
These variables are replicated when they differ between the client and the server. <ul>
<li> <strong>bStopCountDown</strong> - If true, stop the remaining time countdown.
</li> <li> <strong>Winner</strong> - The winner of the game.
</li> <li> <strong>bMatchHasBegun</strong> - Is the match is in progress?
</li> <li> <strong>bMatchIsOver</strong> - Is the match over?
</li></ul>
<p />
<h4><a name="if (b_NetInitial  b_NetDirty)"></a> if (&excl;bNetInitial &amp;&amp; bNetDirty) </h4>
These variables are replicated when they differ between the client and the server, but not on the first replication update. <ul>
<li> <strong>RemainingMinute</strong> - Used for counting down time in time limited games.
</li></ul>
<p />
<h4><a name="if (b_NetInitial)"></a> if (bNetInitial) </h4>
These variables are replicated only on the first replication update. <ul>
<li> <strong>GameClass</strong> - Class of the server's GameInfo.
</li> <li> <strong>RemainingTime</strong> - Used for counting down time in time limited games.
</li> <li> <strong>ElapsedTime</strong> - Used for counting down time in time limited games.
</li> <li> <strong>GoalScore</strong> - Current score.
</li> <li> <strong>TimeLimit</strong> - The time limit for this match.
</li> <li> <strong>ServerName</strong> - Name of the server.
</li></ul>
<p />
<h2><a name="TeamInfo"></a> TeamInfo </h2>
<hr size="1" noshade="noshade">
TeamInfos contain information about team structures used by team based games such as Capture the flag. Much like PlayerReplicationInfo, it is used to communicate common data between players.
<p />
<img src="rsrc/Three/ReplicationInfos/TeamReplicationInfos.jpg" alt="TeamReplicationInfos.jpg" width='560' height='246' />
<p />
<h3><a name="Variables"></a> Variables </h3>
<h4><a name="if (b_NetDirty  Role <code>= Role_Authority)"></a> if (bNetDirty &amp;&amp; Role =</code> Role_Authority) </h4>
These variables are replicated when the values differ between the client and the server, and only if the data originates from the server. <ul>
<li> <strong>Score</strong> - The team's score.
</li></ul>
<p />
<h4><a name="if (b_NetInitial  Role <code>= Role_Authority)"></a> if (bNetInitial &amp;&amp; Role =</code> Role_Authority) </h4> <ul>
<li> <strong>TeamName</strong> - Name of the team.
</li> <li> <strong>TeamIndex</strong> - Index of the team.
</li></ul>
<p />
<h2><a name="When to use the replication info pattern?"></a> When to use the replication info pattern? </h2>
<hr size="1" noshade="noshade"> <ul>
<li> When actors may not exist on all clients. <ul>
<li> GameInfo does not exist on clients.
</li> <li> PlayerController only exist on the owning client.
</li></ul>
</li> <li> When you want to do client to client communication. <ul>
<li> All players can view their team information, and switch between teams.
</li></ul>
</li></ul>
<p />
<h2><a name="Conclusion"></a> Conclusion </h2>
<hr size="1" noshade="noshade">
ReplicationInfos solve the problem where instances of classes may only exist on the server, only on the client or only on a single client. This is why network testing of your multiplayer game must start right at the beginning. It's very easy to fall into the trap where things work in single player or with a server and single client but then fail to work when there are more clients involved. Planning your classes in relation to networking is a good step in ensuring that you won't have headaches later on in development.
<p />
</noautolink>
<p />
<p />
<p />
<p />
<p />
<p />


<!-- BEGIN UE4 NOTICE -->



<div id="version_message" style="display:none;">

    <div style="position:fixed;top:0px;left:0px;width:100%;height:100%;background:#000;opacity:0.5;">

    </div>

    <div style="position:fixed;top:50%;left:50%;margin:-70px 0px 0px -240px;background:#FFF;border-radius:6px;width:480px;box-shadow:0px 5px 30px -5px rgba(0,0,0,0.9);">

        <div style="font-size:16px;font-weight:bold;background: url(rsrc/Three/warning.png) no-repeat scroll 5px 5px;padding:4px 10px 5px 25px;height:21px;width:440px;">

            Important!

        </div>

        <div style="font-size:11px;padding:5px 10px 10px;width:460px;">

            <p>You are viewing documentation for the <strong>Unreal Development Kit (UDK)</strong>.</p>



            <p>If you are looking for the Unreal Engine 4 documentation, please visit the <a style="color:#000;" href="https://docs.unrealengine.com">Unreal Engine 4 Documentation</a> site.</p>

        </div>

        <div style="height:20px;padding:4px;margin:6px;border-top:1px solid #a0a0a0;">

            <form onsubmit="return closeVersionMessage();">

                <input type="checkbox" id="dismiss" value="dismiss" />

                <label for="dsimiss">Don't show me this again</label>

                <input type="submit" value="Close" style="cursor:pointer;float:right;width:60px;color:#f0f0f0;font-weight:bold;background:#882222;height:24px;padding:2px 3px 3px;text-align:center;border:1px outset #000;" />

            </form>

        </div>

    </div>

</div>



<script type="text/javascript">

    window.onload = function () {

        LoadVersionMessage();

    }



    function LoadVersionMessage()

    {

        var showMessage = "false";
        if(showMessage != "false")

        {

            showVersionMessage();

        }

    }



    function showVersionMessage()

    {

        var message = document.getElementById("version_message");

        if(message)

        {

            message.style.display = "block";

        }

    }



    function closeVersionMessage() {

        var dismiss = document.getElementById("dismiss");

        var message = document.getElementById("version_message");

        if (message) {

            message.style.display = "none";

        }

        if (dismiss.checked) {

            eraseCookie("doc_version_message");

            createCookie("doc_version_message", "false", 365);

            dismiss.checked = false;

        }

        return false;

    }



    function createCookie(name, value, days) {

        if (days) {

            var date = new Date();

            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));

            var expires = "; expires=" + date.toGMTString();

        }

        else var expires = "";

        document.cookie = name + "=" + value + expires + "; path=/";

    }



    function readCookie(name) {

        var nameEQ = name + "=";

        var ca = document.cookie.split(';');

        for (var i = 0; i < ca.length; i++) {

            var c = ca[i];

            while (c.charAt(0) == ' ') c = c.substring(1, c.length);

            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);

        }

        return null;

    }



    function eraseCookie(name) {

        createCookie(name, "", -1);

    }

</script>



<!-- END UE4 NOTICE -->



</div></div><div id="footer"><div style="BACKGROUND-COLOR: transparent; margin: 0; padding: 0; width: 100%;"><div>&nbsp;</div><div style="float: left; text-align: left; vertical-align: bottom; width: 50%;"><a href="http://www.videogamevoters.org"><img src="rsrc/vgvn.jpg" border="0" width="234" height="60" alt="Video Game Voters Network" /></a></div><div style="float: right; text-align: right; vertical-align: bottom; width: 50%;">Copyright &copy; 2001-2012 <a href="http://www.epicgames.com" target="_top">Epic Games, Inc.</a><br /><a href="../Main/TermsAndConditions.html" class="twikiLink">Terms and Conditions</a><br /><a href="http://epicgames.com/privacynotice" target="_top">Privacy Notice</a></div></div></div></div>
<p />
</html></body>
