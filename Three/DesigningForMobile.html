<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title> UDK | DesigningForMobile    </title>

<style type="text/css" media="all">@import "rsrc/twiki_webs.css";</style>
<style type="text/css" media="all">@import "rsrc/udn_new.css";</style>
<link rel="icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />


<!-- view.static_udn3.tmpl  -->
<script language="JavaScript" type="text/javascript" src="rsrc/udn.js"></script>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

</head>
<p />
<body id="webbgThree">
<p />

<p />
<div id="webThree"><div id="head">
<!--
<div class="header">
 -->
<div style="background: url(/pub/webbg_udn.jpg); background-repeat: no-repeat; height:140px; width: 100%;" >
<!--
<div style="background: transparent url(/pub/udn_header_bg.jpg); background-repeat: repeat-x; height:140px; width: 100%; margin-left: 991px;">
 -->
<p />
<div id="nav">
<ul class="nav">
<font color=black>|</font>&nbsp;&nbsp;<li class=nav_Three><a href="../Main/WebHome.html" class="twikiLink">Main</a></li><font color=black>|</font><li class=nav_Three><a href="../Two/WebHome.html" class="twikiLink">UnrealEngine2</a></li><font color=black>|</font><li class=nav_Three><a href="WebHome.html" class="twikiLink">UnrealEngine3</a></li><font color=black>|</font><li class=nav_Three><a href="https://docs.unrealengine.com" class="twikiLink">UnrealEngine4</a></li><font color=black>|</font><li class=nav_Three><a href="../Main/BusinessAndLegal.html" class="twikiLink">Business &amp; Legal</a></li><font color=black>|</font>
</ul><br><br><br>
</div>
</div>
</div> <!-- end head -->
<div id="pagedefault">
<div id="maincol">
<div id="tool">
<div id="tooltop">UDN</div>
<div id="tooltext" style="padding: 10px 10px 10px 10px;">
Search public documentation: <br>
<form ACTION="/search/index.php" METHOD="GET" NAME="main" ID="main">
<input TYPE="TEXT" NAME="q" SIZE="15" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;">
<input TYPE="SUBMIT" VALUE="Search" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;"><br>
</form>
</div>
<div id="toolband">DesigningForMobile  </b></div>
<div id="tooltext">
<a href="DesigningForMobileCH.html" class="twikiLink">中国翻译</a><br><a href="DesigningForMobileKR.html" class="twikiLink">한국어</a><br>

<!-- Three/DesigningForMobile -->
<hr size="1" noshade="noshade" />
Interested in the Unreal Engine? <br>
Visit the <a href="http://www.unrealtechnology.com" target="_top">Unreal Technology</a> site.<br>
<br>
Looking for jobs and company info? <br>
Check out the <a href="http://www.epicgames.com" target="_top">Epic games</a> site.<br>
<br>
Questions about support via UDN? <br>
Contact the <a href="../Main/ContactUDNStaff.html" class="twikiLink">UDN Staff</a> <br>
<br>
</div> <!-- end toolbox content -->
<div id="toolbottom"></div>
</div> <!-- end tool -->
<p />
<noautolink>
<p />
<div style="padding:0px 0px 0px 4px;font:10px Verdana;">
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="MobileHome.html" class="twikiLink">Mobile Home</a></b> &gt; Designing Content for Mobile <br/>
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="ParticlesAndEffectsHome.html" class="twikiLink">Particle &amp; Effects</a></b> &gt; <b><a href="FogEffectsHome.html" class="twikiLink">Fog Effects</a></b> &gt; Designing Content for Mobile <br/>
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="CharacterArtistHome.html" class="twikiLink">Character Artist</a></b> / <b><a href="EnvironmentArtistHome.html" class="twikiLink">Environment Artist</a></b> &gt; Designing Content for Mobile
</div>
<hr size="1" noshade="noshade">
<h1><a name="Designing Content for Mobile"></a> Designing Content for Mobile </h1>
<hr size="1" noshade="noshade">
<p />
<div class="twikiToc"> <ul>
<li> <a href="DesigningForMobile.html#Designing Content for Mobile"> Designing Content for Mobile</a> <ul>
<li> <a href="DesigningForMobile.html#Overview"> Overview</a>
</li> <li> <a href="DesigningForMobile.html#Performance considerations"> Performance considerations</a>
</li> <li> <a href="DesigningForMobile.html#Per-level rendering settings"> Per-level rendering settings</a>
</li> <li> <a href="DesigningForMobile.html#Important differences"> Important differences</a>
</li> <li> <a href="DesigningForMobile.html#Other notes"> Other notes</a>
</li> <li> <a href="DesigningForMobile.html#Textures"> Textures</a>
</li> <li> <a href="DesigningForMobile.html#Kismet"> Kismet</a>
</li> <li> <a href="DesigningForMobile.html#Gamma"> Gamma</a>
</li></ul>
</li></ul>
</div>
<p />
<h2><a name="Overview"></a> Overview </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
This page contains tips and tricks for designing your content to run well on the current generation of mobile hardware.
<p />
<h2><a name="Performance considerations"></a> Performance considerations </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p /> <ul>
<li> Skeletal meshes <ul>
<li> Character meshes should be as low poly as possible Infinity Blade characters are around 8k poly 3k verts.
</li> <li> We found that vert count was the first thing to get optimized on skeletal meshes to get the framerate down.
</li> <li> The bone limit is, by default, 75. If you have a bone limit, you can lower this number with the <code>MobileBoneCount</code> setting in <code>[SystemSettings]</code> in your Engine.ini file. This will reduce memory usage and some CPU overhead.
</li> <li> The max vertex influence count is by default 2. If you absolutely need more, you can increase it with the <code>MobileBoneWeightCount</code> settings in <code>[SystemSettings]</code> in your Engine.ini file. Increasing this will have a impact on rendering speed. If you can reduce it to 1 (game of robots maybe?) then you would see a speedup.
</li></ul>
</li> <li> Draw calls <ul>
<li> Number of draw call is very important. Each material is a separate draw call, so if you have 1 mesh with 4 materials, it is 4 draw calls.
</li> <li> Each mesh is also a separate draw call, so combine meshes where you can without making your overall mesh size too big, otherwise it will be hard for the precomputed visibility to cull them out.
</li> <li> Enabling <a href="PrecomputedVisibility.html" class="twikiLink">PrecomputedVisibility</a> is vitally important on mobile devices, to cheaply reduce the number of rendered meshes. Make sure you add any needed Precomputed Visibility Volumes to all your levels.
</li></ul>
</li></ul>
<p />
<a name="PerLevelAnchor"></a>
<h2><a name="Per-level rendering settings"></a> Per-level rendering settings </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
Fog and <a href="MobileMaterialReference.html#BumpOffsetAnchor" class="twikiAnchorLink">bump offset</a> is controlled by some WorldInfo properties. In View | World Properties, go to the Mobile section:
<p />
<img src="rsrc/Three/DesigningForMobile/WorldInfo.png" alt="WorldInfo.png" width='370' height='270' />
<p />
Enabling fog will make for improved visuals for long views, but there is rendering time associated with it. The slowdown occurs on meshes inside the Fog Start to End range, so tightening the range of those two values will help. Any mesh that is partially in that range will be have the full fog calculations run over the entire mesh, so be careful with large (in world space) meshes.
<p />
Naturally, meshes closer than Fog Start will have no fog applied, and anything after Fog End will have full fog applied. The Alpha of the Fog Color is important, as that controls how the fog color is applied beyond Fog End (an Alpha of 255 would make the meshes solid Fog Color).
<p />
Similar to Fog are the Bump Offset settings. For any materials that have bump offset enabled in the mobile properties to have the offset applied, the Bump Offset Enabled settings needs to be checked (which is the default). However, meshes farther away than Bump End will <em>not</em> have it applied.
<p />
<h2><a name="Important differences"></a> Important differences </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p /> <ul>
<li> <strong>Vertex lightmaps</strong>.  These are not currently supported on mobile devices.
</li> <li> <strong>Gamma</strong>.  Be aware of the space that your hardware calculates lighting (see below).
</li> <li> <strong>Toggleable lights</strong>.  Static lighting with toggleable lights is not supported.  Dynamic lights can be toggled under most situations.  Unless you are very careful, you should never set <strong>Force Direct Light Map</strong> to False on statically lit objects, as this can introduce lighting artifacts on mobile.
</li> <li> <strong>Point Sprites</strong>.  These are supported on mobile platforms but not on other consoles or PC, yet.  Point sprites can improve rendering performance with particles, but introduces various limitations (no rotation, no sub UV).  Point sprites can be enabled on a per particle system (not per emitter) basis by setting the "Use Mobile Point Sprite" property in Cascade.
</li></ul>
<p />
<h2><a name="Other notes"></a> Other notes </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p /> <ul>
<li> Make sure you add a lightmass importance volume to your level. This will speed up your lighting rebuild times.
</li></ul>
<p />
<h2><a name="Textures"></a> Textures </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p /> <ul>
<li> Texture streaming is disabled on mobile devices. Referenced textures will always be fully loaded.
</li> <li> When creating world textures, you can use up to 2048x2048, but use them sparingly.
</li> <li> Non-square compressed textures are converted to square textures for iOS devices. This can waste memory, so if you can pack non-square textures together into square textures, you can reduce the expansion, therefore saving memory. <ul>
<li> If you set bRepackLightAndShadowMapTextures to True in your game's DefaultLightmass.ini, lightmaps will be repacked into more square textures, saving memory.
</li></ul>
</li> <li> Texture clamping is currently disabled. All textures will wrap when UVs go outside the 0..1 range
</li> <li> Textures must be a power of 2 on mobile devices. Non-power of 2 textures will not be auto-converted to work.
</li> <li> Since the material graph network is not used on mobile devices, materials can be flattened to textures automatically to preserve the general look of a complex material graph. See <a href="MobileMaterialReference.html#Flattening" class="twikiAnchorLink">this section</a> on Material Flattening for more information.
</li> <li> Mobile devices use the SimpleLightmaps (no directional lighting information is baked in). Simple lightmaps have a fixed color scale of 2.0, which means that lightmaps cannot brighten the diffuse texture by more than 2 times. <ul>
<li> If you enable "Use Normal Maps For Simple Light Maps" in the World Properties Lightmass Settings section, normals maps on a mesh will be merged into the simple lightmap. This will give improved lightmaps, but can cause slower lighting build times as it has to process the extra texture.
</li></ul>
</li></ul>
<p />
<h2><a name="Kismet"></a> Kismet </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
There are several additions to Kismet for mobile-focused games/levels. See the following other sections for descriptions: <ul>
<li> <a href="MobileInputSystem.html#KismetAnchor" class="twikiAnchorLink">Touch screen input Kismet nodes</a>
</li> <li> <a href="UnrealOnMobile.html#KismetAnchor" class="twikiAnchorLink">Saving/loading variables via Kismet</a>
</li> <li> <a href="MobileAudioSystem.html#KismetAnchor" class="twikiAnchorLink">Playing MP3 compressed music via Kismet</a>
</li></ul>
<p />
<h2><a name="Gamma"></a> Gamma </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
<a href="GammaCorrection.html" class="twikiLink">Gamma Correction</a> is supported for mobile devices, but can cause performance issues because of hardware limitations of most mobile devices. When not using gamma correction, special considerations can be taken when authoring content to make up for these shortcomings.
<p />
With gamma correction diabled (the default), mobile devices calculate their lighting in gamma space instead of linear space.  There's a lot of math behind this difference but artistically what it means is that when light and textures start getting dark they get really dark, and when they start getting bright they get really bright.  It also means that colors saturate a lot quicker.
<p /> <ul>
<li> A good example of this is the sunlight in Infinity Blade. It is barely orange, yet when it was hitting the boss character who was slightly pale-peach to begin with he was turning very red and orange.  To counteract this we faded the light more and made his skin quite blue so that he would end up pale looking.
</li> <li> Due to the quick saturation of colors on mobile hardware some tips and tricks can be used to make lighting look better.  In the following screenshot some tricks are used when textures are render out from max such as Z facing:
</li></ul>
<img src="rsrc/Three/DesigningForMobile/ZFacing.png" alt="ZFacing.png" width='295' height='338' /> <ul>
<li> Some of the tricks used in Epic's products are to shift hues or applied a gradient map of colors to it and set it to soft light.
</li></ul>
<p />
</noautolink>
<p />
<p />
<p />
<p />
<p />
<p />


<!-- BEGIN UE4 NOTICE -->



<div id="version_message" style="display:none;">

    <div style="position:fixed;top:0px;left:0px;width:100%;height:100%;background:#000;opacity:0.5;">

    </div>

    <div style="position:fixed;top:50%;left:50%;margin:-70px 0px 0px -240px;background:#FFF;border-radius:6px;width:480px;box-shadow:0px 5px 30px -5px rgba(0,0,0,0.9);">

        <div style="font-size:16px;font-weight:bold;background: url(rsrc/Three/warning.png) no-repeat scroll 5px 5px;padding:4px 10px 5px 25px;height:21px;width:440px;">

            Important!

        </div>

        <div style="font-size:11px;padding:5px 10px 10px;width:460px;">

            <p>You are viewing documentation for the <strong>Unreal Development Kit (UDK)</strong>.</p>



            <p>If you are looking for the Unreal Engine 4 documentation, please visit the <a style="color:#000;" href="https://docs.unrealengine.com">Unreal Engine 4 Documentation</a> site.</p>

        </div>

        <div style="height:20px;padding:4px;margin:6px;border-top:1px solid #a0a0a0;">

            <form onsubmit="return closeVersionMessage();">

                <input type="checkbox" id="dismiss" value="dismiss" />

                <label for="dsimiss">Don't show me this again</label>

                <input type="submit" value="Close" style="cursor:pointer;float:right;width:60px;color:#f0f0f0;font-weight:bold;background:#882222;height:24px;padding:2px 3px 3px;text-align:center;border:1px outset #000;" />

            </form>

        </div>

    </div>

</div>



<script type="text/javascript">

    window.onload = function () {

        LoadVersionMessage();

    }



    function LoadVersionMessage()

    {

        var showMessage = "false";
        if(showMessage != "false")

        {

            showVersionMessage();

        }

    }



    function showVersionMessage()

    {

        var message = document.getElementById("version_message");

        if(message)

        {

            message.style.display = "block";

        }

    }



    function closeVersionMessage() {

        var dismiss = document.getElementById("dismiss");

        var message = document.getElementById("version_message");

        if (message) {

            message.style.display = "none";

        }

        if (dismiss.checked) {

            eraseCookie("doc_version_message");

            createCookie("doc_version_message", "false", 365);

            dismiss.checked = false;

        }

        return false;

    }



    function createCookie(name, value, days) {

        if (days) {

            var date = new Date();

            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));

            var expires = "; expires=" + date.toGMTString();

        }

        else var expires = "";

        document.cookie = name + "=" + value + expires + "; path=/";

    }



    function readCookie(name) {

        var nameEQ = name + "=";

        var ca = document.cookie.split(';');

        for (var i = 0; i < ca.length; i++) {

            var c = ca[i];

            while (c.charAt(0) == ' ') c = c.substring(1, c.length);

            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);

        }

        return null;

    }



    function eraseCookie(name) {

        createCookie(name, "", -1);

    }

</script>



<!-- END UE4 NOTICE -->



</div></div><div id="footer"><div style="BACKGROUND-COLOR: transparent; margin: 0; padding: 0; width: 100%;"><div>&nbsp;</div><div style="float: left; text-align: left; vertical-align: bottom; width: 50%;"><a href="http://www.videogamevoters.org"><img src="rsrc/vgvn.jpg" border="0" width="234" height="60" alt="Video Game Voters Network" /></a></div><div style="float: right; text-align: right; vertical-align: bottom; width: 50%;">Copyright &copy; 2001-2012 <a href="http://www.epicgames.com" target="_top">Epic Games, Inc.</a><br /><a href="../Main/TermsAndConditions.html" class="twikiLink">Terms and Conditions</a><br /><a href="http://epicgames.com/privacynotice" target="_top">Privacy Notice</a></div></div></div></div>
<p />
</html></body>
