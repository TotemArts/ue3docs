<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title> UDK | FaceFXExternalAnimSets    </title>

<style type="text/css" media="all">@import "rsrc/twiki_webs.css";</style>
<style type="text/css" media="all">@import "rsrc/udn_new.css";</style>
<link rel="icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />


<!-- view.static_udn3.tmpl  -->
<script language="JavaScript" type="text/javascript" src="rsrc/udn.js"></script>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

</head>
<p />
<body id="webbgThree">
<p />

<p />
<div id="webThree"><div id="head">
<!--
<div class="header">
 -->
<div style="background: url(/pub/webbg_udn.jpg); background-repeat: no-repeat; height:140px; width: 100%;" >
<!--
<div style="background: transparent url(/pub/udn_header_bg.jpg); background-repeat: repeat-x; height:140px; width: 100%; margin-left: 991px;">
 -->
<p />
<div id="nav">
<ul class="nav">
<font color=black>|</font>&nbsp;&nbsp;<li class=nav_Three><a href="../Main/WebHome.html" class="twikiLink">Main</a></li><font color=black>|</font><li class=nav_Three><a href="../Two/WebHome.html" class="twikiLink">UnrealEngine2</a></li><font color=black>|</font><li class=nav_Three><a href="WebHome.html" class="twikiLink">UnrealEngine3</a></li><font color=black>|</font><li class=nav_Three><a href="https://docs.unrealengine.com" class="twikiLink">UnrealEngine4</a></li><font color=black>|</font><li class=nav_Three><a href="../Main/BusinessAndLegal.html" class="twikiLink">Business &amp; Legal</a></li><font color=black>|</font>
</ul><br><br><br>
</div>
</div>
</div> <!-- end head -->
<div id="pagedefault">
<div id="maincol">
<div id="tool">
<div id="tooltop">UDN</div>
<div id="tooltext" style="padding: 10px 10px 10px 10px;">
Search public documentation: <br>
<form ACTION="/search/index.php" METHOD="GET" NAME="main" ID="main">
<input TYPE="TEXT" NAME="q" SIZE="15" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;">
<input TYPE="SUBMIT" VALUE="Search" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;"><br>
</form>
</div>
<div id="toolband">FaceFXExternalAnimSets  </b></div>
<div id="tooltext">
<a href="FaceFXExternalAnimSetsJP.html" class="twikiLink">日本語訳</a><br><a href="FaceFXExternalAnimSetsCH.html" class="twikiLink">中国翻译</a><br><a href="FaceFXExternalAnimSetsKR.html" class="twikiLink">한국어</a><br>

<!-- Three/FaceFXExternalAnimSets -->
<hr size="1" noshade="noshade" />
Interested in the Unreal Engine? <br>
Visit the <a href="http://www.unrealtechnology.com" target="_top">Unreal Technology</a> site.<br>
<br>
Looking for jobs and company info? <br>
Check out the <a href="http://www.epicgames.com" target="_top">Epic games</a> site.<br>
<br>
Questions about support via UDN? <br>
Contact the <a href="../Main/ContactUDNStaff.html" class="twikiLink">UDN Staff</a> <br>
<br>
</div> <!-- end toolbox content -->
<div id="toolbottom"></div>
</div> <!-- end tool -->
<p />
<noautolink>
<p />
<div style="padding:0px 0px 0px 4px;font:10px Verdana;">
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="FaceFX.html" class="twikiLink">FaceFX Facial Animation</a></b> &gt; FaceFX External Animation Sets
</div>
<hr size="1" noshade="noshade">
<h1><a name="FaceFX External Animation Sets"></a> FaceFX External Animation Sets </h1>
<hr size="1" noshade="noshade">
<p />
<div class="twikiToc"> <ul>
<li> <a href="FaceFXExternalAnimSets.html#FaceFX External Animation Sets"> FaceFX External Animation Sets</a> <ul>
<li> <a href="FaceFXExternalAnimSets.html#Overview"> Overview</a>
</li> <li> <a href="FaceFXExternalAnimSets.html#Creating an External Animation Set"> Creating an External Animation Set</a>
</li> <li> <a href="FaceFXExternalAnimSets.html#Opening an External Animation Set in _FaceFX Studio"> Opening an External Animation Set in FaceFX Studio</a>
</li> <li> <a href="FaceFXExternalAnimSets.html#Adding Animations to an External Animation Set"> Adding Animations to an External Animation Set</a>
</li> <li> <a href="FaceFXExternalAnimSets.html#Saving an External Animation Set"> Saving an External Animation Set</a>
</li></ul>
</li></ul>
</div>
<p />
<h2><a name="Overview"></a> Overview </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
FaceFX animation data is stored as curve names and keys. As long as an actor has nodes in its Face Graph that match the animation curve names, the character can play the animation. Animations can therefore be shared across multiple actors and loaded dynamically in game. Exported Animation Sets give developers an interface to do this. This document describes how to create and use External Animation Sets in UE3.  It does not describe the interface for loading and unloading External Animation Sets in your game, only the interface for creating and modifying External Animation Sets in FaceFx Studio.
<p />
<h2><a name="Creating an External Animation Set"></a> Creating an External Animation Set </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
The first step is to create an External Animation Set.  To do this, right-click on an existing FaceFX Asset and select <em>Create New FaceFX AnimSet...</em>
<p />
<em>OC3_Slade FaceFX asset can be found in \UTGame\Content\TestPackages\MatineeTest_Resources.upk</em>
<p />
<img alt="New_Anim_Set.JPG" src="rsrc/Three/FaceFXExternalAnimSets/New_Anim_Set.JPG" />
<p />
From the pop-up dialog, enter the Package and Group information and give the External Animation Set a name.  Hit OK.  To see the new Animset, you may have to do a full refresh of the Content Browser (Ctrl+F5).
<p />
The External Animation Set is now attached to the FaceFX Asset that was used to create it.  Although it can be associated with any FaceFX Asset, the External Animation Set needs a default FaceFX Asset so it knows what character to open.  You can change the default FaceFX Asset by right-clicking on the newly created External Animation Set, and selecting <em>Properties</em>.
<p />
<img alt="Anim_Set_Properties.JPG" src="rsrc/Three/FaceFXExternalAnimSets/Anim_Set_Properties.JPG" />
<p />
<h2><a name="Opening an External Animation Set in _FaceFX Studio"></a> Opening an External Animation Set in FaceFX Studio </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
Double-click on the External Animation Set or right-click on it and select <em>FaceFX Studio</em> to open the External Animation Set in FaceFX Studio.  The default FaceFX Asset stored in the Properties of the External Animation Set is loaded, and the External Animation Set is mounted to the actor.
<p />
<img alt="Animation_Group.JPG" src="rsrc/Three/FaceFXExternalAnimSets/Animation_Group.JPG" />
<p />
Notice that the External Animation Set in the screenshot above appears to be an animation group.  From the user's perspective there are no visual differences between a mounted External Animation Set and an animation group.  Internally however, an animation group is stored within a FaceFX Asset, and an External Animation Sets is stored elsewhere in an Unreal package.
<p />
You can only work with one External Animation Set at a time from UnrealEd.  In game however, you can mount multiple External Animation Sets to a single FaceFX Asset dynamically.
<p />
<h2><a name="Adding Animations to an External Animation Set"></a> Adding Animations to an External Animation Set </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
Initially, the newly created External Animation Set will not contain any animations.  You can transfer animations into the External Animation Set or generate new animations from the Animation Manager.  Select <em>Animation Manager...</em> from the Actor menu in FaceFX Studio.
<p />
<img alt="Select_Animation_Manager.JPG" src="rsrc/Three/FaceFXExternalAnimSets/Select_Animation_Manager.JPG" />
<p />
From the Animation Manager, select the External Animation Set from the animation group dropdown on the left.  In the below screenshot, the Silence_Loop animation in the Default group is transferred into the External Animation Set by clicking on the button with two arrows pointing left.
<p />
<img alt="Transfer_Silence_Loop.JPG" src="rsrc/Three/FaceFXExternalAnimSets/Transfer_Silence_Loop.JPG" />
<p />
You can also generate new animations from sound cues by clicking on the <em>Create Animation...</em> button and following the Create Animation Wizard.  Make sure the External Animation Set is selected as the Primary Animation Group at the top-left of the Animation Manager dialog.  In the below screenshot, the "welcome_external" animation has been added to the External Animation Set by analyzing the "welcome" sound cue stored in the MatineeTest_Resources package.
<p />
<img alt="Generated_Transfer.JPG" src="rsrc/Three/FaceFXExternalAnimSets/Generated_Transfer.JPG" />
<p />
<h2><a name="Saving an External Animation Set"></a> Saving an External Animation Set </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
To save the External Animation Set, simply perform a save operation from FaceFX Studio.  This will save changes to both the FaceFX Asset and the External Animation Set.  Even though the External Animation Set appears to be part of the FaceFX Asset, when it is saved it will be saved separately.  Saving will mark the appropriate Unreal packages as dirty and you will have to save the Unreal packages to fully commit your changes.
<p />
</noautolink>
<p />
<p />
<p />
<p />
<p />
<p />


<!-- BEGIN UE4 NOTICE -->



<div id="version_message" style="display:none;">

    <div style="position:fixed;top:0px;left:0px;width:100%;height:100%;background:#000;opacity:0.5;">

    </div>

    <div style="position:fixed;top:50%;left:50%;margin:-70px 0px 0px -240px;background:#FFF;border-radius:6px;width:480px;box-shadow:0px 5px 30px -5px rgba(0,0,0,0.9);">

        <div style="font-size:16px;font-weight:bold;background: url(rsrc/Three/warning.png) no-repeat scroll 5px 5px;padding:4px 10px 5px 25px;height:21px;width:440px;">

            Important!

        </div>

        <div style="font-size:11px;padding:5px 10px 10px;width:460px;">

            <p>You are viewing documentation for the <strong>Unreal Development Kit (UDK)</strong>.</p>



            <p>If you are looking for the Unreal Engine 4 documentation, please visit the <a style="color:#000;" href="https://docs.unrealengine.com">Unreal Engine 4 Documentation</a> site.</p>

        </div>

        <div style="height:20px;padding:4px;margin:6px;border-top:1px solid #a0a0a0;">

            <form onsubmit="return closeVersionMessage();">

                <input type="checkbox" id="dismiss" value="dismiss" />

                <label for="dsimiss">Don't show me this again</label>

                <input type="submit" value="Close" style="cursor:pointer;float:right;width:60px;color:#f0f0f0;font-weight:bold;background:#882222;height:24px;padding:2px 3px 3px;text-align:center;border:1px outset #000;" />

            </form>

        </div>

    </div>

</div>



<script type="text/javascript">

    window.onload = function () {

        LoadVersionMessage();

    }



    function LoadVersionMessage()

    {

        var showMessage = "false";
        if(showMessage != "false")

        {

            showVersionMessage();

        }

    }



    function showVersionMessage()

    {

        var message = document.getElementById("version_message");

        if(message)

        {

            message.style.display = "block";

        }

    }



    function closeVersionMessage() {

        var dismiss = document.getElementById("dismiss");

        var message = document.getElementById("version_message");

        if (message) {

            message.style.display = "none";

        }

        if (dismiss.checked) {

            eraseCookie("doc_version_message");

            createCookie("doc_version_message", "false", 365);

            dismiss.checked = false;

        }

        return false;

    }



    function createCookie(name, value, days) {

        if (days) {

            var date = new Date();

            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));

            var expires = "; expires=" + date.toGMTString();

        }

        else var expires = "";

        document.cookie = name + "=" + value + expires + "; path=/";

    }



    function readCookie(name) {

        var nameEQ = name + "=";

        var ca = document.cookie.split(';');

        for (var i = 0; i < ca.length; i++) {

            var c = ca[i];

            while (c.charAt(0) == ' ') c = c.substring(1, c.length);

            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);

        }

        return null;

    }



    function eraseCookie(name) {

        createCookie(name, "", -1);

    }

</script>



<!-- END UE4 NOTICE -->



</div></div><div id="footer"><div style="BACKGROUND-COLOR: transparent; margin: 0; padding: 0; width: 100%;"><div>&nbsp;</div><div style="float: left; text-align: left; vertical-align: bottom; width: 50%;"><a href="http://www.videogamevoters.org"><img src="rsrc/vgvn.jpg" border="0" width="234" height="60" alt="Video Game Voters Network" /></a></div><div style="float: right; text-align: right; vertical-align: bottom; width: 50%;">Copyright &copy; 2001-2012 <a href="http://www.epicgames.com" target="_top">Epic Games, Inc.</a><br /><a href="../Main/TermsAndConditions.html" class="twikiLink">Terms and Conditions</a><br /><a href="http://epicgames.com/privacynotice" target="_top">Privacy Notice</a></div></div></div></div>
<p />
</html></body>
