<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title> UDK | CodingStandard    </title>

<style type="text/css" media="all">@import "rsrc/twiki_webs.css";</style>
<style type="text/css" media="all">@import "rsrc/udn_new.css";</style>
<link rel="icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />


<!-- view.static_udn3.tmpl  -->
<script language="JavaScript" type="text/javascript" src="rsrc/udn.js"></script>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

</head>
<p />
<body id="webbgThree">
<p />

<p />
<div id="webThree"><div id="head">
<!--
<div class="header">
 -->
<div style="background: url(/pub/webbg_udn.jpg); background-repeat: no-repeat; height:140px; width: 100%;" >
<!--
<div style="background: transparent url(/pub/udn_header_bg.jpg); background-repeat: repeat-x; height:140px; width: 100%; margin-left: 991px;">
 -->
<p />
<div id="nav">
<ul class="nav">
<font color=black>|</font>&nbsp;&nbsp;<li class=nav_Three><a href="../Main/WebHome.html" class="twikiLink">Main</a></li><font color=black>|</font><li class=nav_Three><a href="../Two/WebHome.html" class="twikiLink">UnrealEngine2</a></li><font color=black>|</font><li class=nav_Three><a href="WebHome.html" class="twikiLink">UnrealEngine3</a></li><font color=black>|</font><li class=nav_Three><a href="https://docs.unrealengine.com" class="twikiLink">UnrealEngine4</a></li><font color=black>|</font><li class=nav_Three><a href="../Main/BusinessAndLegal.html" class="twikiLink">Business &amp; Legal</a></li><font color=black>|</font>
</ul><br><br><br>
</div>
</div>
</div> <!-- end head -->
<div id="pagedefault">
<div id="maincol">
<div id="tool">
<div id="tooltop">UDN</div>
<div id="tooltext" style="padding: 10px 10px 10px 10px;">
Search public documentation: <br>
<form ACTION="/search/index.php" METHOD="GET" NAME="main" ID="main">
<input TYPE="TEXT" NAME="q" SIZE="15" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;">
<input TYPE="SUBMIT" VALUE="Search" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;"><br>
</form>
</div>
<div id="toolband">CodingStandard  </b></div>
<div id="tooltext">
<a href="CodingStandardJP.html" class="twikiLink">日本語訳</a><br><a href="CodingStandardCH.html" class="twikiLink">中国翻译</a><br><a href="CodingStandardKR.html" class="twikiLink">한국어</a><br>

<!-- Three/CodingStandard -->
<hr size="1" noshade="noshade" />
Interested in the Unreal Engine? <br>
Visit the <a href="http://www.unrealtechnology.com" target="_top">Unreal Technology</a> site.<br>
<br>
Looking for jobs and company info? <br>
Check out the <a href="http://www.epicgames.com" target="_top">Epic games</a> site.<br>
<br>
Questions about support via UDN? <br>
Contact the <a href="../Main/ContactUDNStaff.html" class="twikiLink">UDN Staff</a> <br>
<br>
</div> <!-- end toolbox content -->
<div id="toolbottom"></div>
</div> <!-- end tool -->
<p />
<noautolink>
<p />
<div style="padding:0px 0px 0px 4px;font:10px Verdana;">
<!--  -->
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="UnrealScriptHome.html" class="twikiLink">UnrealScript</a></b> &gt; Coding Standards
</div>
<hr size="1" noshade="noshade">
<h1><a name="Coding Standards"></a> Coding Standards </h1>
<hr size="1" noshade="noshade">
<p />
<div class="twikiToc"> <ul>
<li> <a href="CodingStandard.html#Coding Standards"> Coding Standards</a> <ul>
<li> <a href="CodingStandard.html#Overview"> Overview</a>
</li> <li> <a href="CodingStandard.html#Class Organization : class names are nouns"> Class Organization : class names are nouns</a>
</li> <li> <a href="CodingStandard.html#State Organization : state names are adjectives">State Organization : state names are adjectives</a>
</li> <li> <a href="CodingStandard.html#Method Organization : method names are verbs">Method Organization : method names are verbs</a>
</li> <li> <a href="CodingStandard.html#Variables:  use the proper types in C++!">Variables:  use the proper types in C++!</a>
</li> <li> <a href="CodingStandard.html#Comments"> Comments</a> <ul>
<li> <a href="CodingStandard.html#Modifying Third Party Code:"> Modifying Third Party Code:</a>
</li></ul>
</li> <li> <a href="CodingStandard.html#Additional Standards for C#"> Additional Standards for C#</a> <ul>
<li> <a href="CodingStandard.html#Required Project Settings"> Required Project Settings</a>
</li></ul>
</li> <li> <a href="CodingStandard.html#Naming Conventions">Naming Conventions</a> <ul>
<li> <a href="CodingStandard.html#Const"> Const</a>
</li> <li> <a href="CodingStandard.html#Virtual"> Virtual</a>
</li></ul>
</li> <li> <a href="CodingStandard.html#Execution Blocks"> Execution Blocks</a> <ul>
<li> <a href="CodingStandard.html#braces { }">braces { }</a>
</li> <li> <a href="CodingStandard.html#if - else">if - else</a>
</li> <li> <a href="CodingStandard.html#Tabs"> Tabs</a>
</li> <li> <a href="CodingStandard.html#Switch statements"> Switch statements</a>
</li> <li> <a href="CodingStandard.html#defaultproperties">defaultproperties </a>
</li></ul>
</li> <li> <a href="CodingStandard.html#Boolean expressions"> Boolean expressions</a>
</li> <li> <a href="CodingStandard.html#General style issues:"> General style issues:</a>
</li> <li> <a href="CodingStandard.html#Namespaces in C++"> Namespaces in C++</a> <ul>
<li> <a href="CodingStandard.html#Namespace Example (Scoped enums)"> Namespace Example (Scoped enums)</a>
</li></ul>
</li> <li> <a href="CodingStandard.html#Examples:"> Examples:</a>
</li> <li> <a href="CodingStandard.html#C++ functions">C++ functions</a>
</li> <li> <a href="CodingStandard.html#C++ classes">C++ classes</a>
</li></ul>
</li></ul>
</div>
<p />
<h2><a name="Overview"></a> Overview </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
At Epic, we have a few simple coding standards and conventions.  Most of these examples are in reference to Unreal Script, but they should apply to C++ coding as well.  This document is not meant to be a discussion or work in progress, but rather, reflects the state of Epic's current coding standards.  It is provided as a convenience for licensees.  Note that the engine does not fully reflect this standard; we have a few hundred thousand lines of legacy code, that we're updating as we add new code or refactor old code.
<p />
Code conventions are important to programmers for a number of reasons:  <ul>
<li> 80% of the lifetime cost of a piece of software goes to maintenance.
</li> <li> Hardly any software is maintained for its whole life by the original author.
</li> <li> Code conventions improve the readability of the software, allowing engineers to understand new code more quickly and thoroughly.  We'll certainly be hiring new engineers and interns over the life of this project, and we'll likely be using engine modifications we make new on our next few projects.
</li> <li> If we decide to expose source code to mod community developers, we want it to be easily understood.
</li> <li> Many of these conventions are actually required for cross-compiler compatibility.
</li></ul>
<p />
<h2><a name="Class Organization : class names are nouns"></a> Class Organization : class names are nouns </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p /> <ul>
<li> Class comment block
</li> <li> Class declaration
</li> <li> Variable declarations
</li> <li> C++ only:  Static and const variables
</li> <li> Public variables
</li> <li> Protected variables
</li> <li> Private variables
</li> <li> cpptext
</li> <li> Constructors and Destructors
</li> <li> Includes BeginPlay( ), Destroyed( ), etc.
</li> <li> Methods and states grouped by functionality
</li> <li> State-less utility methods (unassoicated with any state) grouped by functionality
</li> <li> State-less methods associated with entering or leaving a state should go just before the state.
</li> <li> State-associated methods and state for the auto state, if any, should be the first state defined
</li> <li> defaultproperties
</li></ul>
<p />
<h2><a name="State Organization : state names are adjectives"></a> State Organization : state names are adjectives </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p /> <ul>
<li> State comment block (similar to method comments)
</li> <li> Methods
</li> <li> Begin: code
</li></ul>
<p />
<h2><a name="Method Organization : method names are verbs"></a> Method Organization : method names are verbs </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p /> <ul>
<li> Method comment block
</li> <li> Local variables
</li></ul>
<p />
<h2><a name="Variables:  use the proper types in C++!"></a> Variables:  use the proper types in C++! </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p /> <ul>
<li> UBOOL for boolean values (4 bytes).   BOOL will not compile.
</li> <li> TCHAR for a character (NEVER assume the size of TCHAR)
</li> <li> BYTE for unsigned bytes (1 byte)
</li> <li> SBYTE for signed bytes (1 byte)
</li> <li> WORD for unsigned "shorts" (2 bytes)
</li> <li> SWORD for signed "shorts" (2 bytes)
</li> <li> UINT for unsigned ints (4 bytes)
</li> <li> INT for signed ints (4 bytes)
</li> <li> QWORD for unsigned "quad words" (8 bytes)
</li> <li> SQWORD for signed "quad words" (8 bytes)
</li> <li> FLOAT for single precision floating point (4 bytes)
</li> <li> DOUBLE for double precision floating point (8 bytes)
</li> <li> PTRINT for an integer that may hold a pointer (NEVER assume the size of PTRINT)
</li></ul>
<p />
<h2><a name="Comments"></a> Comments </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
Comments are communication; communication is <em>vital</em>. Some things to keep in mind about comments (from Kernighan &amp; Pike <em>The Practice of Programming</em>):
<p /> <ul>
<li> Write self-documenting code: <br>
</li></ul>
<table cellspacing="1" cellpadding="1" class="twikiTable" border="0"><tr><td bgcolor="#eaeaea" class="twikiFirstCol"> Bad </td><td bgcolor="#eaeaea"> Good </td></tr>
<tr><td bgcolor="#ffffff" class="twikiFirstCol"> t = s + l - b; </td><td bgcolor="#ffffff"> TotalLeaves =  SmallLeaves + LargeLeaves  - SmallAndLargeLeaves; </td></tr>
</table>
<br> <ul>
<li> Don't belabor the obvious; either drop the comment or say something useful: <br>
</li></ul>
<table cellspacing="1" cellpadding="1" class="twikiTable" border="0"><tr><td bgcolor="#eaeaea" class="twikiFirstCol"> Bad </td><td bgcolor="#eaeaea"> Good </td></tr>
<tr><td bgcolor="#ffffff" class="twikiFirstCol"> // increment iLeaves </td><td bgcolor="#ffffff"> // we know there is another tea leaf </td></tr>
<tr><td bgcolor="#eaeaea" class="twikiFirstCol"> Leaves++; </td><td bgcolor="#eaeaea"> Leaves++; </td></tr>
</table>
<br> <ul>
<li> Don't comment bad code - rewrite it! <br>
</li></ul>
<table cellspacing="1" cellpadding="1" class="twikiTable" border="0"><tr><td bgcolor="#eaeaea" class="twikiFirstCol"> Bad </td><td bgcolor="#eaeaea"> Good </td></tr>
<tr><td bgcolor="#ffffff" class="twikiFirstCol"> // total number of leaves is sum of </td><td bgcolor="#ffffff"> &nbsp; </td></tr>
<tr><td bgcolor="#eaeaea" class="twikiFirstCol"> // small and large leaves less the </td><td bgcolor="#eaeaea"> &nbsp; </td></tr>
<tr><td bgcolor="#ffffff" class="twikiFirstCol"> // number of leaves that are both </td><td bgcolor="#ffffff"> &nbsp; </td></tr>
<tr><td bgcolor="#eaeaea" class="twikiFirstCol"> t = s + l - b; </td><td bgcolor="#eaeaea"> TotalLeaves = SmallLeaves + LargeLeaves - SmallAndLargeLeaves; </td></tr>
</table>
<br> <ul>
<li> Don't contradict the code: <br>
</li></ul>
<table cellspacing="1" cellpadding="1" class="twikiTable" border="0"><tr><td bgcolor="#eaeaea" class="twikiFirstCol"> Bad </td><td bgcolor="#eaeaea"> Good </td></tr>
<tr><td bgcolor="#ffffff" class="twikiFirstCol"> // never increment iLeaves! </td><td bgcolor="#ffffff"> // we know there is another tea leaf </td></tr>
<tr><td bgcolor="#eaeaea" class="twikiFirstCol"> Leaves++; </td><td bgcolor="#eaeaea"> Leaves++; </td></tr>
</table>
<p />
Our documentation style is based on <a href="http://java.sun.com/j2se/javadoc/writingdoccomments/" target="_top">Javadoc</a> with the exception being C# projects (see the section there).  Eventually we'll get around to auto-generated documentation.
<p />
The following example demonstrates the format of class, state, method, and variable comments. Remember that comments should augment the code. The code documents the implementation and the comments document the intent. Make sure to update comments when you change the intent of a piece of code.
<p />
<pre>
class Tea extends WarmBeverage
   native, perobjectconfig, transient;
/&#42;&#42;
 &#42; This class does lots of neat things.  It works
 &#42; with a few other classes to do other neat things.
 &#42;/

/&#42;&#42; This stores the value of tea in china. &#42;/
var float Price;


/&#42;&#42;
 &#42; state Brewing
 &#42; This state was created to represent Brewing in the cup.
 &#42; entered: AddBoilingWater is called in the default state.
 &#42; exited:  through Pour or too much time elapses (goes to
 &#42; GettingBitter)
 &#42;/
state Brewing
{

   /&#42;&#42;
    &#42; Steep calculates a delta-taste value for the tea given the
    &#42; volume and temperature of water used to steep.
    &#42;
    &#42; &#64;param    VolumeOfWater - amount of water used to brew
    &#42;           a positive number of milliliters (not checked!)
    &#42;
    &#42; &#64;param    TemperatureOfWater - water&#39;s temperature in
    &#42;           degrees Kelvin. 273 &#60; temperatureOfWater &#60; 380
    &#42;
    &#42; &#64;param    NewPotency - the tea&#39;s potency after steeping starts;
    &#42;           should be between 0.97 and 1.04
    &#42;
    &#42; &#64;return    returns the change in intensity of the tea in tea taste
    &#42;           units (TTU) per minute
    &#42;
    &#42;/

   function float Steep (float VolumeOfWater, float TemperatureOfWater,
                         out float NewPotency)
   {
   }
}
</pre>
<p />
What does a class comment include? <ul>
<li> A description of the problem this class solves. Why was this class created?
</li></ul>
What does a state comment include? <ul>
<li> A description of the problem this state solves. Why does this object have such a state. Note from the ordering of class stuff above that state associated functions not in a state should appear just before the state comment.
</li></ul>
What do all those parts of the function comment mean?  <ul>
<li> Brewing::Steep means that the Steep method is in the Brewing state. This uses C++ scope resolution operator in Unreal Script comments.
</li> <li> The purpose of the function is next. This documents the <em>problem this function solves.</em> As has been said above, comments document <em>intent</em> and code documents implementation.
</li> <li> inputs lists all of the input parameters to this method. Each parameter should include units of measure, the range of expected values, "impossible" values, and the meaning of status/error codes.
</li> <li> inputs/outputs (not included here as it is not needed) documents the parameters that provide values to the function that may be changed by the function. Document as <em>both</em> an input and an output parameter.
</li> <li> outputs lists all output only parameters (where the value provided by the caller is ignored). Should have meaning of return values included as well as what happens to the value in case of any error/failure.
</li> <li> returns documents the expected return value just as an output variable is documented.
</li></ul>
<p />
<strong>A few special comments.</strong> Note there's no space between the slashes and the word; this facilitates searching for these comments without a lot of extraneous hits. <br>
//@debug      debug statements to be deleted before release <br>
//@todo         still work to be done, follow with description
<p />
Note, debug code should generally be left out of the engine.  If you must leave it in, it should be wrapped in an if(0) block rather than #if 0, so that it's always compiled, but still optimized out.  Include a comment explaining that it is debug code, and include your name and what the debug code was for.
<p />
<h3><a name="Modifying Third Party Code:"></a> Modifying Third Party Code: </h3>
<p />
Whenever you modify the code to a library that we use in the engine (wxWindows, FaceFX, Novodex etc), be sure to tag your changes with a //@UE3 comment, as well as an explanation of why you made the change. This make merging the changes into new version of that library easier, and lets licensees easily find any modifications we have made.
<p />
<p />
<h2><a name="Additional Standards for C#"></a> Additional Standards for C# </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
Rather than use the <pre>/&#42;&#42; &#42;/</pre> formatting of comments for C# use the <pre>///</pre> format which correctly generates code help files. For example:
<p />
<pre>
namespace UnrealLogging
{
   /// &#60;summary&#62;
   /// Indicates the level of the message being logged
   /// &#60;/summary&#62;
   public enum LogLevel { LOG&#95;Error, LOG&#95;Warning, LOG&#95;Debug };

   /// &#60;summary&#62;
   /// Generic logging interface. This interface is to be implemented to
   /// provide logging support for whichever the target environment is.
   /// &#60;/summary&#62;
   public interface ILogger
   {
      /// &#60;summary&#62;
      /// Writes the message to the implemented logging support
      /// &#60;/summary&#62;
      /// &#60;param name&#61;&#34;MsgLevel&#34;&#62;The severity of the message being written&#60;/param&#62;
      /// &#60;param name&#61;&#34;StrMsg&#34;&#62;The message to write out&#60;/param&#62;
      void Log(LogLevel MsgLevel,string StrMsg);

      /// &#60;summary&#62;
      /// Sets the filtering that will be applied to logging. No message
      /// with a level higher than what is set in here will get logged.
      /// &#60;/summary&#62;
      /// &#60;param name&#61;&#34;MaxLevel&#34;&#62;Maximum log level to write out&#60;/param&#62;
      void SetFilter(LogLevel MaxLevel);
   }
}
</pre>
<p />
<p />
<h3><a name="Required Project Settings"></a> Required Project Settings </h3>
<p />
Enable the XML documentation file and keep that up to date in Perforce.
<p />
Enable the option to treat no code documentation as an error.
<p />
<p />
<h2><a name="Naming Conventions"></a> Naming Conventions </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
Variable, function, state, and class names should be clear, unambiguous, and descriptive. The greater the scope of the name, the greater the importance of a good, descriptive name.  Avoid over-abbreviation.
<p />
All variables should be declared one at time so that a comment on the meaning of the variable can be provided. Also, the JavaDocs style requires it. You can use multi-line or single line comments before a variable, and the blank line is optional for grouping variables.
<p />
Variable names should use the following capitalization format:  ThisIsAGoodVariableName.  Don't use "thisIsABadName" (a.k.a. camel case) or "this_is_a_bad_name" (underscores).
<p />
All booleans should ask a true/false question. All functions that return a bool should do the same. All boolean variables must be prefixed with <em>b</em>.
<p />
<pre>
/&#42;&#42; the tea weight in kilograms &#42;/
var float TeaWeight;

/&#42;&#42; the number of tea leaves &#42;/
var int TeaNumber;

/&#42;&#42; TRUE indicates tea is smelly &#42;/
var bool bDoesTeaStink;

/&#42;&#42; non-human-readable FName for tea &#42;/
var name TeaName;

/&#42;&#42; human-readable name of the tea &#42;/
var String TeaName;
</pre>
<p />
Structured types append the name of the class onto the end of the variable:
<p />
<pre>
/&#42;&#42; Which class of tea to use &#42;/
var class&#60;Tea&#62; TeaClass;

/&#42;&#42; The sound of pouring tea &#42;/
var Sound TeaSound;

/&#42;&#42; a picture of tea &#42;/
var Texture TeaTexture;
</pre>
<p />
For C++ code, make all class variables private by default. Only make them public if it is required to interact with script, i.e. generated from XxxClasses.h.
<p />
A procedure (a function with no return value) should use a strong verb followed by an object. An exception is if the object of the method is the object it is in; then the object is understood from context. Names to avoid include those beginning with "Handle" and "Process"; the verbs are ambiguous.
<p />
<pre>
Tea SomeT;
SteepTea(SomeT);    // method names type of object processed
SomeT.Pour();       // method invoked on Tea; verb is enough
</pre>
<p />
Functions that return a value should describe the return value; the name should make clear what value the function will return. This is particularly important for boolean functions.  Consider the following two example methods:
<p />
<pre>
function bool CheckTea(Tea t) {...} // what does TRUE mean?
function bool IsTeaFresh(Tea t) {...} // name makes it clear TRUE means tea is fresh
</pre>
<p />
State and class names should begin with a capital letter and use internal capitalization for readability. Class names should be nouns and state names should indicate states of being (such as adjectives).  Note that a state is never used without a class so there is always an implicit object.
<p />
Use all the variables you pass in. If you don't use a value, remove it from the parameter list or keep the parameter type but comment out the parameter:
<p />
<pre>
void Update(FLOAT DeltaTime, UBOOL /&#42;bForceUpdate&#42;/);
</pre>
<p />
Unreal Script: parameters passed by reference should use an out_ prefix:
<p />
<pre>
function PassRefs (out float out&#95;wt, float ht, out int out&#95;x)
</pre>
<p />
<h3><a name="Const"></a> Const </h3>
<p />
Whenever you can use const in C++, use const. Particularly on function parameters and class methods. const is documentation as much as it is a compiler directive.
<p />
<h3><a name="Virtual"></a> Virtual </h3>
<p />
When declaring a virtual function in a derived class that overrides a virtual function in the parent class, you <strong>must</strong> use the virtual keyword. Although it is optional according to the C++ standard because the 'virtual' behaviour is inherited, code is much clearer if all virtual function declarations use the virtual keyword.
<p />
<h2><a name="Execution Blocks"></a> Execution Blocks </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
<h3><a name="braces { }"></a> braces { } </h3>
Brace wars are foul.  Epic has a long standing usage pattern of putting braces on a new line. Please continue to adhere to that.
<p />
<h3><a name="if - else"></a> if - else </h3>
Each block of execution in an if-else statement should be in braces.  This is to prevent editing mistakes - when braces aren't used, someone could unwittingly add another line to an if block.  The line wouldn't be controlled by the if expression, which would be bad. Worse yet is when conditionally compiled items cause if/else statements to break. So always use braces.
<p />
<pre>
if (bHaveUnrealLicense)
{
   InsertYourGameHere();
}
else
{
   CallMarkRein();
}
</pre>
<p />
A multi-way if statement should be indented with each else if indented the same amount as the first if; this makes the structure clear to a reader:
<p />
<pre>
if (TannicAcid &#60; 10)
{
   log(&#34;Low Acid&#34;);
}
else if (TannicAcid &#60; 100)
{
   log(&#34;Medium Acid&#34;);
}
else
{
   log(&#34;High Acid&#34;);
}
</pre>
<p />
<h3><a name="Tabs"></a> Tabs </h3>
Indent code by execution block.  Unreal Script class member functions need not be indented, because classes are not enclosed in a block.  Use tabs, not spaces, to indent code.  That way, everyone can view the code at their preferred tab level.
<p />
<h3><a name="Switch statements"></a> Switch statements </h3>
Except for empty cases (multiple cases having identical code), switch case statements should explicitly label that a case falls through to the next case.  Either include a break or a falls-through comment in each case.  Other code control-transfer commands (return, continue, etc.) are fine as well.
<p />
Always have a default case, and include a break - just in case someone adds a new case after the default.
<p />
<pre>
switch (condition)
{
   case 1:
      --code--;
      // falls through
   case 2:
      --code--;
      break;
   case 3:
      --code--;
      return;
   case 4:
   case 5:
      --code--;
      break;
   default:
      break;
}
</pre>
<p />
<h3><a name="defaultproperties"></a> defaultproperties </h3>
Default properties should be listed in order:  first inherited variables, then class variables.  Remember, config and localized variables can no longer be defined in defaultproperties blocks in UE3.
<p />
<pre>
defaultproperties
{
   // variables inherited from Object
   bGraphicsHacks&#61;TRUE

   // variables inherited from WarmBeverage
   bThirsty&#61;FALSE

   // class variables
   bTeaDrinker&#61;TRUE
}
</pre>
<p />
<h2><a name="Boolean expressions"></a> Boolean expressions </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
In C++, always use TRUE or FALSE as values in boolean expressions.  Do not use true or false, which can cause crazy compiler/definition problems.  Don't use 0 or 1 because they're not as clear to read.
<p />
In UnrealScript, you should use true and false (lowercase).
<p />
Don't be afraid to make up some local bools to make code more readable.  In the second example below, the variable names make it very easy to tell under what conditions DoSomething() is called.
<p />
<pre>
if ((Blah.BlahP.WindowExists.Etc &#38;&#38; stuff) &#38;&#38;
    !(Player exist &#38;&#38; Gamestarted &#38;&#38; player still has pawn &#38;&#38;
    IsTuesday())))
{
   DoSomething();
}
</pre>
<p />
<em>should be replaced with</em>
<p />
<pre>
local bool bLegalWindow;
local bool bPlayerDead;

bLegalWindow &#61; (Blah.BlahP.WindowExists.Etc &#38;&#38; stuff);
bPlayerDead &#61; (Player exist &#38;&#38; Gamestarted &#38;&#38;
               player still has pawn &#38;&#38; IsTuesday());

if ( bLegalWindow &#38;&#38; !bPlayerDead )
{
   DoSomething();
}
</pre>
<p />
Notice: expressions are broken <em>after</em> an operator (the operator ends the previous line) and following lines are aligned inside the appropriate parenthese.
<p />
Similarly, there is no code that is "too simple" for factoring out into a function. If you were using the bLegalWindow variable in multiple functions, it would make sense to factor it out into its own function (assuming the parameters are easily available).
<p />
<h2><a name="General style issues:"></a> General style issues: </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p /> <ul>
<li> <strong>Avoid multiple returns from a function</strong>.  Unless it will overly obfuscate your code, use a single return statement.  This makes code much easier to maintain, as it's simpler to track the path of execution, make debugging changes, etc.
</li></ul>
<p /> <ul>
<li> <strong>Never pass a structure into a debugf/warnf/appErrorf function.</strong> Use * for FNames and FStrings to make them printable with %s.
</li></ul>
<p /> <ul>
<li> <strong>Minimize dependency distance</strong>.  When code depends on a variable having a certain value, try to set that variable's value right before using it.  Initializing a variable at the top of an execution block, and not using it for a hundred lines of code, gives lots of space for someone to accidentally change the value without realizing the dependency.  Having it on the next line makes it clear why the variable is initialized the way it is and where it is used. A Berkeley study showed that a variable declared more than 7 lines from its usage had an extremely high chance (&gt; 80%) of being used incorrectly.
</li></ul>
<p /> <ul>
<li> <strong>Function length</strong>. Functions should not be longer than 60 lines long. This number <em>is</em> arbitrary but the whole function will fit on a single printed page. If you find your function is longer, think about how the task can be refactored. Use smaller functions and inline functions to avoid call overhead.
</li></ul>
<p /> <ul>
<li> <strong>Address compiler warnings.</strong> Compiler warning messages mean something is not as it should be. Fix what the compiler is complaining about. If you absolutely cannot address it, use #pragma to suppress the warning; this is a remedy of last resort.
</li></ul>
<p /> <ul>
<li> <strong>Never allow FLOAT to implicit convert to INT.</strong>  This is a slow operation, and does not compile on all compilers. Instead, always use the appTrunc() function to convert to INT. This will ensure cross-compiler compatibility as well as generate faster code.
</li></ul>
<p />
<p />
<p />
<h2><a name="Namespaces in C++"></a> Namespaces in C++ </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p /> <ul>
<li> You can use namespaces to organize your classes, functions and variables where appropriate, as long as you follow the rules below.
</li></ul>
<p /> <ul>
<li> Unreal code is currently not wrapped in a global namespace.  You need to watch out for collisions in the global scope, especially when pulling in third party code.
</li></ul>
<p /> <ul>
<li> Don't put "using" declarations in the global scope, even in a .cpp file (it will cause problems with our "unity" build system.)
</li></ul>
<p /> <ul>
<li> It's fine to put "using" declarations within another namespace, or within a function body.
</li></ul>
<p /> <ul>
<li> Note that if you put "using" within a namespace, it will carry over to other occurrences of that namespace in the same translation unit.  As long as you're consistent it will be fine, though.
</li></ul>
<p /> <ul>
<li> You can only use "using" in header files safely if you follow the above rules.
</li></ul>
<p /> <ul>
<li> Note that forward-declared types need to be declared within their respective namespace, otherwise you'll get link errors.
</li></ul>
<p /> <ul>
<li> If you declare a lot of classes/types within a namespace, it can make it difficult to use those types in other global-scoped classes.  (e.g. function signatures will need to use explicit namespace when appearing in class declarations.)
</li></ul>
<p /> <ul>
<li> You can use "using" to alias only specific variables within a namespace into your scope (e.g. using Foo::FBar), but we don't usually do that in Unreal code.
</li></ul>
<p /> <ul>
<li> It's often useful to wrap enum declarations in a namespace (C#-style scoping).  See below for an example.
</li></ul>
<p />
<h3><a name="Namespace Example (Scoped enums)"></a> Namespace Example (Scoped enums) </h3>
<p />
<pre>
/&#42;&#42;
 &#42; Defining a enumeration within a namespace to achieve C#-style enum scoping
 &#42;/
namespace EColorChannel
{
    /&#42;&#42; Declare EColorChannel::Type as the actual type for this enum &#42;/
    enum Type
    {
        /&#42;&#42; Red color channel &#42;/
        Red,

        /&#42;&#42; Green color channel &#42;/
        Green,

        /&#42;&#42; Blue color channel &#42;/
        Blue
    };
}


/&#42;&#42;
 &#42; Given a color channel, returns a name string for that color
 &#42;
 &#42; &#64;param   InColorChannel   The color channel to return a name for
 &#42;
 &#42; &#64;return  Name of this color channel
 &#42;/
FString GetNameForColorChannel( const EColorChannel::Type InColorChannel )
{
    FString Name;

    switch( InColorChannel )
    {
        case EColorChannel::Red:
            Name &#61; TEXT( &#34;Red&#34; );
            break;

        case EColorChannel::Green:
            Name &#61; TEXT( &#34;Green&#34; );
            break;

        case EColorChannel::Blue:
            Name &#61; TEXT( &#34;Blue&#34; );
            break;
    }

    return Name;
}

</pre>
<p />
<h2><a name="Examples:"></a> Examples: </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
<pre>
/&#42;&#42;
 &#42; This class handles various waveform activities. It manages the waveform data
 &#42; that is being played on any given gamepad at any given time. It is called by
 &#42; the player controller to start/stop/pause a waveform for a given gamepad. It
 &#42; is called by the UXboxViewport to get the current rumble state information
 &#42; to apply that to the gamepad. It does this by evaluating the function
 &#42; defined in the waveform sample data.&#60;BR&#62;
 &#42;
 &#42; Copyright:    Copyright (c) 2005&#60;BR&#62;
 &#42; Company:      Epic Games Inc.&#60;BR&#62;
 &#42;/
class WaveformManager extends Object within PlayerController
   native
   transient
   poolable(1,0);

/&#42;&#42;
 &#42; Whether the player has disabled gamepad rumble or not (TCR C5-3).  This comment is
 &#42; long so it really needs the multiple lines.
 &#42;/
var bool bAllowsForceFeedback;

/&#42;&#42; The currently playing waveform &#42;/
var ForceFeedbackWaveform FFWaveform;

/&#42;&#42;  Whether it was paused by the player controller or not &#42;/
var bool bIsPaused;

/&#42;&#42; The current waveform sample being played &#42;/
var int CurrentSample;

/&#42;&#42; The amount of time elapsed since the start of this waveform &#42;/
var float ElapsedTime;

/&#42;&#42; The amount to scale all waveforms by (user settable) &#42;/
var float ScaleAllWaveformsBy;

/&#42;&#42;
 &#42; Sets the waveform to play for the gamepad
 &#42;
 &#42; &#64;param Waveform The waveform data to play
 &#42;/
simulated final function PlayWaveform(ForceFeedbackWaveform Waveform)
{
   // Zero out the current sample and duration and unpause if paused
   CurrentSample &#61; 0;
   ElapsedTime &#61; 0.0;
   bIsPaused &#61; FALSE;
   // Make sure the waveform is valid
   if (Waveform !&#61; None &#38;&#38; Waveform.Samples.Length &#62; 0 &#38;&#38;
      bAllowsForceFeedback )
   {
      // Set the wave form to play
      FFWaveform &#61; Waveform;
   }
   else
   {
      FFWaveform &#61; None;
   }
}

/&#42;&#42;
 &#42; Stops the waveform by nulling out the waveform
 &#42;/
simulated final function StopWaveform()
{
   // Remove the current waveform
   FFWaveform &#61; None;
}

/&#42;&#42;
 &#42; Pauses/unpauses the playback of the waveform for the gamepad
 &#42;
 &#42; &#64;param bPause TRUE to pause, FALSE to resume
 &#42;/
simulated final function PauseWaveform(optional bool bPause)
{
   // Set the paused state for the gamepad
   bIsPaused &#61; bPause;
}

defaultproperties
{
   bAllowsForceFeedback&#61;TRUE
   ScaleAllWaveformsBy&#61;1.0
}

</pre>
<p />
<h2><a name="C++ functions"></a> C++ functions </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
<pre>
/&#42;&#42;
 &#42; Run Post render for each sub camera effect and accumulate results.
 &#42; By doing this we save the extra full screen pass from adding the emissive
 &#42; result and we also get an extra 2 pass blur on the emissive for free.
 &#42;
 &#42; &#64;param Viewport   The viewport we are drawing into
 &#42; &#64;param RI      The render interface used for drawing
 &#42;/
void UUCScreenEmissiveWithBloom::PostRender(UViewport&#42; Viewport,FRenderInterface&#42; RI)
{
   guard(UUCScreenEmissiveWithBloom::PostRender);

   checkSlow( EmissiveCamEffect &#38;&#38; BloomCamEffect );

   // make sure that the emissive post render does not draw its
   // results onto the back buffer
   EmissiveCamEffect-&#62;DisplayOutput &#61; 0;
   EmissiveCamEffect-&#62;PostRender( Viewport, RI );

   // set the result from the emissive camera effect for the
   // bloom camera effect to use
   BloomCamEffect-&#62;EmissiveResultTarget &#61;
EmissiveCamEffect-&#62;GetEmissiveResultTarget();
   BloomCamEffect-&#62;PostRender( Viewport, RI );

   unguard;
}


/&#42;&#42;
 &#42; Increments the int variable attached in link 0, then
 &#42; compares it to the int variable attached in link 1,
 &#42; and fires impulses based on the comparison.
 &#42;/
void USeqCond&#95;Increment::Activated()
{
   check(VariableLinks.Num() &#62;&#61; 2 &#38;&#38; &#34;Decrement requires at least 2 variables&#34;);

   // grab our two int variables
   INT Value1 &#61; 0;
   INT Value2 &#61; 0;
   TArray&#60;INT&#42;&#62; IntValues1;
   GetIntVars( IntValues1, TEXT(&#34;Counter&#34;) );
   TArray&#60;INT&#42;&#62; IntValues2;
   GetIntVars( IntValues2, TEXT(&#34;Comparison&#34;) );
   // increment all of the counter variables
   for (INT VarIdx &#61; 0; VarIdx &#60; IntValues1.Num(); VarIdx++)
   {
      &#42;(IntValues1(VarIdx)) +&#61; IncrementAmount;
      Value1 +&#61; &#42;(IntValues1(VarIdx));
   }
   // get the actual values by adding up all linked variables
   for (INT VarIdx &#61; 0; VarIdx &#60; IntValues2.Num(); VarIdx++)
   {
      Value2 +&#61; &#42;(IntValues2(VarIdx));
   }
   // compare the values and set output impulse
   OutputLinks(Value1 &#60;&#61; Value2 ? 0 : 1).bHasImpulse &#61; 1;
}
</pre>
<p />
<h2><a name="C++ classes"></a> C++ classes </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p />
<pre>
/&#42;&#42;
 &#42; Base class for all templated arrays. Handles allocation of dynamic arrays and
 &#42; uses an algorithm to decide how much &#34;slack&#34; memory to allocate to prevent
 &#42; lots of copying of data due to inefficient grow patterns.
 &#42;/
class FArray
{
public:
   /&#42;&#42;
    &#42; Allows access to the array block
    &#42;
    &#42; &#64;return The pointer to the block of memory that makes up the array
    &#42;/
   void&#42; GetData()
   {
      return Data;
   }

   /&#42;&#42;
    &#42; Validates that the specified index is within the array boundary
    &#42;
    &#42; &#64;return TRUE if the index is valid, FALSE otherwise
    &#42;/
   UBOOL IsValidIndex( INT i ) const
   {
      return i&#62;&#61;0 &#38;&#38; i&#60;ArrayNum;
   }

   // ...

protected:
   /&#42;&#42; The pointer to the block of memory representing the array &#42;/
   void&#42;    Data;
   /&#42;&#42; Number of elements currently in the array &#42;/
   INT      ArrayNum;
   /&#42;&#42; The number of elements the array can hold without having to realloc &#42;/
   INT      ArrayMax;
};
</pre>
<p />
</noautolink>
<p />
<p />
<p />
<p />
<p />
<p />


<!-- BEGIN UE4 NOTICE -->



<div id="version_message" style="display:none;">

    <div style="position:fixed;top:0px;left:0px;width:100%;height:100%;background:#000;opacity:0.5;">

    </div>

    <div style="position:fixed;top:50%;left:50%;margin:-70px 0px 0px -240px;background:#FFF;border-radius:6px;width:480px;box-shadow:0px 5px 30px -5px rgba(0,0,0,0.9);">

        <div style="font-size:16px;font-weight:bold;background: url(rsrc/Three/warning.png) no-repeat scroll 5px 5px;padding:4px 10px 5px 25px;height:21px;width:440px;">

            Important!

        </div>

        <div style="font-size:11px;padding:5px 10px 10px;width:460px;">

            <p>You are viewing documentation for the <strong>Unreal Development Kit (UDK)</strong>.</p>



            <p>If you are looking for the Unreal Engine 4 documentation, please visit the <a style="color:#000;" href="https://docs.unrealengine.com">Unreal Engine 4 Documentation</a> site.</p>

        </div>

        <div style="height:20px;padding:4px;margin:6px;border-top:1px solid #a0a0a0;">

            <form onsubmit="return closeVersionMessage();">

                <input type="checkbox" id="dismiss" value="dismiss" />

                <label for="dsimiss">Don't show me this again</label>

                <input type="submit" value="Close" style="cursor:pointer;float:right;width:60px;color:#f0f0f0;font-weight:bold;background:#882222;height:24px;padding:2px 3px 3px;text-align:center;border:1px outset #000;" />

            </form>

        </div>

    </div>

</div>



<script type="text/javascript">

    window.onload = function () {

        LoadVersionMessage();

    }



    function LoadVersionMessage()

    {

        var showMessage = "false";
        if(showMessage != "false")

        {

            showVersionMessage();

        }

    }



    function showVersionMessage()

    {

        var message = document.getElementById("version_message");

        if(message)

        {

            message.style.display = "block";

        }

    }



    function closeVersionMessage() {

        var dismiss = document.getElementById("dismiss");

        var message = document.getElementById("version_message");

        if (message) {

            message.style.display = "none";

        }

        if (dismiss.checked) {

            eraseCookie("doc_version_message");

            createCookie("doc_version_message", "false", 365);

            dismiss.checked = false;

        }

        return false;

    }



    function createCookie(name, value, days) {

        if (days) {

            var date = new Date();

            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));

            var expires = "; expires=" + date.toGMTString();

        }

        else var expires = "";

        document.cookie = name + "=" + value + expires + "; path=/";

    }



    function readCookie(name) {

        var nameEQ = name + "=";

        var ca = document.cookie.split(';');

        for (var i = 0; i < ca.length; i++) {

            var c = ca[i];

            while (c.charAt(0) == ' ') c = c.substring(1, c.length);

            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);

        }

        return null;

    }



    function eraseCookie(name) {

        createCookie(name, "", -1);

    }

</script>



<!-- END UE4 NOTICE -->



</div></div><div id="footer"><div style="BACKGROUND-COLOR: transparent; margin: 0; padding: 0; width: 100%;"><div>&nbsp;</div><div style="float: left; text-align: left; vertical-align: bottom; width: 50%;"><a href="http://www.videogamevoters.org"><img src="rsrc/vgvn.jpg" border="0" width="234" height="60" alt="Video Game Voters Network" /></a></div><div style="float: right; text-align: right; vertical-align: bottom; width: 50%;">Copyright &copy; 2001-2012 <a href="http://www.epicgames.com" target="_top">Epic Games, Inc.</a><br /><a href="../Main/TermsAndConditions.html" class="twikiLink">Terms and Conditions</a><br /><a href="http://epicgames.com/privacynotice" target="_top">Privacy Notice</a></div></div></div></div>
<p />
</html></body>
