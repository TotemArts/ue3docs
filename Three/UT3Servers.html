<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title> UDK | UT3Servers    </title>

<style type="text/css" media="all">@import "rsrc/twiki_webs.css";</style>
<style type="text/css" media="all">@import "rsrc/udn_new.css";</style>
<link rel="icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />


<!-- view.static_udn3.tmpl  -->
<script language="JavaScript" type="text/javascript" src="rsrc/udn.js"></script>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

</head>
<p />
<body id="webbgThree">
<p />

<p />
<div id="webThree"><div id="head">
<!--
<div class="header">
 -->
<div style="background: url(/pub/webbg_udn.jpg); background-repeat: no-repeat; height:140px; width: 100%;" >
<!--
<div style="background: transparent url(/pub/udn_header_bg.jpg); background-repeat: repeat-x; height:140px; width: 100%; margin-left: 991px;">
 -->
<p />
<div id="nav">
<ul class="nav">
<font color=black>|</font>&nbsp;&nbsp;<li class=nav_Three><a href="../Main/WebHome.html" class="twikiLink">Main</a></li><font color=black>|</font><li class=nav_Three><a href="../Two/WebHome.html" class="twikiLink">UnrealEngine2</a></li><font color=black>|</font><li class=nav_Three><a href="WebHome.html" class="twikiLink">UnrealEngine3</a></li><font color=black>|</font><li class=nav_Three><a href="https://docs.unrealengine.com" class="twikiLink">UnrealEngine4</a></li><font color=black>|</font><li class=nav_Three><a href="../Main/BusinessAndLegal.html" class="twikiLink">Business &amp; Legal</a></li><font color=black>|</font>
</ul><br><br><br>
</div>
</div>
</div> <!-- end head -->
<div id="pagedefault">
<div id="maincol">
<div id="tool">
<div id="tooltop">UDN</div>
<div id="tooltext" style="padding: 10px 10px 10px 10px;">
Search public documentation: <br>
<form ACTION="/search/index.php" METHOD="GET" NAME="main" ID="main">
<input TYPE="TEXT" NAME="q" SIZE="15" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;">
<input TYPE="SUBMIT" VALUE="Search" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;"><br>
</form>
</div>
<div id="toolband">UT3Servers  </b></div>
<div id="tooltext">
<a href="UT3ServersJP.html" class="twikiLink">日本語訳</a><br><a href="UT3ServersCH.html" class="twikiLink">中国翻译</a><br><a href="UT3ServersKR.html" class="twikiLink">한국어</a><br>

<!-- Three/UT3Servers -->
<hr size="1" noshade="noshade" />
Interested in the Unreal Engine? <br>
Visit the <a href="http://www.unrealtechnology.com" target="_top">Unreal Technology</a> site.<br>
<br>
Looking for jobs and company info? <br>
Check out the <a href="http://www.epicgames.com" target="_top">Epic games</a> site.<br>
<br>
Questions about support via UDN? <br>
Contact the <a href="../Main/ContactUDNStaff.html" class="twikiLink">UDN Staff</a> <br>
<br>
</div> <!-- end toolbox content -->
<div id="toolbottom"></div>
</div> <!-- end tool -->
<p />
<h1><a name="Server Administration for Unreal Tournament 3"></a> Server Administration for Unreal Tournament 3 </h1>
<p />
<em>Document Summary: Definitive guide to server administration for the third generation Unreal Tournament game.</em>
<p />
<em>Document Changelog: Created by Richard Nalezynski<sup>?</sup>.</em>
<p />
<div class="twikiToc"><span class="twikiTocTitle">Contents</span> <ul>
<li> <a href="UT3Servers.html#Server Administration for Unreal Tournament 3"> Server Administration for Unreal Tournament 3</a> <ul>
<li> <a href="UT3Servers.html#Introduction"> Introduction </a>
</li> <li> <a href="UT3Servers.html#Running a Dedicated Server"> Running a Dedicated Server</a> <ul>
<li> <a href="UT3Servers.html#For PC Servers"> For PC Servers</a>
</li> <li> <a href="UT3Servers.html#For PS3 Servers"> For PS3 Servers</a>
</li></ul>
</li> <li> <a href="UT3Servers.html#Admin Commands"> Admin Commands</a>
</li> <li> <a href="UT3Servers.html#Web Admin"> Web Admin</a>
</li> <li> <a href="UT3Servers.html#Benchmarking"> Benchmarking</a> <ul>
<li> <a href="UT3Servers.html#Demo"> Demo</a>
</li></ul>
</li></ul>
</li></ul>
</div>
<p />
<h2><a name="Introduction"></a> Introduction </h2>
<p />
Running a dedicated Unreal Tournament server can be a fun and rewarding experience; and for some, it is a full-time job. Run servers helps to keep the Unreal community alive!
<p />
This document is intended to give interested server admins the information they need to successfully run their own server.
<p />
For more information, see the official Epic forums for Unreal Tournament 3: <a href="http://forums.epicgames.com/forumdisplay.php?f=20" target="_top">http://forums.epicgames.com/forumdisplay.php?f=20</a>.
<p />
<h2><a name="Running a Dedicated Server"></a> Running a Dedicated Server </h2>
<p />
<h3><a name="For PC Servers"></a> For PC Servers </h3>
<p />
<pre>
UT3 server &#60;map name?options?etc&#62; &#60;-login&#62; &#60;-password&#62;
</pre>
<p />
<strong>server</strong> required to start up in dedicated server mode. The first argument after this must be the map name.
<p />
<strong>map name</strong> enter the name of the map you'd like to launch on the server (for instance: "UT3Demo server DM-Heatray -login -password" will launch a dedicated server on DM-Heatray with default settings)
<p />
<strong>-login=</strong> You must indicate a valid GameSpy<sup>?</sup> login to start a dedicated server from the commandline. You can create these in-game under "Create Profile" on the title screen. These options must be the last in the command line, after any ?options.
<p />
<strong>-password=</strong> The matching password to the login must also be indicated. You can create these in-game under "Create Profile" on the title screen. These options must be the last in the command line, after any ?options.
<p />
<strong>?numplay=x</strong> The number of AI bots you'd like in the game. These bots will quit as human players join the game, and replace them when they quit.
<p />
<strong>?maxplayers=x</strong> The number of human or AI players you want in your game. This is the number that is reflected on the server browser.
<p />
<strong>?timelimit=x</strong> Determines the amount of time that must elapse before the server rotates to the next map. A victory by either team before this time limit is reached will trigger a rotation as well.
<p />
<strong>?goalscore=x</strong> Determines the number of 'scores' required to trigger a server rotation. In CTF this is flag captures. In DM/TDM the number of kills per individual or team.
<p />
<strong>?botskill=x</strong> The skill level of the AI bots. Ranges from 0-7 with 7 being the most difficult.
<p />
<strong>?minnetplayers=x</strong> The minimum number of human players required for a match to start.
<p />
<strong>?game=UTGame.UTTeamGame</strong> Forces a DM map to be a TDM match.
<p />
<strong>?forcerespawn=x</strong> Forces fragged players to instantly respawn. 0 for off, 1 for on.
<p />
<strong>?vsbots=x</strong> Forces all humans to one team and all bots to the other. Additionally it determines whether the bots will outnumber the humans. 1.0 indicates an equal number of AI bots to humans, 1.5 indicates the bots will outnumber the humans by 50%, and 2.0 indicates the bots will outnumber the humans by 100%.
<p />
<strong>?bUsesStats=x</strong> Determines whether the stats acquired on the server will be reported to the leaderboards. True for yes, False for no.
<p />
Example:
<p />
<pre>
ut3 server DM-Deck?numplay&#61;8?maxplayers&#61;8?timelimit&#61;20?goalscore&#61;40?botskill&#61;3 -login&#61;FakeUser -password&#61;FakePassword
</pre>
<p />
This configuration would start a DM-Heatray free-for-all with 8 players. There would be 8 bots until players joined at a middle difficulty level. It would show up in the server browser as <em>FakeUser</em>.
<p />
<h3><a name="For PS3 Servers"></a> For PS3 Servers </h3>
<p />
With the release of the recent PS3 patch (released today), we have a PC dedicated server for for PS3 clients. This is only for PS3 clients, this does not support PC vs PS3 play (mostly because of the differences in the gamerate).
<p />
<!--
The server installer can be downloaded here:
<a href="http://www.epicgames.com/download/PCDedicatedServerForPS3_120.zip" target="_top">http://www.epicgames.com/download/PCDedicatedServerForPS3_120.zip</a>
 -->
<p />
Instructions:
<p />
First, install the dedicated server (the default installation directory is the same as the PC dedicated server, so you will want to change the directory if you have the PC dedicated server installed)
<p />
Since this server runs in the PS3 GameSpy<sup>?</sup> namespace, you will need to create a PS3 namespace GameSpy<sup>?</sup> account. It can be the same username as your PC GameSpy<sup>?</sup> account, but they will be separate accounts. To do that, run the CreateAccount<sup>?</sup>.bat file:
<p />
<pre>
CreateAccount.bat MyUserName MyPassword MyEmailAddr
</pre>
<p />
From a commandline, run the following:
<p />
<pre>
utgame server &#60;map?option?option&#62; -seekfreeloading -login&#61;MyUserName -password&#61;MyEmailAddr
</pre>
<p />
Of course, be sure to set the the map, options, and GameSpy<sup>?</sup> info as normal. Note that it's utgame.exe, <em>not</em> ut3.exe, and you <em>need</em> the -seekfreeloading option.
<p />
The server will now show up (as MyUserName<sup>?</sup>) in the PS3 server browser.
<p />
NOTE: Package downloading will not work, so this is really just for straight-up shipped maps, mutators, etc. There will probably be too many incompatibilities between maps/mods cooked for PS3 vs PC, and the PS3 would need to have installed the mod by hand, but if you try it put a password on the server so we there aren't too many PS3 clients connecting to problematic issues. Adding mods to a PC DS for PS3 is not a supported operation.
<p />
<p />
<h2><a name="Admin Commands"></a> Admin Commands </h2>
<p />
These commands allow the server operator to manage the server remotely. Once logged into the server, the admin will be able to kick and ban trouble players.
<p />
<pre>
?AdminPassword&#61;&#60;password&#62;: Append to the end of the command line argument to start the server.
</pre>
<p />
Example:
<p />
<pre>
ut3 server DM-Deck?numplay&#61;8?maxplayers&#61;8?timelimit&#61;20?goalsc ore&#61;40?botskill&#61;3?AdminPassword&#61;FakeAdminPW -login&#61;FakeUser -password&#61;FakePassword
</pre>
<p />
<p />
When a player is logged into the server, they can access Admin commands by bringing down the Console by pressing the <em>~</em> (tilde) key and typing:
<p />
<pre>
AdminLogin &#60;password&#62;
</pre>
<p />
Example:
<p />
<pre>
AdminLogin FakeAdminPW
</pre>
<p />
<p />
To logout of Admin mode bring down the console and type:
<p />
<pre>
AdminLogout &#60;password&#62;
</pre>
<p />
Example:
<p />
<pre>
AdminLogout FakeAdminPW
</pre>
<p />
<p />
To kick a player while Admin on server type:
<p />
<pre>
Adminkick &#60;playername&#62;
</pre>
<p />
Example:
<p />
<pre>
Adminkick AnnoyingPlayer
</pre>
<p />
<p />
To kick and ban a player while Admin on server type:
<p />
<pre>
Adminkickban &#60;playername&#62;
</pre>
<p />
Example:
<p />
<pre>
Adminkickban OffensivePlayer
</pre>
<p />
<p />
Removing a restriction on a banned player can be done by modifying the utgame.ini file for the server. This is stored by default in the following location:
<p />
<pre>
C:\Documents and Settings\&#60;Windows User Name&#62;\My Documents\My Games\Unreal Tournament 3 Demo\UTGame\Config.
</pre>
<p />
<p />
To change the map the server is playing while Admin type:
<p />
<pre>
Adminchangemap &#60;mapname&#62;
</pre>
<p />
Example:
<p />
<pre>
Adminchangemap DM-Deck
</pre>
<p />
<p />
Note that the goal and time limits will persist from the arguments used in the commandline when starting the server. This can lead to problems where a reasonable VCTF score limit of 3 will translate to a frag limit of 3 when when switching gametypes this way. Leaving those limits blank when starting the server will however use the defaults for the gametype. This allows some flexibility in switching gametypes using this command.
<p />
<p />
<h2><a name="Web Admin"></a> Web Admin </h2>
<p />
A separate web admin application has been created - separate from the core game patch to permit faster iteration and updates to this critical feature.
<p />
You can download the latest web admin patch here: <a href="http://www.epicgames.com/download/WebAdminPatch.zip" target="_top">http://www.epicgames.com/download/WebAdminPatch.zip</a>
<p />
NOTE: Be sure that the latest patch is installed!
<p />
Follow these steps to install:
1. Extract the contents of the WebAdminPatch<sup>?</sup>.zip archive into the root folder of your UT3 server installation. Be sure to preserve the folder structure contained within the archive file.
<p />
2. Start your server. This will create a new configuration file in your /UTGame/Config/ folder: UTWeb.ini
<p />
3. Shut down your server.
<p />
4. Open /UTGame/Config/UTWeb.ini in a text editor.
<p />
5. Make the following changes to the file, setting the webserver port to whatever you desire (default is 80):
<pre>
    &#91;UWeb.WebServer]
    ListenPort&#61;80
    bEnabled&#61;true
</pre>
<p />
6. Save this file, restart your UT3 server. This will create a new configuration file in your /UTGame/Config/ folder: UTWebAdmin<sup>?</sup>.ini
<p />
7. Shut down your server.
<p />
8. Open /UTGame/Config/UTWebAdmin.ini in a text editor.
<p />
9 Make the following optionsal changes to the file:
<pre>
    &#91;WebAdmin.WebAdmin]
    bHttpAuth&#61;true

    &#91;WebAdmin.BasicWebAdminAuth]
    RequireUsername&#61;Admin
</pre>
<p />
You don't have to set bHttpAuth to true. When you leave it to false you get a nice log in form and the ability to remember authentication information (for 1 month). With bHttpAuth set to true the web admin will use "basic" http authentication (like the previous versions of the
webadmin).
<p />
The RequireUsername<sup>?</sup> setting is also optional, when it's left blank any username is accepted. This way multiple admins can log in on the server using different names. The log in name is also used as nickname during chat.
<p />
10. Save the file, restart your UT3 server.
<p />
11. Test Web Admin functionality by opening a web browser and pointing it to your server IP address.  If you changed the default port then specify the port in the URL.
<p />
12. Login using the following info:
  - username: Admin
  - password: [YourServerAdminPassword]
<p />
<p />
<h2><a name="Benchmarking"></a> Benchmarking </h2>
<p />
<h3><a name="Demo"></a> Demo </h3>
<p />
Unlike the full game, the demo does not contain demo recording functionality. But not all hope is lost for benchmarking as most maps in Unreal Tournament 3 have a flyby that can be used to benchmark GPU performance of static geometry. This means there are no weapon FX and AI overhead, but at least it's something
<p />
Below is the commandline that we use for this purpose:
<p />
<pre>
MAPNAME?causeevent&#61;FlyThrough?quickstart&#61;1?nocusto mchars&#61;1?numplay&#61;0 -seconds&#61;300 -unattended -novsync -fixedseed -CaptureFPSChartInfo -nomoviestartup
</pre>
<p />
You may want to remove the "-CaptureFPSChartInfo" if you want to use an external capture application. By default data is written to the Stats folder in your My Documents folder.
<p />
Additionally, you will want to modify UTEngine.ini and set <code>bSmoothFrameRate</code> from TRUE to FALSE to disable frame-rate smoothing/limiting, as follows:
<p />
<pre>
&#91;Engine.GameEngine]
bSmoothFrameRate&#61;TRUE
</pre>
<p />
Another form of benchmarking is to run botmatches as a spectator, though the variance between runs is fairly high, so this is mostly good for broader comparisons and trending. Having said that, it does fully test your system the way that playing against bots would and also stresses the GPU via weapon effects, player models and such.
<p />
The commandline that we use for this purpose is
<p />
<pre>
MAPNAME?numplay&#61;12?timelimit&#61;5?automatedperftestin g&#61;1 -unattended -novsync -fixedseed -CaptureFPSChartInfo -nomoviestartup
</pre>
<p />
The results of the benchmarking will be put in the following location in the form of a HTML page per level, with newer runs at the top:
<p />
<pre>
My Documents\My Games\Unreal Tournament 3 Demo\UTGame\Stats
</pre>
<p />
<p />
<p />
<p />
<p />
<p />


<!-- BEGIN UE4 NOTICE -->



<div id="version_message" style="display:none;">

    <div style="position:fixed;top:0px;left:0px;width:100%;height:100%;background:#000;opacity:0.5;">

    </div>

    <div style="position:fixed;top:50%;left:50%;margin:-70px 0px 0px -240px;background:#FFF;border-radius:6px;width:480px;box-shadow:0px 5px 30px -5px rgba(0,0,0,0.9);">

        <div style="font-size:16px;font-weight:bold;background: url(rsrc/Three/warning.png) no-repeat scroll 5px 5px;padding:4px 10px 5px 25px;height:21px;width:440px;">

            Important!

        </div>

        <div style="font-size:11px;padding:5px 10px 10px;width:460px;">

            <p>You are viewing documentation for the <strong>Unreal Development Kit (UDK)</strong>.</p>



            <p>If you are looking for the Unreal Engine 4 documentation, please visit the <a style="color:#000;" href="https://docs.unrealengine.com">Unreal Engine 4 Documentation</a> site.</p>

        </div>

        <div style="height:20px;padding:4px;margin:6px;border-top:1px solid #a0a0a0;">

            <form onsubmit="return closeVersionMessage();">

                <input type="checkbox" id="dismiss" value="dismiss" />

                <label for="dsimiss">Don't show me this again</label>

                <input type="submit" value="Close" style="cursor:pointer;float:right;width:60px;color:#f0f0f0;font-weight:bold;background:#882222;height:24px;padding:2px 3px 3px;text-align:center;border:1px outset #000;" />

            </form>

        </div>

    </div>

</div>



<script type="text/javascript">

    window.onload = function () {

        LoadVersionMessage();

    }



    function LoadVersionMessage()

    {

        var showMessage = "false";
        if(showMessage != "false")

        {

            showVersionMessage();

        }

    }



    function showVersionMessage()

    {

        var message = document.getElementById("version_message");

        if(message)

        {

            message.style.display = "block";

        }

    }



    function closeVersionMessage() {

        var dismiss = document.getElementById("dismiss");

        var message = document.getElementById("version_message");

        if (message) {

            message.style.display = "none";

        }

        if (dismiss.checked) {

            eraseCookie("doc_version_message");

            createCookie("doc_version_message", "false", 365);

            dismiss.checked = false;

        }

        return false;

    }



    function createCookie(name, value, days) {

        if (days) {

            var date = new Date();

            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));

            var expires = "; expires=" + date.toGMTString();

        }

        else var expires = "";

        document.cookie = name + "=" + value + expires + "; path=/";

    }



    function readCookie(name) {

        var nameEQ = name + "=";

        var ca = document.cookie.split(';');

        for (var i = 0; i < ca.length; i++) {

            var c = ca[i];

            while (c.charAt(0) == ' ') c = c.substring(1, c.length);

            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);

        }

        return null;

    }



    function eraseCookie(name) {

        createCookie(name, "", -1);

    }

</script>



<!-- END UE4 NOTICE -->



</div></div><div id="footer"><div style="BACKGROUND-COLOR: transparent; margin: 0; padding: 0; width: 100%;"><div>&nbsp;</div><div style="float: left; text-align: left; vertical-align: bottom; width: 50%;"><a href="http://www.videogamevoters.org"><img src="rsrc/vgvn.jpg" border="0" width="234" height="60" alt="Video Game Voters Network" /></a></div><div style="float: right; text-align: right; vertical-align: bottom; width: 50%;">Copyright &copy; 2001-2012 <a href="http://www.epicgames.com" target="_top">Epic Games, Inc.</a><br /><a href="../Main/TermsAndConditions.html" class="twikiLink">Terms and Conditions</a><br /><a href="http://epicgames.com/privacynotice" target="_top">Privacy Notice</a></div></div></div></div>
<p />
</html></body>
