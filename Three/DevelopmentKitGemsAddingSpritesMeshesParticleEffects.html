<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title> UDK | DevelopmentKitGemsAddingSpritesMeshesParticleEffects    </title>

<style type="text/css" media="all">@import "rsrc/twiki_webs.css";</style>
<style type="text/css" media="all">@import "rsrc/udn_new.css";</style>
<link rel="icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />


<!-- view.static_udn3.tmpl  -->
<script language="JavaScript" type="text/javascript" src="rsrc/udn.js"></script>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

</head>
<p />
<body id="webbgThree">
<p />

<p />
<div id="webThree"><div id="head">
<!--
<div class="header">
 -->
<div style="background: url(/pub/webbg_udn.jpg); background-repeat: no-repeat; height:140px; width: 100%;" >
<!--
<div style="background: transparent url(/pub/udn_header_bg.jpg); background-repeat: repeat-x; height:140px; width: 100%; margin-left: 991px;">
 -->
<p />
<div id="nav">
<ul class="nav">
<font color=black>|</font>&nbsp;&nbsp;<li class=nav_Three><a href="../Main/WebHome.html" class="twikiLink">Main</a></li><font color=black>|</font><li class=nav_Three><a href="../Two/WebHome.html" class="twikiLink">UnrealEngine2</a></li><font color=black>|</font><li class=nav_Three><a href="WebHome.html" class="twikiLink">UnrealEngine3</a></li><font color=black>|</font><li class=nav_Three><a href="https://docs.unrealengine.com" class="twikiLink">UnrealEngine4</a></li><font color=black>|</font><li class=nav_Three><a href="../Main/BusinessAndLegal.html" class="twikiLink">Business &amp; Legal</a></li><font color=black>|</font>
</ul><br><br><br>
</div>
</div>
</div> <!-- end head -->
<div id="pagedefault">
<div id="maincol">
<div id="tool">
<div id="tooltop">UDN</div>
<div id="tooltext" style="padding: 10px 10px 10px 10px;">
Search public documentation: <br>
<form ACTION="/search/index.php" METHOD="GET" NAME="main" ID="main">
<input TYPE="TEXT" NAME="q" SIZE="15" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;">
<input TYPE="SUBMIT" VALUE="Search" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;"><br>
</form>
</div>
<div id="toolband">DevelopmentKitGemsAddingSpritesMeshesParticleEffects  </b></div>
<div id="tooltext">
<a href="DevelopmentKitGemsAddingSpritesMeshesParticleEffectsJP.html" class="twikiLink">日本語訳</a><br><a href="DevelopmentKitGemsAddingSpritesMeshesParticleEffectsCH.html" class="twikiLink">中国翻译</a><br><a href="DevelopmentKitGemsAddingSpritesMeshesParticleEffectsKR.html" class="twikiLink">한국어</a><br>

<!-- Three/DevelopmentKitGemsAddingSpritesMeshesParticleEffects -->
<hr size="1" noshade="noshade" />
Interested in the Unreal Engine? <br>
Visit the <a href="http://www.unrealtechnology.com" target="_top">Unreal Technology</a> site.<br>
<br>
Looking for jobs and company info? <br>
Check out the <a href="http://www.epicgames.com" target="_top">Epic games</a> site.<br>
<br>
Questions about support via UDN? <br>
Contact the <a href="../Main/ContactUDNStaff.html" class="twikiLink">UDN Staff</a> <br>
<br>
</div> <!-- end toolbox content -->
<div id="toolbottom"></div>
</div> <!-- end tool -->
<p />
<noautolink>
<style type="text/css" media="all">@import "rsrc/UDNCSS_test.css";</style>
<div style="padding:0px 0px 0px 4px;font:10px Verdana;">
<b><a href="DevelopmentKitHome.html" class="twikiLink">Unreal Development Kit Home</a></b> &gt; <b><a href="DevelopmentKitGems.html" class="twikiLink">Unreal Development Kit Gems</a></b> &gt; How to add sprites, meshes or particle effects to an actor
</div>
<hr size="1" noshade="noshade">
<p />
<h1><a name="How to add sprites, meshes or particle effects to an actor"></a> How to add sprites, meshes or particle effects to an actor </h1>
<hr size="1" noshade="noshade">
<p />
<strong><em>Last tested against UDK Mar, 2011</em></strong>
<br>
<strong><em>PC and iOS compatible</em></strong>
<p />
<div class="twikiToc"> <ul>
<li> <a href="DevelopmentKitGemsAddingSpritesMeshesParticleEffects.html#How to add sprites, meshes or particle effects to an actor"> How to add sprites, meshes or particle effects to an actor</a> <ul>
<li> <a href="DevelopmentKitGemsAddingSpritesMeshesParticleEffects.html#Overview"> Overview</a> <ul>
<li> <a href="DevelopmentKitGemsAddingSpritesMeshesParticleEffects.html#Related topics"> Related topics</a>
</li></ul>
</li> <li> <a href="DevelopmentKitGemsAddingSpritesMeshesParticleEffects.html#Unrealscript method"> Unrealscript method</a> <ul>
<li> <a href="DevelopmentKitGemsAddingSpritesMeshesParticleEffects.html#Default properties"> Default properties</a>
</li> <li> <a href="DevelopmentKitGemsAddingSpritesMeshesParticleEffects.html#Run time"> Run time </a>
</li> <li> <a href="DevelopmentKitGemsAddingSpritesMeshesParticleEffects.html#Related topics"> Related topics</a>
</li></ul>
</li> <li> <a href="DevelopmentKitGemsAddingSpritesMeshesParticleEffects.html#Unreal Editor method"> Unreal Editor method</a> <ul>
<li> <a href="DevelopmentKitGemsAddingSpritesMeshesParticleEffects.html#Using the _DynamicActorComponent array"> Using the DynamicActorComponent array</a>
</li></ul>
</li> <li> <a href="DevelopmentKitGemsAddingSpritesMeshesParticleEffects.html#Downloads"> Downloads</a>
</li></ul>
</li></ul>
</div>
<p />
<h2><a name="Overview"></a> Overview </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
In Unreal Engine 2, actors could only render one thing. Thus if you wanted an actor to be represented by several meshes or a mixture of a mesh and a particle effect you would have to synchronize multiple actors. Unreal Engine 3 solves this by splitting these tasks out into actor components. Actor components are objects within actors that perform a specific task.
<p />
Thus in order for an actor to render itself as a static mesh, it must add a StaticMeshComponent. Or a SkeletalMeshComponent. Or a SpriteComponent. Or a ParticleSystemComponent. And so forth. However, it doesn't have to be one or the other. You can have as many actor components as you want within an actor, and it's also possible for them to interact with one another.
<p />
This gem will show you how to use actor components within actors.
<p />
<h3><a name="Related topics"></a> Related topics </h3> <ul>
<li> <a href="ActorComponents.html" class="twikiLink">Actor Components</a>
</li> <li> <a href="ActorTicking.html" class="twikiLink">Actor Ticking</a>
</li></ul>
<p />
<h2><a name="Unrealscript method"></a> Unrealscript method </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
Adding actor components in Unrealscript is done in two ways. You can either declare them as sub objects in the default properties or create them during run time. In the following examples, Static Mesh Component was used, however you can replace this with other visual components such as Skeletal Mesh Component, Sprite Component or Particle System Component.
<p />
<h3><a name="Default properties"></a> Default properties </h3>
How to add a static mesh sub object in the default properties within Unrealscript.
<p />
First we declare a static mesh component variable within the class global variable list. This ensures that the class has a reference to the static mesh component defined within the default properties.
<p />
Within the default properties we create a sub object. After the sub object is created within the default properties, it is added to the component array within the actor. All component sub objects should be added to the component array or they won't be used.
<p />
<div class="codetitlebar">
MyActor.uc
</div>
<div class="codesnippet">
<pre>
class MyActor extends Actor;

// Expose to Unrealscript and Unreal Editor
var() StaticMeshComponent StaticMesh;

defaultproperties
{
  // Declare sub object
  Begin Object Class&#61;StaticMeshComponent Name&#61;MyStaticMeshComponent
    StaticMesh&#61;StaticMesh&#39;EditorMeshes.TexPropPlane&#39;
  End Object
  StaticMesh&#61;MyStaticMeshComponent
  Components.Add(MyStaticMeshComponent)
}
</pre>
</div>
<p />
If we wish to redefine a sub object that was previously declared within a parent class, we would do it like so. The only change is that you do not need to declare the class parameter. This is useful when you want to redefine some properties, which in this case a new static mesh definition.
<p />
<div class="codetitlebar">
MySubActor.uc
</div>
<div class="codesnippet">
<pre>
class MySubActor extends MyActor;

defaultproperties
{
  // Redefine sub object
  Begin Object Name&#61;MyStaticMeshComponent
    StaticMesh&#61;StaticMesh&#39;EngineMeshes.Cube&#39;
  End Object
  StaticMesh&#61;MyStaticMeshComponent
  Components.Add(MyStaticMeshComponent)
}
</pre>
</div>
<p />
If you wish to remove a previously declared component from your sub class.
<p />
<div class="codetitlebar">
MySubActor.uc
</div>
<div class="codesnippet">
<pre>
class MySubActor extends MyActor;

defaultproperties
{
  Components.Remove(MyStaticMeshComponent) // Remove a specific actor component
  Components.Empty // Remove all actor components
}
</pre>
</div>
<p />
<h3><a name="Run time"></a> Run time </h3>
How to add a static mesh component in Unrealscript during run time. This can be added in any function and not just in PostBeginPlay. You may need to initialize the actor component or set up some other properties.
<p />
<div class="codetitlebar">
MyActor.uc
</div>
<div class="codesnippet">
<pre>
class MyActor extends Actor;

var() StaticMeshComponent StaticMesh;

function PostBeginPlay()
{
  Super.PostBeginPlay();

  StaticMesh &#61; new () class&#39;StaticMeshComponent&#39;;

  if (StaticMesh !&#61; None)
  {
    StaticMesh.SetStaticMesh(StaticMesh&#39;EngineMeshes.Cube&#39;);
    AttachComponent(StaticMesh);
  }
}

defaultproperties
{
}
</pre>
</div>
<p />
<h3><a name="Related topics"></a> Related topics </h3> <ul>
<li> <a href="ActorComponents.html" class="twikiLink">Actor Components</a>
</li> <li> <a href="UnrealScriptReference.html" class="twikiLink">Unrealscript Reference</a>
</li></ul>
<p />
<h2><a name="Unreal Editor method"></a> Unreal Editor method </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
How to create an editor friendly version. A downside to this version is that actors using this won't be able to visualize what the actor will look like within the editor without running the game. Although this is alleviated by simply running PIE.
<p />
Adding the editinline and instanced variable modified to the primitive component variable declaration does two things. First the editinline variable modifier allows the editor to edit the primitive component within the properties window. Secondly the instanced variable modifier means that the object reference will automatically be recreated when the actor is spawned.
<p />
<div class="codetitlebar">
DynamicActorComponent.uc
</div>
<div class="codesnippet">
<pre>
class DynamicActorComponent extends Actor
   ClassGroup(Common)
   AutoExpandCategories(DynamicActorComponent)
   placeable;

// Expose to Unrealscript and Unreal Editor
var() const EditInline Instanced array&#60;PrimitiveComponent&#62; PrimitiveComponents;

function PostBeginPlay()
{
  local int i;

  // Check the primitive components array to see if we need to add any components into the components array.
  if (PrimitiveComponents.Length &#62; 0)
  {
    for (i &#61; 0; i &#60; PrimitiveComponents.Length; ++i)
    {
      if (PrimitiveComponents&#91;i] !&#61; None)
      {
        AttachComponent(PrimitiveComponents&#91;i]);
      }
    }
  }

  Super.PostBeginPlay();
}

defaultproperties
{
  Begin Object Class&#61;SpriteComponent Name&#61;Sprite
    Sprite&#61;Texture2D&#39;EditorResources.S&#95;Actor&#39;
   HiddenGame&#61;True
   AlwaysLoadOnClient&#61;False
   AlwaysLoadOnServer&#61;False
  End Object
  Components.Add(Sprite)
}
</pre>
</div>
<p />
<h3><a name="Using the _DynamicActorComponent array"></a> Using the DynamicActorComponent array </h3>
Open up the Content Browser and click on the Actor Classes tab. Your new DynamicActorComponent should be within the Common group. Select it.
<p />
<img src="rsrc/Three/DevelopmentKitGemsAddingSpritesMeshesParticleEffects/AddingComponents_0_SelectDynamicActorComponent.jpg" alt="AddingComponents_0_SelectDynamicActorComponent.jpg" width='512' height='512' />
<p />
Make a simple BSP floor within the world. Remember to add a light actor to the world or the scene won't be lit properly.
<p />
<img src="rsrc/Three/DevelopmentKitGemsAddingSpritesMeshesParticleEffects/AddingComponents_1_AddBSPFloor.jpg" alt="AddingComponents_1_AddBSPFloor.jpg" width='900' height='655' />
<p />
Right click within the world viewport where you want to place the dynamic actor component. It will open up the context menu. Select and click "Add DynamicActorComponent Here".
<p />
<img src="rsrc/Three/DevelopmentKitGemsAddingSpritesMeshesParticleEffects/AddingComponents_2_AddDynamicActorComponent.jpg" alt="AddingComponents_2_AddDynamicActorComponent.jpg" width='900' height='655' />
<p />
When it created it will automatically be selected.
<p />
<img src="rsrc/Three/DevelopmentKitGemsAddingSpritesMeshesParticleEffects/AddingComponents_3_AddedDynamicActorComponent.jpg" alt="AddingComponents_3_AddedDynamicActorComponent.jpg" width='900' height='655' />
<p />
Press F4 to open the properties window.
<p />
<img src="rsrc/Three/DevelopmentKitGemsAddingSpritesMeshesParticleEffects/AddingComponents_5_DynamicActorComponentProperties.jpg" alt="AddingComponents_5_DynamicActorComponentProperties.jpg" width='342' height='500' />
<p />
Or, if it isn't selected you always find the actor within the actor list.
<p />
<img src="rsrc/Three/DevelopmentKitGemsAddingSpritesMeshesParticleEffects/AddingComponents_4_SearchForDynamicActorComponent.jpg" alt="AddingComponents_4_SearchForDynamicActorComponent.jpg" width='881' height='538' />
<p />
Click on the green plus symbol within the "Primitive Components" array. This will create a new entry within the array. Then click on the blue down array and select StaticMeshComponent to create a new StaticMeshComponent object.
<p />
<img src="rsrc/Three/DevelopmentKitGemsAddingSpritesMeshesParticleEffects/AddingComponents_6_AddingNewPrimitiveComponent.jpg" alt="AddingComponents_6_AddingNewPrimitiveComponent.jpg" width='532' height='1000' />
<p />
Find and select an interesting static mesh within the Content Browser.
<p />
<img src="rsrc/Three/DevelopmentKitGemsAddingSpritesMeshesParticleEffects/AddingComponents_7_FindAndSelectCoolStaticMesh.jpg" alt="AddingComponents_7_FindAndSelectCoolStaticMesh.jpg" width='512' height='512' />
<p />
Expand the new object definition. And then the Static Mesh Component tab. Press the small green arrow to set the static mesh.
<p />
<img src="rsrc/Three/DevelopmentKitGemsAddingSpritesMeshesParticleEffects/AddingComponents_8_SetStaticMesh.jpg" alt="AddingComponents_8_SetStaticMesh.jpg" width='485' height='508' />
<p />
Start up PIE to visual the actor.
<p />
<img src="rsrc/Three/DevelopmentKitGemsAddingSpritesMeshesParticleEffects/AddingComponents_9_PIE.jpg" alt="AddingComponents_9_PIE.jpg" width='900' height='672' />
<p />
<h2><a name="Downloads"></a> Downloads </h2>
<div style="margin-top:-10px;"><hr size="1" noshade="noshade"></div>
<p /> <ul>
<li> <a href="rsrc/Three/DevelopmentKitGemsAddingSpritesMeshesParticleEffects/DynamicActorComponents.zip" target="_top">Download</a> the content used in the examples above. (DynamicActorComponents.zip)
</li></ul>
<p />
</noautolink>
<p />
<p />
<p />
<p />
<p />
<p />


<!-- BEGIN UE4 NOTICE -->



<div id="version_message" style="display:none;">

    <div style="position:fixed;top:0px;left:0px;width:100%;height:100%;background:#000;opacity:0.5;">

    </div>

    <div style="position:fixed;top:50%;left:50%;margin:-70px 0px 0px -240px;background:#FFF;border-radius:6px;width:480px;box-shadow:0px 5px 30px -5px rgba(0,0,0,0.9);">

        <div style="font-size:16px;font-weight:bold;background: url(rsrc/Three/warning.png) no-repeat scroll 5px 5px;padding:4px 10px 5px 25px;height:21px;width:440px;">

            Important!

        </div>

        <div style="font-size:11px;padding:5px 10px 10px;width:460px;">

            <p>You are viewing documentation for the <strong>Unreal Development Kit (UDK)</strong>.</p>



            <p>If you are looking for the Unreal Engine 4 documentation, please visit the <a style="color:#000;" href="https://docs.unrealengine.com">Unreal Engine 4 Documentation</a> site.</p>

        </div>

        <div style="height:20px;padding:4px;margin:6px;border-top:1px solid #a0a0a0;">

            <form onsubmit="return closeVersionMessage();">

                <input type="checkbox" id="dismiss" value="dismiss" />

                <label for="dsimiss">Don't show me this again</label>

                <input type="submit" value="Close" style="cursor:pointer;float:right;width:60px;color:#f0f0f0;font-weight:bold;background:#882222;height:24px;padding:2px 3px 3px;text-align:center;border:1px outset #000;" />

            </form>

        </div>

    </div>

</div>



<script type="text/javascript">

    window.onload = function () {

        LoadVersionMessage();

    }



    function LoadVersionMessage()

    {

        var showMessage = "false";
        if(showMessage != "false")

        {

            showVersionMessage();

        }

    }



    function showVersionMessage()

    {

        var message = document.getElementById("version_message");

        if(message)

        {

            message.style.display = "block";

        }

    }



    function closeVersionMessage() {

        var dismiss = document.getElementById("dismiss");

        var message = document.getElementById("version_message");

        if (message) {

            message.style.display = "none";

        }

        if (dismiss.checked) {

            eraseCookie("doc_version_message");

            createCookie("doc_version_message", "false", 365);

            dismiss.checked = false;

        }

        return false;

    }



    function createCookie(name, value, days) {

        if (days) {

            var date = new Date();

            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));

            var expires = "; expires=" + date.toGMTString();

        }

        else var expires = "";

        document.cookie = name + "=" + value + expires + "; path=/";

    }



    function readCookie(name) {

        var nameEQ = name + "=";

        var ca = document.cookie.split(';');

        for (var i = 0; i < ca.length; i++) {

            var c = ca[i];

            while (c.charAt(0) == ' ') c = c.substring(1, c.length);

            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);

        }

        return null;

    }



    function eraseCookie(name) {

        createCookie(name, "", -1);

    }

</script>



<!-- END UE4 NOTICE -->



</div></div><div id="footer"><div style="BACKGROUND-COLOR: transparent; margin: 0; padding: 0; width: 100%;"><div>&nbsp;</div><div style="float: left; text-align: left; vertical-align: bottom; width: 50%;"><a href="http://www.videogamevoters.org"><img src="rsrc/vgvn.jpg" border="0" width="234" height="60" alt="Video Game Voters Network" /></a></div><div style="float: right; text-align: right; vertical-align: bottom; width: 50%;">Copyright &copy; 2001-2012 <a href="http://www.epicgames.com" target="_top">Epic Games, Inc.</a><br /><a href="../Main/TermsAndConditions.html" class="twikiLink">Terms and Conditions</a><br /><a href="http://epicgames.com/privacynotice" target="_top">Privacy Notice</a></div></div></div></div>
<p />
</html></body>
