<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title> UDK | PhysicsConstraintReference    </title>

<style type="text/css" media="all">@import "rsrc/twiki_webs.css";</style>
<style type="text/css" media="all">@import "rsrc/udn_new.css";</style>
<link rel="icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="rsrc/Three/WebPreferences/favicon.ico" type="image/x-icon" />


<!-- view.static_udn3.tmpl  -->
<script language="JavaScript" type="text/javascript" src="rsrc/udn.js"></script>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

</head>
<p />
<body id="webbgThree">
<p />

<p />
<div id="webThree"><div id="head">
<!--
<div class="header">
 -->
<div style="background: url(/pub/webbg_udn.jpg); background-repeat: no-repeat; height:140px; width: 100%;" >
<!--
<div style="background: transparent url(/pub/udn_header_bg.jpg); background-repeat: repeat-x; height:140px; width: 100%; margin-left: 991px;">
 -->
<p />
<div id="nav">
<ul class="nav">
<font color=black>|</font>&nbsp;&nbsp;<li class=nav_Three><a href="../Main/WebHome.html" class="twikiLink">Main</a></li><font color=black>|</font><li class=nav_Three><a href="../Two/WebHome.html" class="twikiLink">UnrealEngine2</a></li><font color=black>|</font><li class=nav_Three><a href="WebHome.html" class="twikiLink">UnrealEngine3</a></li><font color=black>|</font><li class=nav_Three><a href="https://docs.unrealengine.com" class="twikiLink">UnrealEngine4</a></li><font color=black>|</font><li class=nav_Three><a href="../Main/BusinessAndLegal.html" class="twikiLink">Business &amp; Legal</a></li><font color=black>|</font>
</ul><br><br><br>
</div>
</div>
</div> <!-- end head -->
<div id="pagedefault">
<div id="maincol">
<div id="tool">
<div id="tooltop">UDN</div>
<div id="tooltext" style="padding: 10px 10px 10px 10px;">
Search public documentation: <br>
<form ACTION="/search/index.php" METHOD="GET" NAME="main" ID="main">
<input TYPE="TEXT" NAME="q" SIZE="15" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;">
<input TYPE="SUBMIT" VALUE="Search" STYLE="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: xx-small;"><br>
</form>
</div>
<div id="toolband">PhysicsConstraintReference  </b></div>
<div id="tooltext">
<a href="PhysicsConstraintReferenceJP.html" class="twikiLink">日本語訳</a><br><a href="PhysicsConstraintReferenceCH.html" class="twikiLink">中国翻译</a><br><a href="PhysicsConstraintReferenceKR.html" class="twikiLink">한국어</a><br>

<!-- Three/PhysicsConstraintReference -->
<hr size="1" noshade="noshade" />
Interested in the Unreal Engine? <br>
Visit the <a href="http://www.unrealtechnology.com" target="_top">Unreal Technology</a> site.<br>
<br>
Looking for jobs and company info? <br>
Check out the <a href="http://www.epicgames.com" target="_top">Epic games</a> site.<br>
<br>
Questions about support via UDN? <br>
Contact the <a href="../Main/ContactUDNStaff.html" class="twikiLink">UDN Staff</a> <br>
<br>
</div> <!-- end toolbox content -->
<div id="toolbottom"></div>
</div> <!-- end tool -->
<p />
<noautolink>
<div style="padding:0px 0px 0px 4px;font:10px Verdana;">
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="PhysicsHome.html" class="twikiLink">Physics</a></b> &gt; PhysX Constraint Reference <br/>
<b><a href="WebHome.html" class="twikiLink">UE3 Home</a></b> &gt; <b><a href="LevelDesignerHome.html" class="twikiLink">Level Designer</a></b> &gt; PhysX Constraint Reference
</div>
<hr size="1" noshade="noshade">
<p />
<h1><a name="PhysX Constraint Reference"></a> PhysX Constraint Reference </h1>
<hr size="1" noshade="noshade">
<p />
<div class="twikiToc"> <ul>
<li> <a href="PhysicsConstraintReference.html#PhysX Constraint Reference"> PhysX Constraint Reference</a> <ul>
<li> <a href="PhysicsConstraintReference.html#Overview"> Overview</a> <ul>
<li> <a href="PhysicsConstraintReference.html#Shared and per-instance settings"> Shared and per-instance settings</a>
</li> <li> <a href="PhysicsConstraintReference.html#Stiffness And Damping"> Stiffness And Damping</a>
</li></ul>
</li> <li> <a href="PhysicsConstraintReference.html#RB_ConstraintSetup"> RB_ConstraintSetup</a> <ul>
<li> <a href="PhysicsConstraintReference.html#General Settings"> General Settings</a>
</li> <li> <a href="PhysicsConstraintReference.html#Linear Settings"> Linear Settings</a>
</li> <li> <a href="PhysicsConstraintReference.html#Angular Settings"> Angular Settings</a>
</li> <li> <a href="PhysicsConstraintReference.html#Pulley Settings"> Pulley Settings</a>
</li></ul>
</li> <li> <a href="PhysicsConstraintReference.html#RB_ConstraintInstance"> RB_ConstraintInstance</a> <ul>
<li> <a href="PhysicsConstraintReference.html#Velocity And Position Drive"> Velocity And Position Drive</a>
</li> <li> <a href="PhysicsConstraintReference.html#Linear Settings"> Linear Settings</a>
</li> <li> <a href="PhysicsConstraintReference.html#Angular Settings"> Angular Settings</a>
</li></ul>
</li> <li> <a href="PhysicsConstraintReference.html#Examples"> Examples</a> <ul>
<li> <a href="PhysicsConstraintReference.html#Ball And Socket"> Ball And Socket</a>
</li> <li> <a href="PhysicsConstraintReference.html#Hinge"> Hinge</a>
</li> <li> <a href="PhysicsConstraintReference.html#Prismatic"> Prismatic</a>
</li> <li> <a href="PhysicsConstraintReference.html#Joint Friction"> Joint Friction</a>
</li> <li> <a href="PhysicsConstraintReference.html#Punch bag"> Punch bag</a>
</li></ul>
</li> <li> <a href="PhysicsConstraintReference.html#Downloads"> Downloads</a>
</li></ul>
</li></ul>
</div>
<p />
<h2><a name="Overview"></a> Overview </h2>
<hr size="1" noshade="noshade">
A constraint is basically another name for a joint. It allows you to connect two rigid bodies together, and also apply limits or forces. Unreal Engine 3 has a very flexible and data-driven constraint system that allows designers to make many different types of joint simple by changing some options. The engine has a few default joint types (ball-and-socket, hinge, prismatic) but they only differ in their settings. You should feel free to start with any joint type and experiment with making your own configurations.
<p />
<h3><a name="Shared and per-instance settings"></a> Shared and per-instance settings </h3>
The settings are divided into two parts - those that are shared by all instances of a particular joint, and those that are unique to each instance. Something like a joint limit will be the same for all instances of a joint for example, but various motor settings may be different on each one. Shared properties are stored in the RB_ConstraintSetup object, whereas per-instance properties are stored in the RB_ConstraintInstance object. In PhAT you can toggle between these with a joint selected by pressing the 'I' key on your keyboard (or pressing the 'i' button on the tool bar).
<p />
<h3><a name="Stiffness And Damping"></a> Stiffness And Damping </h3>
At several places in the constraint you can set a 'stiffness' and 'damping' parameter to control the behavior of a spring. You can think of these settings in the context of a car suspension setup which is made from a spring and an oil piston. The spring controls how much force is generated to bring the object back to its default or equilibrium position, and the damping is like the oil that acts to damp any motion. If you have some stiffness but no damping, then the motion will oscillate back and forth and never come to rest. If you set your damping very high, it can take a long time to reach its equilibrium.
<p />
<h2><a name="RB_ConstraintSetup"></a> RB_ConstraintSetup </h2>
<hr size="1" noshade="noshade">
<p />
<h3><a name="General Settings"></a> General Settings </h3> <ul>
<li> <strong>ConstraintBone1</strong> - In a PhysicsAsset, the name of the first bone that the joint should connect.
</li> <li> <strong>ConstraintBone2</strong> - In a PhysicsAsset, the name of the second bone that the joint should connect.
</li></ul>
<p />
<h3><a name="Linear Settings"></a> Linear Settings </h3>
There are three LinearSetup structures - one for X, Y and Z directions. Each have the following settings:
<p /> <ul>
<li> <strong>bLimited</strong> - If there is a limit on this degree of freedom. If false, linear movement is not limited at all.
</li> <li> <strong>LimitSize</strong> - If <strong>bLimited</strong> is true, how much movement is allowed in this direction. Set this to zero to completely <strong>lock</strong> this degree of freedom.
</li></ul>
<p />
Note that linear limits are actually spherical - so if a direction is not limited to zero ('locked') then it will use the max of the three <strong>LimitSize</strong> values. So if X was 0, Y was 10 and Z was 20, it would be limited to a circle of radius 20 on the YZ plane. If X was 0, Y was 0 and Z was 20, it would be limited to a line along Z which went from +20 to -20.
<p /> <ul>
<li> <strong>bLinearLimitSoft</strong> - By default the linear limits are 'hard'. If you set this to true they are treated as springy instead and you can 'push' into them.
</li> <li> <strong>LinearLimitStiffness</strong> - If <strong>bLinearLimitSoft</strong> is true, this controls the stiffness of the limit spring.
</li> <li> <strong>LinearLimitDamping</strong> - If <strong>bLinearLimitSoft</strong> is true, this controls the damping of the limit spring.
</li> <li> <strong>bLinearBreakable</strong> - If true, this joint can be broken by applying a linear force to it (basically pulling the joint apart).
</li> <li> <strong>LinearBreakThreshold</strong> - If <strong>bLinearBreakable</strong> is true, this is the force that is needed to break the joint.
</li></ul>
<p />
<h3><a name="Angular Settings"></a> Angular Settings </h3>
The angular part of a joint is specified in terms of 'swing' and 'twist'. You can think of swing as a cone around the X axis, and twist as rotation around that axis. In UE3 the cone limit is specified by two angles, so can be an elliptical cone.
<p /> <ul>
<li> <strong>bSwingLimited</strong> - If true, the angle between the two bodies is limited to a cone.
</li> <li> <strong>bTwistLimited</strong> - If true, the twist between the two bodies is limited.
</li> <li> <strong>bSwingLimitSoft</strong> - By default the swing cone limit is 'hard'. If this is set to true it is springy instead and can be pushed into.
</li> <li> <strong>bTwistLimitSoft</strong> - By default the twist limit is 'hard'. If this is set to true it is springy instead and can be pushed into.
</li> <li> <strong>Swing1LimitAngle</strong> - Defines one dimension of the swing limit cone in degrees.
</li> <li> <strong>Swing2LimitAngle</strong> - Defines the other dimension of the swing limit cone in degrees.
</li> <li> <strong>TwistLimitAngle</strong> - Defines the amount of twist that is allowed between the two constrained bodies.
</li> <li> <strong>SwingLimitStiffness</strong> - If <strong>bSwingLimitSoft</strong> is true, this controls the stiffness of the cone.
</li> <li> <strong>SwingLimitDamping</strong> - If <strong>bSwingLimitSoft</strong> is true, this controls the damping of the cone.
</li> <li> <strong>TwistLimitStiffness</strong> - If <strong>bTwistLimitSoft</strong> is true, this controls the stiffness of the twist limit.
</li> <li> <strong>TwistLimitDamping</strong> - If <strong>bTwistLimitSoft</strong> is true, this controls the damping of the twist limit.
</li> <li> <strong>bAngularBreakable</strong> - If true, this joint can be broken by applying a torque to it (basically twisting the joint apart).
</li> <li> <strong>AngularBreakThreshold</strong> - If <strong>bAngularBreakable</strong> is true, this is the torque required to break this joint.
</li></ul>
<p />
<h3><a name="Pulley Settings"></a> Pulley Settings </h3>
A pulley is a special kind of joint that acts like a point on one body is connected by a rope to a point on the other, and that rope also passes through 2 points in space. When using this kind of joint, most other joint settings will have no effect.
<p /> <ul>
<li> <strong>bIsPulley</strong> - If true, this joint will be treated as a pulley type.
</li> <li> <strong>bMaintainMinDistance</strong> - If true, no 'slack' is allowed in the 'ropes' and they are treated a bit like rods instead, so you can push up on one object and the other will be pushed down.
</li> <li> <strong>PulleyRatio</strong> - The gear ratio on the pulley. If its not 1.0, pulling on one side will result in less movement on the other, but with more force.
</li></ul>
<p />
<h2><a name="RB_ConstraintInstance"></a> RB_ConstraintInstance </h2>
<hr size="1" noshade="noshade">
<p />
<h3><a name="Velocity And Position Drive"></a> Velocity And Position Drive </h3>
Unreal Engine 3 provides two ways to drive a joint - Position and Velocity drive. Position drive acts like a spring, where the joint will attempt to reach a given position using the stiffness and damping properties you specify. Velocity drive is like a motor, where you specify the velocity you desire and a maximum force that may be applied to achieve it.
<p />
<h3><a name="Linear Settings"></a> Linear Settings </h3> <ul>
<li> <strong>bLinearXPositionDrive</strong> - Enable position drive on the linear X axis.
</li> <li> <strong>bLinearXVelocityDrive</strong> - Enable velocity drive on the linear X axis.
</li> <li> <strong>bLinearYPositionDrive</strong> - Enable position drive on the linear Y axis.
</li> <li> <strong>bLinearYVelocityDrive</strong> - Enable velocity drive on the linear Y axis.
</li> <li> <strong>bLinearZPositionDrive</strong> - Enable position drive on the linear Z axis.
</li> <li> <strong>bLinearZVelocityDrive</strong> - Enable velocity drive on the linear Z axis.
</li> <li> <strong>LinearPositionTarget</strong> - If linear position drive is enabled, this is the target relative position that the joint will try to achieve.
</li> <li> <strong>LinearVelocityTarget</strong> - If linear velocity drive is enabled, this is the target relative linear velocity that the joint will try to achieve.
</li> <li> <strong>LinearDriveSpring</strong> - If linear position drive is enabled, this is the stiffness of the drive spring.
</li> <li> <strong>LinearDriveDamping</strong> - If linear position drive is enabled, this is the damping of the drive spring.
</li> <li> <strong>LinearDriveForceLimit</strong> - If linear velocity drive is enabled, this is the maximum force that will be applied to attain <strong>LinearVelocityTarget</strong>.
</li></ul>
<p />
<h3><a name="Angular Settings"></a> Angular Settings </h3> <ul>
<li> <strong>bSwingPositionDrive</strong> - Enable position drive on the swing axes.
</li> <li> <strong>bSwingVelocityDrive</strong> - Enable velocity drive on the swing axes.
</li> <li> <strong>bTwistPositionDrive</strong> - Enable position drive around the twist axis.
</li> <li> <strong>bTwistVelocityDrive</strong> - Enable velocity drive around the twist axis.
</li> <li> <strong>bAngularSlerpDrive</strong> - Advanced option. Specifies the method that is used for applying drive to the joint.
</li> <li> <strong>AngularPositionTarget</strong> - If angular position drive is enabled, this is the target relative quaternion that the joint will try to achieve.
</li> <li> <strong>AngularVelocityTarget</strong> - If angular velocity drive is enabled, this is the target relative angular velocity that the joint will try to achieve.
</li> <li> <strong>AngularDriveSpring</strong> - If angular position drive is enabled, this is the stiffness of the drive spring.
</li> <li> <strong>AngularDriveDamping</strong> - If angular position drive is enabled, this is the damping of the drive spring.
</li> <li> <strong>AngularDriveForceLimit</strong> - If angular velocity drive is enabled, this is the maximum torque that will be applied to attain <strong>AngularVelocityTarget</strong>.
</li></ul>
<p />
<h2><a name="Examples"></a> Examples </h2>
<hr size="1" noshade="noshade">
<p />
<h3><a name="Ball And Socket"></a> Ball And Socket </h3>
A ball-and-socket joint is simply a joint that has all its linear parts locked and all its angular parts free.
<p />
<h3><a name="Hinge"></a> Hinge </h3>
A hinge is like a ball-and-socket in that all its linear parts are locked, but its swing parts are also locked, so it can only rotate around its twist axis.
<p />
<h3><a name="Prismatic"></a> Prismatic </h3>
A prismatic joint has 2 out of its 3 linear degrees of freedom locked, and also has all its angular degrees of freedom locked. This allows is to slide down a 'rail' but cannot rotate at all.
<p />
<h3><a name="Joint Friction"></a> Joint Friction </h3>
You can simulate joint friction using the drive settings. Turn on velocity drive with a target velocity of zero, and use the LinearDriveForceLimit and AngularDriveForceLimit settings to control how strongly the joint will resist motion.
<p />
<h3><a name="Punch bag"></a> Punch bag </h3>
You could simulate something like a punch-bag (a ball on the top of a vertical pole that can be knocked around) with a joint by first creating a ball-and-socket joint. Then turn on swing position drive and adjust the <strong>AngularDriveSpring</strong> and <strong>AngularDriveDamping</strong> until it springs nicely around the upright position when pushed. You could turn on swing limits as well to ensure that it cannot bend over too far.
<p />
<h2><a name="Downloads"></a> Downloads </h2>
<hr size="1" noshade="noshade"> <ul>
<li> <a href="rsrc/Three/PhysicsConstraintReference/PhysXConstraintsExample.zip" target="_top">Download</a> the PhysX constraints example.
</li></ul>
<p />
</noautolink>
<p />
<p />
<p />
<p />
<p />
<p />


<!-- BEGIN UE4 NOTICE -->



<div id="version_message" style="display:none;">

    <div style="position:fixed;top:0px;left:0px;width:100%;height:100%;background:#000;opacity:0.5;">

    </div>

    <div style="position:fixed;top:50%;left:50%;margin:-70px 0px 0px -240px;background:#FFF;border-radius:6px;width:480px;box-shadow:0px 5px 30px -5px rgba(0,0,0,0.9);">

        <div style="font-size:16px;font-weight:bold;background: url(rsrc/Three/warning.png) no-repeat scroll 5px 5px;padding:4px 10px 5px 25px;height:21px;width:440px;">

            Important!

        </div>

        <div style="font-size:11px;padding:5px 10px 10px;width:460px;">

            <p>You are viewing documentation for the <strong>Unreal Development Kit (UDK)</strong>.</p>



            <p>If you are looking for the Unreal Engine 4 documentation, please visit the <a style="color:#000;" href="https://docs.unrealengine.com">Unreal Engine 4 Documentation</a> site.</p>

        </div>

        <div style="height:20px;padding:4px;margin:6px;border-top:1px solid #a0a0a0;">

            <form onsubmit="return closeVersionMessage();">

                <input type="checkbox" id="dismiss" value="dismiss" />

                <label for="dsimiss">Don't show me this again</label>

                <input type="submit" value="Close" style="cursor:pointer;float:right;width:60px;color:#f0f0f0;font-weight:bold;background:#882222;height:24px;padding:2px 3px 3px;text-align:center;border:1px outset #000;" />

            </form>

        </div>

    </div>

</div>



<script type="text/javascript">

    window.onload = function () {

        LoadVersionMessage();

    }



    function LoadVersionMessage()

    {

        var showMessage = "false";
        if(showMessage != "false")

        {

            showVersionMessage();

        }

    }



    function showVersionMessage()

    {

        var message = document.getElementById("version_message");

        if(message)

        {

            message.style.display = "block";

        }

    }



    function closeVersionMessage() {

        var dismiss = document.getElementById("dismiss");

        var message = document.getElementById("version_message");

        if (message) {

            message.style.display = "none";

        }

        if (dismiss.checked) {

            eraseCookie("doc_version_message");

            createCookie("doc_version_message", "false", 365);

            dismiss.checked = false;

        }

        return false;

    }



    function createCookie(name, value, days) {

        if (days) {

            var date = new Date();

            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));

            var expires = "; expires=" + date.toGMTString();

        }

        else var expires = "";

        document.cookie = name + "=" + value + expires + "; path=/";

    }



    function readCookie(name) {

        var nameEQ = name + "=";

        var ca = document.cookie.split(';');

        for (var i = 0; i < ca.length; i++) {

            var c = ca[i];

            while (c.charAt(0) == ' ') c = c.substring(1, c.length);

            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);

        }

        return null;

    }



    function eraseCookie(name) {

        createCookie(name, "", -1);

    }

</script>



<!-- END UE4 NOTICE -->



</div></div><div id="footer"><div style="BACKGROUND-COLOR: transparent; margin: 0; padding: 0; width: 100%;"><div>&nbsp;</div><div style="float: left; text-align: left; vertical-align: bottom; width: 50%;"><a href="http://www.videogamevoters.org"><img src="rsrc/vgvn.jpg" border="0" width="234" height="60" alt="Video Game Voters Network" /></a></div><div style="float: right; text-align: right; vertical-align: bottom; width: 50%;">Copyright &copy; 2001-2012 <a href="http://www.epicgames.com" target="_top">Epic Games, Inc.</a><br /><a href="../Main/TermsAndConditions.html" class="twikiLink">Terms and Conditions</a><br /><a href="http://epicgames.com/privacynotice" target="_top">Privacy Notice</a></div></div></div></div>
<p />
</html></body>
